import{r as e}from"./vendor-react-CIu6hTQW.js";const t={swipeThreshold:50,longPressDelay:500,tapTimeout:300,preventScroll:!1},n=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,i=()=>{if(n()&&document.documentElement.classList.add("touch-device"),!document.querySelector('meta[name="viewport"]')){const e=document.createElement("meta");e.name="viewport",e.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no",document.head.appendChild(e)}document.body.style.webkitOverflowScrolling="touch";document.querySelectorAll("input, select, textarea").forEach((e=>{e.style.fontSize="16px"}))},s=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[i,s]=e.useState([]),[o,r]=e.useState({isMobile:!1,isTouch:!1,viewport:{width:0,height:0},isLandscape:!1,userAgent:"",pixelRatio:1});return((n,i={})=>{const s=e.useRef(null),o=e.useMemo((()=>({...t,...i})),[i]),r=e.useRef({startX:0,startY:0,startTime:0,isLongPress:!1,longPressTimer:null,initialDistance:0,lastScale:1});e.useEffect((()=>{const e=s.current;if(!e)return;const t=e=>{o.preventScroll&&e.preventDefault();const t=e.touches[0],i=r.current;if(i.startX=t.clientX,i.startY=t.clientY,i.startTime=Date.now(),i.isLongPress=!1,2===e.touches.length){const t=e.touches[0],n=e.touches[1];i.initialDistance=Math.sqrt(Math.pow(n.clientX-t.clientX,2)+Math.pow(n.clientY-t.clientY,2))}i.longPressTimer=setTimeout((()=>{i.isLongPress=!0,n({type:"longpress",duration:Date.now()-i.startTime})}),o.longPressDelay)},i=e=>{o.preventScroll&&e.preventDefault();const t=r.current;if(t.longPressTimer&&(clearTimeout(t.longPressTimer),t.longPressTimer=null),2===e.touches.length){const i=e.touches[0],s=e.touches[1],o=Math.sqrt(Math.pow(s.clientX-i.clientX,2)+Math.pow(s.clientY-i.clientY,2));if(t.initialDistance>0){const e=o/t.initialDistance;Math.abs(e-t.lastScale)>.1&&(n({type:"pinch",scale:e}),t.lastScale=e)}}},a=e=>{const t=r.current,i=Date.now()-t.startTime;if(t.longPressTimer&&(clearTimeout(t.longPressTimer),t.longPressTimer=null),t.isLongPress)return;const s=e.changedTouches[0],a=s.clientX-t.startX,l=t.startY-s.clientY,c=Math.sqrt(a*a+l*l);if(c<10&&i<o.tapTimeout)n({type:"tap",duration:i});else if(c>o.swipeThreshold){let e;e=Math.abs(a)>Math.abs(l)?a>0?"right":"left":l>0?"down":"up",n({type:"swipe",direction:e,distance:c,duration:i})}};e.addEventListener("touchstart",t,{passive:!o.preventScroll}),e.addEventListener("touchmove",i,{passive:!o.preventScroll}),e.addEventListener("touchend",a,{passive:!0});const l=r.current;return()=>{e.removeEventListener("touchstart",t),e.removeEventListener("touchmove",i),e.removeEventListener("touchend",a),l.longPressTimer&&clearTimeout(l.longPressTimer)}}),[n,o])})((e=>{s((t=>[e,...t.slice(0,9)]))}),{swipeThreshold:30,longPressDelay:500}),e.useEffect((()=>{const e=()=>{r({isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isTouch:n(),viewport:{width:window.innerWidth,height:window.innerHeight},isLandscape:window.innerWidth>window.innerHeight,userAgent:navigator.userAgent,pixelRatio:window.devicePixelRatio||1})};return e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}}),[]),null}},Symbol.toStringTag,{value:"Module"}));export{s as M,i as o};
