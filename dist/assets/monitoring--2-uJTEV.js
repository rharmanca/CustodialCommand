import{i as e,r as n,j as r}from"./vendor-react-hV8bXfgG.js";import{B as s,T as t,C as i,a as l,A as o,b as a,E as c,c as d,G as u,d as h,P as m,e as x,f as j,g as p,h as f,i as v,j as b,L as g,S,W as y,k as P}from"./vendor-mui-CqgPlnRc.js";import{b as z,c as T,s as w,L as $,E as B,S as M,x as C,$ as I}from"./vendor-monitoring-LtSkoazM.js";const L=()=>{e({dsn:"",environment:"production",integrations:[z()],tracesSampleRate:.1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,release:"1.0.0",beforeSend(e){if(e.exception){const n=e.exception.values?.[0];if(n?.value?.includes("ResizeObserver loop limit exceeded"))return null}return e},initialScope:{tags:{component:"custodial-command"}}})},E=(e,n)=>{w(e,n)},O=(e,n="info")=>{T(e,n)};let K={cls:null,fcp:null,inp:null,lcp:null,ttfb:null,bundleSize:null,loadTime:null};const N=e=>{K[e.name]=e.value,E(`performance.${e.name}`,e.value.toString())},R=()=>{if($(N),B(N),M(N),C(N),I(N),_(),k(),"PerformanceObserver"in window){const n=new PerformanceObserver((e=>{e.getEntries().forEach((e=>{e.duration>50&&O(`Long task detected: ${e.duration}ms`,"warning")}))}));try{n.observe({entryTypes:["longtask"]})}catch(e){}if("memory"in performance){const e=performance.memory;E("memory.used",Math.round(e.usedJSHeapSize/1024/1024).toString()),E("memory.total",Math.round(e.totalJSHeapSize/1024/1024).toString())}}},_=()=>{if("PerformanceObserver"in window){const n=new PerformanceObserver((e=>{let n=0;e.getEntries().forEach((e=>{(e.name.includes(".js")||e.name.includes(".css"))&&(n+=e.transferSize||0)})),n>0&&(K.bundleSize=n,E("bundle.size",Math.round(n/1024).toString()))}));try{n.observe({entryTypes:["resource"]})}catch(e){}}},k=()=>{window.addEventListener("load",(()=>{const e=performance.now();K.loadTime=e,E("page.loadTime",Math.round(e).toString())}))},J=({title:e,value:n,unit:o,threshold:a,description:c})=>{const d=()=>null===n?"loading":n<=a?"good":"poor",u=()=>{switch(d()){case"good":return"success";case"poor":return"error";default:return"primary"}};return r.jsx(i,{children:r.jsxs(l,{children:[r.jsxs(s,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1,children:[r.jsx(t,{variant:"h6",component:"div",children:e}),(()=>{switch(d()){case"good":return r.jsx(P,{color:"success"});case"poor":return r.jsx(y,{color:"error"});default:return r.jsx(S,{})}})()]}),r.jsx(t,{variant:"h4",component:"div",color:u(),children:null!==n?`${Math.round(n)}${o}`:"Loading..."}),r.jsx(s,{mt:1,children:r.jsx(b,{label:`Target: ≤${a}${o}`,size:"small",variant:"outlined"})}),r.jsx(t,{variant:"body2",color:"text.secondary",mt:1,children:c}),null!==n&&r.jsx(s,{mt:2,children:r.jsx(g,{variant:"determinate",value:Math.min(n/a*100,100),color:u()})})]})})},V=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[e,b]=n.useState({cls:null,fcp:null,inp:null,lcp:null,ttfb:null,bundleSize:null,loadTime:null}),[g,S]=n.useState([]);n.useEffect((()=>{const e=setInterval((()=>{const e={...K};b(e);const n=(()=>{const e=2500,n=100,r=.1,s=512e3,t=[];return K.lcp&&K.lcp>e&&t.push(`LCP: ${K.lcp}ms > ${e}ms`),K.inp&&K.inp>n&&t.push(`INP: ${K.inp}ms > ${n}ms`),K.cls&&K.cls>r&&t.push(`CLS: ${K.cls} > ${r}`),K.bundleSize&&K.bundleSize>s&&t.push(`Bundle: ${Math.round(K.bundleSize/1024)}KB > ${s/1024}KB`),t.length>0&&O(`Performance budget violations: ${t.join(", ")}`,"warning"),t})();S(n)}),2e3);return()=>clearInterval(e)}),[]);const y=[{title:"Largest Contentful Paint",value:e.lcp,unit:"ms",threshold:2500,description:"Time until the largest content element is rendered"},{title:"Interaction to Next Paint",value:e.inp,unit:"ms",threshold:200,description:"Time from user interaction to visual response"},{title:"Cumulative Layout Shift",value:e.cls?1e3*e.cls:null,unit:"",threshold:100,description:"Visual stability - how much content shifts during load"}],P=[{title:"First Contentful Paint",value:e.fcp,unit:"ms",threshold:1800,description:"Time until first content is painted"},{title:"Time to First Byte",value:e.ttfb,unit:"ms",threshold:800,description:"Time until first byte is received from server"},{title:"Bundle Size",value:e.bundleSize?e.bundleSize/1024:null,unit:"KB",threshold:500,description:"Total size of JavaScript and CSS bundles"}];return r.jsxs(s,{p:3,children:[r.jsx(t,{variant:"h4",gutterBottom:!0,children:"Performance Dashboard"}),g.length>0&&r.jsx(i,{sx:{mb:3,bgcolor:"error.light"},children:r.jsxs(l,{children:[r.jsx(t,{variant:"h6",color:"error",children:"Performance Budget Violations"}),g.map(((e,n)=>r.jsxs(t,{variant:"body2",color:"error",children:["• ",e]},n)))]})}),r.jsxs(o,{defaultExpanded:!0,children:[r.jsx(a,{expandIcon:r.jsx(c,{}),children:r.jsx(t,{variant:"h6",children:"Core Web Vitals"})}),r.jsx(d,{children:r.jsx(u,{container:!0,spacing:3,children:y.map(((e,n)=>r.jsx(u,{item:!0,xs:12,md:4,children:r.jsx(J,{...e})},n)))})})]}),r.jsxs(o,{children:[r.jsx(a,{expandIcon:r.jsx(c,{}),children:r.jsx(t,{variant:"h6",children:"Additional Metrics"})}),r.jsx(d,{children:r.jsx(u,{container:!0,spacing:3,children:P.map(((e,n)=>r.jsx(u,{item:!0,xs:12,md:4,children:r.jsx(J,{...e})},n)))})})]}),r.jsxs(o,{children:[r.jsx(a,{expandIcon:r.jsx(c,{}),children:r.jsx(t,{variant:"h6",children:"Performance Thresholds"})}),r.jsx(d,{children:r.jsx(h,{component:m,children:r.jsxs(x,{children:[r.jsx(j,{children:r.jsxs(p,{children:[r.jsx(f,{children:"Metric"}),r.jsx(f,{children:"Good"}),r.jsx(f,{children:"Needs Improvement"}),r.jsx(f,{children:"Poor"})]})}),r.jsxs(v,{children:[r.jsxs(p,{children:[r.jsx(f,{children:"LCP"}),r.jsx(f,{children:"≤ 2.5s"}),r.jsx(f,{children:"2.5s - 4.0s"}),r.jsx(f,{children:"> 4.0s"})]}),r.jsxs(p,{children:[r.jsx(f,{children:"INP"}),r.jsx(f,{children:"≤ 200ms"}),r.jsx(f,{children:"200ms - 500ms"}),r.jsx(f,{children:"> 500ms"})]}),r.jsxs(p,{children:[r.jsx(f,{children:"CLS"}),r.jsx(f,{children:"≤ 0.1"}),r.jsx(f,{children:"0.1 - 0.25"}),r.jsx(f,{children:"> 0.25"})]}),r.jsxs(p,{children:[r.jsx(f,{children:"Bundle Size"}),r.jsx(f,{children:"≤ 500KB"}),r.jsx(f,{children:"500KB - 1MB"}),r.jsx(f,{children:"> 1MB"})]})]})]})})})]})]})}},Symbol.toStringTag,{value:"Module"}));export{V as P,R as a,L as i};
