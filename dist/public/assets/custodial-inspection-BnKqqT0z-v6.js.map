{"version":3,"file":"custodial-inspection-BnKqqT0z-v6.js","sources":["../../../node_modules/lucide-react/dist/esm/icons/house.js","../../../src/utils/imageCompression.ts","../../../src/components/ui/breadcrumb.tsx","../../../src/pages/custodial-inspection.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst House = createLucideIcon(\"House\", [\n  [\"path\", { d: \"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8\", key: \"5wwlr5\" }],\n  [\n    \"path\",\n    {\n      d: \"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\",\n      key: \"1d0kgt\"\n    }\n  ]\n]);\n\nexport { House as default };\n//# sourceMappingURL=house.js.map\n","/**\n * Image compression utility for optimizing file sizes before upload\n */\n\nexport interface CompressionOptions {\n  maxWidth?: number;\n  maxHeight?: number;\n  quality?: number;\n  maxSizeKB?: number;\n}\n\nexport interface CompressionResult {\n  compressedFile: File;\n  originalSize: number;\n  compressedSize: number;\n  compressionRatio: number;\n}\n\n/**\n * Compress an image file to reduce its size\n */\nexport async function compressImage(\n  file: File,\n  options: CompressionOptions = {}\n): Promise<CompressionResult> {\n  const {\n    maxWidth = 1920,\n    maxHeight = 1080,\n    quality = 0.8,\n    maxSizeKB = 500\n  } = options;\n\n  return new Promise((resolve, reject) => {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    const img = new Image();\n\n    img.onload = () => {\n      // Calculate new dimensions while maintaining aspect ratio\n      let { width, height } = img;\n      \n      if (width > maxWidth || height > maxHeight) {\n        const ratio = Math.min(maxWidth / width, maxHeight / height);\n        width = width * ratio;\n        height = height * ratio;\n      }\n\n      canvas.width = width;\n      canvas.height = height;\n\n      // Draw and compress\n      ctx?.drawImage(img, 0, 0, width, height);\n      \n      // Try different quality levels if file is still too large\n      let currentQuality = quality;\n      const tryCompress = () => {\n        canvas.toBlob(\n          (blob) => {\n            if (!blob) {\n              reject(new Error('Failed to compress image'));\n              return;\n            }\n\n            const sizeKB = blob.size / 1024;\n            \n            if (sizeKB > maxSizeKB && currentQuality > 0.1) {\n              // Reduce quality and try again\n              currentQuality -= 0.1;\n              tryCompress();\n            } else {\n              // Create new file with compressed data\n              const compressedFile = new File([blob], file.name, {\n                type: 'image/jpeg',\n                lastModified: Date.now()\n              });\n\n              resolve({\n                compressedFile,\n                originalSize: file.size,\n                compressedSize: blob.size,\n                compressionRatio: (file.size - blob.size) / file.size\n              });\n            }\n          },\n          'image/jpeg',\n          currentQuality\n        );\n      };\n\n      tryCompress();\n    };\n\n    img.onerror = () => reject(new Error('Failed to load image'));\n    img.src = URL.createObjectURL(file);\n  });\n}\n\n/**\n * Compress multiple images in parallel\n */\nexport async function compressImages(\n  files: File[],\n  options?: CompressionOptions\n): Promise<CompressionResult[]> {\n  const compressionPromises = files.map(file => compressImage(file, options));\n  return Promise.all(compressionPromises);\n}\n\n/**\n * Check if image needs compression\n */\nexport function needsCompression(file: File, maxSizeKB: number = 500): boolean {\n  return file.size / 1024 > maxSizeKB;\n}\n\n/**\n * Get file size in human readable format\n */\nexport function formatFileSize(bytes: number): string {\n  if (bytes === 0) return '0 Bytes';\n  \n  const k = 1024;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  \n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n}\n","import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","import { useState, useEffect } from 'react';\nimport { saveDraft, loadDraft, clearDraft, STORAGE_KEYS, migrateLegacyDrafts, processImageForStorage, getStorageStats } from '@/utils/storage';\nimport { compressImage, needsCompression, formatFileSize } from '@/utils/imageCompression';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Badge } from '@/components/ui/badge';\n\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from '@/components/ui/dialog';\nimport { CollapsibleSection } from '@/components/ui/collapsible-section';\nimport { Breadcrumb, BreadcrumbList, BreadcrumbItem, BreadcrumbLink, BreadcrumbSeparator, BreadcrumbPage } from '@/components/ui/breadcrumb';\nimport { Star, Upload, Camera, X, Save, Clock, Home } from 'lucide-react';\nimport { useIsMobile } from '@/hooks/use-mobile';\nimport { useToast } from '@/hooks/use-toast';\nimport { ratingDescriptions, inspectionCategories } from '../../shared/custodial-criteria';\n\ninterface CustodialInspectionPageProps {\n  onBack?: () => void;\n}\n\nexport default function CustodialInspectionPage({ onBack }: CustodialInspectionPageProps) {\n  const { isMobile } = useIsMobile();\n  const { toast } = useToast();\n  const [formData, setFormData] = useState({\n    school: '',\n    date: '',\n    inspectionType: 'single_room',\n    locationDescription: '',\n    roomNumber: '',\n    locationCategory: '',\n    floors: 0,\n    verticalHorizontalSurfaces: 0,\n    ceiling: 0,\n    restrooms: 0,\n    customerSatisfaction: 0,\n    trash: 0,\n    projectCleaning: 0,\n    activitySupport: 0,\n    safetyCompliance: 0,\n    equipment: 0,\n    monitoring: 0,\n    notes: '',\n    images: [] as string[]\n  });\n\n  const [showResumeDialog, setShowResumeDialog] = useState(false);\n  const [draftInspections, setDraftInspections] = useState<any[]>([]);\n  const [currentDraftId, setCurrentDraftId] = useState<string | null>(null);\n  const [lastSaved, setLastSaved] = useState<Date | null>(null);\n  const [isAutoSaving, setIsAutoSaving] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  // School options\n  const schoolOptions = [\n    { value: 'ASA', label: 'ASA' },\n    { value: 'LCA', label: 'LCA' },\n    { value: 'GWC', label: 'GWC' },\n    { value: 'OA', label: 'OA' },\n    { value: 'CBR', label: 'CBR' },\n    { value: 'WLC', label: 'WLC' }\n  ];\n\n  // Location category options\n  const locationCategoryOptions = [\n    { value: 'exterior', label: 'Exterior' },\n    { value: 'gym_bleachers', label: 'Gym and Bleachers' },\n    { value: 'classroom', label: 'Classroom' },\n    { value: 'cafeteria', label: 'Cafeteria' },\n    { value: 'utility_storage', label: 'Utility Or Storage' },\n    { value: 'admin_office', label: 'Admin or Office Area' },\n    { value: 'hallway', label: 'Hallway' },\n    { value: 'stairwell', label: 'Stairwell' },\n    { value: 'restroom', label: 'Restroom' },\n    { value: 'staff_single_restroom', label: 'Staff or Single Restroom' }\n  ];\n\n  const [selectedImages, setSelectedImages] = useState<File[]>([]);\n\n  // Load existing drafts on component mount and migrate legacy storage\n  useEffect(() => {\n    migrateLegacyDrafts();\n    loadDraftInspections();\n    \n    // Log storage stats for debugging\n    const stats = getStorageStats();\n    console.log('Storage stats:', stats);\n  }, []);\n\n  // Auto-save functionality\n  useEffect(() => {\n    if (currentDraftId) {\n      const timeoutId = setTimeout(() => {\n        saveDraftData();\n      }, 2000); // Auto-save after 2 seconds of inactivity\n\n      return () => clearTimeout(timeoutId);\n    }\n  }, [formData, selectedImages, currentDraftId]);\n\n  const loadDraftInspections = () => {\n    try {\n      // Try to load from optimized storage first\n      const draftData = loadDraft(STORAGE_KEYS.DRAFT_INSPECTION);\n      if (draftData) {\n        setDraftInspections([draftData]);\n        setShowResumeDialog(true);\n      }\n      \n      // Also check for any legacy drafts and show them\n      const legacyDrafts = localStorage.getItem('custodial_inspection_drafts');\n      if (legacyDrafts && !draftData) {\n        const drafts = JSON.parse(legacyDrafts);\n        const validDrafts = drafts.filter((draft: any) => {\n          const draftDate = new Date(draft.lastModified);\n          const weekAgo = new Date();\n          weekAgo.setDate(weekAgo.getDate() - 7);\n          return draftDate > weekAgo;\n        });\n        \n        if (validDrafts.length > 0) {\n          setDraftInspections(validDrafts);\n          setShowResumeDialog(true);\n        }\n      }\n    } catch (error) {\n      console.error('Error loading draft inspections:', error);\n    }\n  };\n\n  const generateDraftId = () => {\n    return `draft_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n  };\n\n  const saveDraftData = async () => {\n    if (!formData.school || !formData.date) {\n      return; // Don't save empty drafts\n    }\n\n    setIsAutoSaving(true);\n    try {\n      const draftId = currentDraftId || generateDraftId();\n      if (!currentDraftId) {\n        setCurrentDraftId(draftId);\n      }\n\n      // Process images with compression for optimized storage\n      const imageData: string[] = [];\n      for (const file of selectedImages) {\n        try {\n          const processedImage = await processImageForStorage(file);\n          imageData.push(processedImage);\n        } catch (error) {\n          console.error('Failed to process image:', error);\n          // Skip the problematic image rather than failing completely\n        }\n      }\n\n      const draftData = {\n        id: draftId,\n        ...formData,\n        selectedImages: imageData,\n        lastModified: new Date().toISOString(),\n        title: `${formData.school} - ${formData.roomNumber || 'Room'} - ${formData.locationCategory || 'Inspection'}`\n      };\n\n      // Use optimized storage system\n      saveDraft(STORAGE_KEYS.DRAFT_INSPECTION, draftData);\n      setLastSaved(new Date());\n    } catch (error) {\n      console.error('Error saving draft:', error);\n    } finally {\n      setIsAutoSaving(false);\n    }\n  };\n\n  const loadDraftData = (draft: any) => {\n    setFormData({\n      school: draft.school || '',\n      date: draft.date || '',\n      inspectionType: draft.inspectionType || 'single_room',\n      locationDescription: draft.locationDescription || '',\n      roomNumber: draft.roomNumber || '',\n      locationCategory: draft.locationCategory || '',\n      floors: draft.floors || 0,\n      verticalHorizontalSurfaces: draft.verticalHorizontalSurfaces || 0,\n      ceiling: draft.ceiling || 0,\n      restrooms: draft.restrooms || 0,\n      customerSatisfaction: draft.customerSatisfaction || 0,\n      trash: draft.trash || 0,\n      projectCleaning: draft.projectCleaning || 0,\n      activitySupport: draft.activitySupport || 0,\n      safetyCompliance: draft.safetyCompliance || 0,\n      equipment: draft.equipment || 0,\n      monitoring: draft.monitoring || 0,\n      notes: draft.notes || '',\n      images: []\n    });\n\n    // Load images from base64\n    if (draft.selectedImages && draft.selectedImages.length > 0) {\n      const imageFiles = draft.selectedImages.map((base64: string, index: number) => {\n        const byteCharacters = atob(base64.split(',')[1]);\n        const byteNumbers = new Array(byteCharacters.length);\n        for (let i = 0; i < byteCharacters.length; i++) {\n          byteNumbers[i] = byteCharacters.charCodeAt(i);\n        }\n        const byteArray = new Uint8Array(byteNumbers);\n        return new File([byteArray], `image_${index}.jpg`, { type: 'image/jpeg' });\n      });\n      setSelectedImages(imageFiles);\n    }\n\n    setCurrentDraftId(draft.id);\n    setShowResumeDialog(false);\n  };\n\n  const deleteDraft = (draftId: string) => {\n    // Clear from optimized storage\n    clearDraft(STORAGE_KEYS.DRAFT_INSPECTION);\n    \n    // Also clean up any legacy storage entries\n    const existingDrafts = JSON.parse(localStorage.getItem('custodial_inspection_drafts') || '[]');\n    const updatedDrafts = existingDrafts.filter((d: any) => d.id !== draftId);\n    if (updatedDrafts.length !== existingDrafts.length) {\n      localStorage.setItem('custodial_inspection_drafts', JSON.stringify(updatedDrafts));\n    }\n    \n    setDraftInspections([]);\n    if (currentDraftId === draftId) {\n      setCurrentDraftId(null);\n      setLastSaved(null);\n    }\n  };\n\n  const startNewInspection = () => {\n    setShowResumeDialog(false);\n    setCurrentDraftId(null);\n    setLastSaved(null);\n  };\n\n  const handleInputChange = (field: string, value: string | number | string[]) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  const handleImageUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const files = event.target.files;\n    if (files && files.length > 0) {\n      const newImages = Array.from(files);\n      const currentCount = selectedImages.length;\n      const availableSlots = 5 - currentCount;\n      const imagesToAdd = newImages.slice(0, availableSlots);\n      \n      // Compress images that need it\n      const compressedImages: File[] = [];\n      let totalOriginalSize = 0;\n      let totalCompressedSize = 0;\n      \n      for (const image of imagesToAdd) {\n        totalOriginalSize += image.size;\n        \n        if (needsCompression(image, 500)) {\n          try {\n            const result = await compressImage(image, { maxSizeKB: 500 });\n            compressedImages.push(result.compressedFile);\n            totalCompressedSize += result.compressedSize;\n            \n            console.log(`Compressed ${image.name}: ${formatFileSize(image.size)} ‚Üí ${formatFileSize(result.compressedSize)}`);\n          } catch (error) {\n            console.error('Failed to compress image:', error);\n            compressedImages.push(image); // Use original if compression fails\n            totalCompressedSize += image.size;\n          }\n        } else {\n          compressedImages.push(image);\n          totalCompressedSize += image.size;\n        }\n      }\n      \n      setSelectedImages(prev => [...prev, ...compressedImages]);\n      \n      if (compressedImages.length > 0) {\n        const compressionSaved = totalOriginalSize - totalCompressedSize;\n        const compressionRatio = (compressionSaved / totalOriginalSize * 100).toFixed(1);\n        \n        toast({\n          title: \"üì∏ Photos Uploaded Successfully!\",\n          description: `Added ${compressedImages.length} photo${compressedImages.length > 1 ? 's' : ''} to inspection documentation.${compressionSaved > 0 ? ` Saved ${formatFileSize(compressionSaved)} (${compressionRatio}% compression).` : ''}`,\n          duration: 3000\n        });\n      }\n      \n      if (imagesToAdd.length < newImages.length) {\n        toast({\n          variant: \"destructive\",\n          title: \"Upload Limit Reached\",\n          description: `Only ${imagesToAdd.length} photos were added. Maximum of 5 images allowed per inspection.`,\n          duration: 5000\n        });\n      }\n      \n      console.log('Files selected:', compressedImages.length, 'files');\n    }\n  };\n\n  const removeImage = (index: number) => {\n    setSelectedImages(prev => prev.filter((_, i) => i !== index));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (isSubmitting) return; // Prevent multiple submissions\n\n    if (!formData.school || !formData.date) {\n      toast({\n        variant: \"destructive\",\n        title: \"Missing Required Fields\",\n        description: \"Please fill in school and date fields before submitting.\",\n        duration: 6000\n      });\n      return;\n    }\n\n    // Check if at least one rating category has been filled\n    const hasRating = inspectionCategories.some(category => {\n      const rating = formData[category.key as keyof typeof formData] as number;\n      return rating > 0;\n    });\n\n    if (!hasRating) {\n      toast({\n        variant: \"destructive\",\n        title: \"Missing Ratings\",\n        description: \"Please provide at least one rating for the inspection categories.\",\n        duration: 6000\n      });\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      // Use FormData for multipart upload (same as custodial-notes)\n      const formDataToSend = new FormData();\n\n      // Add text fields\n      formDataToSend.append('school', formData.school);\n      formDataToSend.append('date', formData.date);\n      formDataToSend.append('inspectionType', formData.inspectionType);\n      formDataToSend.append('locationDescription', formData.locationDescription);\n      formDataToSend.append('roomNumber', formData.roomNumber || '');\n      formDataToSend.append('locationCategory', formData.locationCategory || '');\n      formDataToSend.append('floors', (formData.floors || '').toString());\n      formDataToSend.append('verticalHorizontalSurfaces', (formData.verticalHorizontalSurfaces || '').toString());\n      formDataToSend.append('ceiling', (formData.ceiling || '').toString());\n      formDataToSend.append('restrooms', (formData.restrooms || '').toString());\n      formDataToSend.append('customerSatisfaction', (formData.customerSatisfaction || '').toString());\n      formDataToSend.append('trash', (formData.trash || '').toString());\n      formDataToSend.append('projectCleaning', (formData.projectCleaning || '').toString());\n      formDataToSend.append('activitySupport', (formData.activitySupport || '').toString());\n      formDataToSend.append('safetyCompliance', (formData.safetyCompliance || '').toString());\n      formDataToSend.append('equipment', (formData.equipment || '').toString());\n      formDataToSend.append('monitoring', (formData.monitoring || '').toString());\n      formDataToSend.append('notes', formData.notes || '');\n\n      // Add images as files (not base64)\n      selectedImages.forEach((image) => {\n        formDataToSend.append('images', image);\n      });\n\n      const response = await fetch('/api/inspections', {\n        method: 'POST',\n        body: formDataToSend, // No Content-Type header - let browser set it for multipart\n      });\n\n      if (response.ok) {\n        // Show success notification\n        toast({\n          title: \"‚úÖ Inspection Submitted Successfully!\",\n          description: `Single area inspection for ${formData.school} has been submitted and saved.`,\n          variant: \"default\",\n          duration: 5000\n        });\n        \n        // Clean up draft after successful submission\n        if (currentDraftId) {\n          deleteDraft(currentDraftId);\n        }\n        \n        // Reset form\n        setFormData({\n          school: '',\n          date: '',\n          inspectionType: 'single_room',\n          locationDescription: '',\n          roomNumber: '',\n          locationCategory: '',\n          floors: 0,\n          verticalHorizontalSurfaces: 0,\n          ceiling: 0,\n          restrooms: 0,\n          customerSatisfaction: 0,\n          trash: 0,\n          projectCleaning: 0,\n          activitySupport: 0,\n          safetyCompliance: 0,\n          equipment: 0,\n          monitoring: 0,\n          notes: '',\n          images: []\n        });\n        setSelectedImages([]);\n        setCurrentDraftId(null);\n        setLastSaved(null);\n        \n        // Navigate back to home page after enough time to read the notification\n        setTimeout(() => {\n          if (onBack) {\n            onBack();\n          }\n        }, 6000);\n      } else {\n        const errorData = await response.json().catch(() => ({ message: 'Unknown error' }));\n        toast({\n          variant: \"destructive\",\n          title: \"Submission Failed\",\n          description: `Error: ${errorData.message || 'Unable to submit inspection. Please try again.'}`,\n          duration: 7000\n        });\n      }\n    } catch (error) {\n      console.error('Error submitting inspection:', error);\n      \n      let errorTitle = \"Submission Failed\";\n      let errorMessage = \"Unable to submit inspection. Please try again.\";\n\n      if (error instanceof Error) {\n        if (error.message.includes('NetworkError') || error.message.includes('fetch')) {\n          errorTitle = \"Network Error\";\n          errorMessage = \"Unable to connect to the server. Please check your connection and try again.\";\n        } else if (error.message.includes('validation') || error.message.includes('Invalid')) {\n          errorTitle = \"Invalid Data\";\n          errorMessage = \"Please check all required fields and try again.\";\n        }\n      }\n\n      toast({\n        variant: \"destructive\",\n        title: errorTitle,\n        description: errorMessage,\n        duration: 7000\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const renderMobileStarRating = (categoryObj: any, currentRating: number) => {\n    return (\n      <div className=\"space-y-4\">\n        <div className=\"bg-gray-50 rounded-lg p-4 border\">\n          <div className=\"text-sm font-medium text-gray-700 mb-3 text-center\">\n            Rate this category:\n          </div>\n          \n          {/* Star Rating Buttons */}\n          <div className=\"flex justify-center gap-2 mb-4\">\n            {[1, 2, 3, 4, 5].map((star) => (\n              <button\n                key={star}\n                type=\"button\"\n                className=\"p-2 rounded-md hover:bg-yellow-50 transition-colors touch-manipulation\"\n                onClick={() => handleInputChange(categoryObj.key, star)}\n              >\n                <Star\n                  className={`w-6 h-6 ${\n                    star <= currentRating && currentRating > 0\n                      ? 'fill-yellow-400 text-yellow-400'\n                      : 'text-gray-300 hover:text-yellow-300'\n                  }`}\n                />\n              </button>\n            ))}\n          </div>\n          \n          {/* Not Rated Button */}\n          <div className=\"flex justify-center\">\n            <button\n              type=\"button\"\n              className={`px-4 py-2 rounded-md border text-sm font-medium transition-colors touch-manipulation ${\n                currentRating === 0\n                  ? 'bg-gray-100 border-gray-300 text-gray-700'\n                  : 'bg-white border-gray-200 text-gray-600 hover:bg-gray-50'\n              }`}\n              onClick={() => handleInputChange(categoryObj.key, 0)}\n            >\n              Not Rated\n            </button>\n          </div>\n        </div>\n\n        {/* Current Rating Status */}\n        <div className=\"text-center\">\n          {currentRating > 0 ? (\n            <div className=\"space-y-2\">\n              <Badge variant=\"secondary\" className=\"text-sm px-3 py-1\">\n                {ratingDescriptions[currentRating - 1]?.label}\n              </Badge>\n              <div className=\"text-xs text-muted-foreground\">\n                {ratingDescriptions[currentRating - 1]?.description}\n              </div>\n            </div>\n          ) : (\n            <Badge variant=\"outline\" className=\"text-sm px-3 py-1\">\n              No rating selected\n            </Badge>\n          )}\n        </div>\n\n        {/* Detailed Criteria */}\n        {currentRating > 0 && categoryObj.criteria && categoryObj.criteria[currentRating] && (\n          <Card className=\"bg-blue-50 border-blue-200\">\n            <CardContent className=\"p-3\">\n              <div className=\"text-xs text-blue-800\">\n                <strong className=\"text-sm\">Rating {currentRating} Criteria:</strong>\n                <p className=\"mt-1 leading-relaxed\">{categoryObj.criteria[currentRating]}</p>\n              </div>\n            </CardContent>\n          </Card>\n        )}\n      </div>\n    );\n  };\n\n  const renderStarRating = (categoryObj: any, currentRating: number) => {\n    return (\n      <div className=\"space-y-5\">\n        <div className=\"flex flex-wrap justify-center gap-2\">\n          <Button\n            type=\"button\"\n            variant={currentRating === 0 ? \"default\" : \"outline\"}\n            size=\"sm\"\n            className=\"px-3 py-2 text-xs\"\n            onClick={() => handleInputChange(categoryObj.key, 0)}\n          >\n            Not Rated\n          </Button>\n          {[1, 2, 3, 4, 5].map((star) => (\n            <Button\n              key={star}\n              type=\"button\"\n              variant=\"ghost\"\n              size=\"sm\"\n              className=\"p-2 h-auto\"\n              onClick={() => handleInputChange(categoryObj.key, star)}\n            >\n              <Star\n                className={`w-6 h-6 ${\n                  star <= currentRating && currentRating > 0\n                    ? 'fill-yellow-400 text-yellow-400'\n                    : 'text-gray-300'\n                }`}\n              />\n            </Button>\n          ))}\n        </div>\n\n        {/* Current Rating Status */}\n        <div className=\"text-center px-3\">\n          {currentRating > 0 ? (\n            <div className=\"space-y-2\">\n              <Badge variant=\"secondary\" className=\"text-sm px-3 py-1\">\n                {ratingDescriptions[currentRating - 1]?.label}\n              </Badge>\n              <div className=\"text-xs text-gray-600 leading-relaxed\">\n                {ratingDescriptions[currentRating - 1]?.description}\n              </div>\n            </div>\n          ) : (\n            <Badge variant=\"outline\" className=\"text-sm px-3 py-1\">\n              No rating selected\n            </Badge>\n          )}\n        </div>\n\n        {/* Detailed Criteria */}\n        {currentRating > 0 && categoryObj.criteria && categoryObj.criteria[currentRating] && (\n          <Card className=\"bg-accent/10 border-accent/30\">\n            <CardContent className=\"p-4\">\n              <div className=\"text-xs text-accent-foreground\">\n                <strong className=\"text-sm\">Rating {currentRating} Criteria:</strong>\n                <p className=\"mt-1 leading-relaxed\">{categoryObj.criteria[currentRating]}</p>\n              </div>\n            </CardContent>\n          </Card>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <>\n      {/* Resume Draft Dialog */}\n      <Dialog open={showResumeDialog} onOpenChange={setShowResumeDialog}>\n        <DialogContent className=\"max-w-2xl\">\n          <DialogHeader>\n            <DialogTitle>Resume Previous Inspection?</DialogTitle>\n            <DialogDescription>\n              You have unfinished inspection drafts. Would you like to continue one of them or start a new inspection?\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4 max-h-96 overflow-y-auto\">\n            {draftInspections.map((draft) => (\n              <Card key={draft.id} className=\"p-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex-1\">\n                    <h3 className=\"font-medium\">{draft.title}</h3>\n                    <p className=\"text-sm text-muted-foreground\">\n                      Last modified: {new Date(draft.lastModified).toLocaleString()}\n                    </p>\n                    <div className=\"text-xs text-muted-foreground mt-1\">\n                      School: {draft.school} ‚Ä¢ Date: {draft.date}\n                      {draft.roomNumber && ` ‚Ä¢ Room: ${draft.roomNumber}`}\n                    </div>\n                  </div>\n                  <div className=\"flex space-x-2\">\n                    <Button\n                      size=\"sm\"\n                      onClick={() => loadDraftData(draft)}\n                    >\n                      Resume\n                    </Button>\n                    <Button\n                      size=\"sm\"\n                      variant=\"outline\"\n                      onClick={() => deleteDraft(draft.id)}\n                    >\n                      Delete\n                    </Button>\n                  </div>\n                </div>\n              </Card>\n            ))}\n            <div className=\"flex justify-center space-x-4 pt-4\">\n              <Button onClick={startNewInspection} variant=\"outline\">\n                Start New Inspection\n              </Button>\n            </div>\n          </div>\n        </DialogContent>\n      </Dialog>\n      \n      <div className=\"container mx-auto p-6 max-w-4xl\">\n      {/* Breadcrumb Navigation */}\n      <Breadcrumb className=\"mb-4\">\n        <BreadcrumbList>\n          <BreadcrumbItem>\n            <BreadcrumbLink onClick={onBack} className=\"flex items-center gap-1 cursor-pointer\">\n              <Home className=\"w-4 h-4\" />\n              <span className=\"sr-only sm:not-sr-only\">Home</span>\n            </BreadcrumbLink>\n          </BreadcrumbItem>\n          <BreadcrumbSeparator />\n          <BreadcrumbItem>\n            <BreadcrumbPage>Single Area Inspection</BreadcrumbPage>\n          </BreadcrumbItem>\n        </BreadcrumbList>\n      </Breadcrumb>\n\n      <div className=\"mb-6\">\n        <h1 className=\"text-3xl font-bold text-foreground\">Submit Inspection</h1>\n        <p className=\"text-muted-foreground mt-2\">Use this form to inspect a single room or location. Example: Cafeteria. If performing a whole building inspection please select that from the previous screen.</p>\n\n        {/* Important Note */}\n        <div className=\"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n          <p className=\"text-sm text-blue-800 leading-relaxed\">\n            <strong>üìã Important:</strong> This form is for inspecting a single room or area using the same rating criteria as the Whole Building Inspection. However, single area inspections are recorded separately and do not automatically count toward a building-wide inspection or monthly metrics. If you're conducting these inspections as part of a comprehensive building review or to meet monthly inspection requirements, you'll need to manually track your progress across all required areas.\n          </p>\n        </div>\n\n        {/* Save Status Indicator */}\n        {(lastSaved || isAutoSaving) && (\n          <div className=\"mt-2 flex items-center space-x-2 text-sm text-muted-foreground\">\n            {isAutoSaving ? (\n              <>\n                <Save className=\"w-4 h-4 animate-spin\" />\n                <span>Saving...</span>\n              </>\n            ) : lastSaved ? (\n              <>\n                <Clock className=\"w-4 h-4\" />\n                <span>Last saved: {lastSaved.toLocaleTimeString()}</span>\n              </>\n            ) : null}\n          </div>\n        )}\n\n        {/* Manual Save Button */}\n        {currentDraftId && (\n          <Button\n            type=\"button\"\n            variant=\"outline\"\n            onClick={saveDraftData}\n            disabled={isAutoSaving}\n            className=\"mt-4\"\n          >\n            <Save className=\"w-4 h-4 mr-2\" />\n            Save Draft\n          </Button>\n        )}\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\n        {/* Basic Information - Organized in columns */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Basic Information</CardTitle>\n            <CardDescription>Enter the basic details for this inspection</CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6\">\n              <div>\n                <Label htmlFor=\"school\">School *</Label>\n                <Select value={formData.school} onValueChange={(value) => handleInputChange('school', value)}>\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"Select school\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {schoolOptions.map(option => (\n                      <SelectItem key={option.value} value={option.value}>\n                        {option.label}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div>\n                <Label htmlFor=\"date\">Inspection Date *</Label>\n                <Input\n                  id=\"date\"\n                  type=\"date\"\n                  value={formData.date}\n                  onChange={(e) => handleInputChange('date', e.target.value)}\n                  required\n                  aria-describedby=\"date-help\"\n                />\n                <p id=\"date-help\" className=\"text-sm text-muted-foreground mt-1\">\n                  Select the date when this inspection was conducted\n                </p>\n              </div>\n\n              <div>\n                <Label htmlFor=\"locationCategory\">Location Category</Label>\n                <Select value={formData.locationCategory} onValueChange={(value) => handleInputChange('locationCategory', value)}>\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"Select location category\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {locationCategoryOptions.map(option => (\n                      <SelectItem key={option.value} value={option.value}>\n                        {option.label}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div>\n                <Label htmlFor=\"roomNumber\">Room Number</Label>\n                <Input\n                  id=\"roomNumber\"\n                  value={formData.roomNumber}\n                  onChange={(e) => handleInputChange('roomNumber', e.target.value)}\n                  placeholder=\"e.g., 101, Main Hall\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <Label htmlFor=\"locationDescription\">Location Description</Label>\n              <Input\n                id=\"locationDescription\"\n                value={formData.locationDescription}\n                onChange={(e) => handleInputChange('locationDescription', e.target.value)}\n                placeholder=\"e.g., Main Building, Second Floor, Near Library\"\n              />\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Inspection Categories - Collapsible sections */}\n        <Card>\n            <CardHeader>\n              <CardTitle>Inspection Categories</CardTitle>\n              <CardDescription>\n                {isMobile \n                  ? \"Expand each category to rate it. Detailed criteria will appear when you select a rating.\"\n                  : \"Expand each category to rate it based on the criteria (1-5 stars). Detailed criteria will appear when you select a rating.\"\n                }\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n            {isMobile ? (\n              // Mobile: Keep single column with collapsible sections\n              inspectionCategories.map((category) => (\n                <CollapsibleSection\n                  key={category.key}\n                  title={category.label}\n                  defaultCollapsed={true}\n                  className=\"border border-gray-200\"\n                  titleClassName=\"text-left font-medium\"\n                  contentClassName=\"space-y-3\"\n                >\n                  {renderMobileStarRating(category, formData[category.key as keyof typeof formData] as number)}\n                </CollapsibleSection>\n              ))\n            ) : (\n              // Desktop: Two-column layout with collapsible sections\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\n                {inspectionCategories.map((category) => (\n                  <CollapsibleSection\n                    key={category.key}\n                    title={category.label}\n                    defaultCollapsed={true}\n                    className=\"border border-gray-200\"\n                    titleClassName=\"text-left font-medium\"\n                    contentClassName=\"space-y-3\"\n                  >\n                    {renderStarRating(category, formData[category.key as keyof typeof formData] as number)}\n                  </CollapsibleSection>\n                ))}\n              </div>\n            )}\n            </CardContent>\n        </Card>\n\n        {/* Additional Notes and Photo Documentation - Side by side */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          {/* Additional Notes */}\n          <Card>\n              <CardHeader>\n                <CardTitle>Additional Notes & Observations</CardTitle>\n                <CardDescription>Detailed observations, specific issues, recommendations, or additional context</CardDescription>\n              </CardHeader>\n              <CardContent>\n              <Textarea\n                value={formData.notes}\n                onChange={(e) => handleInputChange('notes', e.target.value)}\n                placeholder=\"Enter detailed notes about this inspection...&#10;&#10;Examples:&#10;‚Ä¢ Specific areas that need attention&#10;‚Ä¢ Safety concerns observed&#10;‚Ä¢ Maintenance recommendations&#10;‚Ä¢ Follow-up actions required&#10;‚Ä¢ Staff performance observations&#10;‚Ä¢ Equipment issues noted\"\n                rows={8}\n                className=\"min-h-[200px]\"\n                aria-describedby=\"notes-help\"\n              />\n              <p id=\"notes-help\" className=\"text-sm text-muted-foreground mt-2\">\n                Provide detailed observations, specific issues, recommendations, or additional context for this inspection\n              </p>\n              </CardContent>\n          </Card>\n\n          {/* Image Upload */}\n          <Card>\n            <CardHeader>\n              <CardTitle>Photo Documentation</CardTitle>\n              <CardDescription>Upload images or take photos to document inspection findings (up to 5 images)</CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"flex flex-col sm:flex-row gap-3\">\n                <Label htmlFor=\"image-upload\" className=\"cursor-pointer flex-1\">\n                  <div className=\"flex items-center justify-center gap-2 px-4 py-3 sm:py-2 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors min-h-[48px]\">\n                    <Upload className=\"w-5 h-5 sm:w-4 sm:h-4\" />\n                    <span className=\"font-medium\">Upload Images</span>\n                  </div>\n                  <Input\n                    id=\"image-upload\"\n                    type=\"file\"\n                    multiple\n                    accept=\"image/*\"\n                    onChange={handleImageUpload}\n                    className=\"hidden\"\n                    disabled={selectedImages.length >= 5}\n                  />\n                </Label>\n\n                <Label htmlFor=\"camera-capture\" className=\"cursor-pointer flex-1\">\n                  <div className=\"flex items-center justify-center gap-2 px-4 py-3 sm:py-2 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors min-h-[48px]\">\n                    <Camera className=\"w-5 h-5 sm:w-4 sm:h-4\" />\n                    <span className=\"font-medium\">Take Photo</span>\n                  </div>\n                  <Input\n                    id=\"camera-capture\"\n                    type=\"file\"\n                    accept=\"image/*\"\n                    capture=\"environment\"\n                    onChange={handleImageUpload}\n                    className=\"hidden\"\n                    disabled={selectedImages.length >= 5}\n                  />\n                </Label>\n              </div>\n\n              {/* Image count badge */}\n              {selectedImages.length > 0 && (\n                <div className=\"flex items-center justify-between p-2 bg-blue-50 border border-blue-200 rounded-lg\">\n                  <span className=\"text-sm font-medium text-blue-900\">\n                    {selectedImages.length} of 5 images selected\n                  </span>\n                  {selectedImages.length >= 5 && (\n                    <span className=\"text-xs text-blue-700 bg-blue-100 px-2 py-1 rounded\">\n                      Maximum reached\n                    </span>\n                  )}\n                </div>\n              )}\n\n              <p className=\"text-xs sm:text-sm text-gray-500\">\n                üì∏ Select multiple images or take photos ‚Ä¢ Up to 5 images ‚Ä¢ JPG, PNG, GIF supported\n              </p>\n\n              {/* Image Previews */}\n              {selectedImages.length > 0 && (\n                <div className=\"space-y-2\">\n                  <Label className=\"text-sm font-semibold\">Image Previews</Label>\n                  <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-3 sm:gap-4\">\n                    {selectedImages.map((image, index) => (\n                      <div key={index} className=\"relative group\">\n                        <img\n                          src={URL.createObjectURL(image)}\n                          alt={`Preview ${index + 1}`}\n                          className=\"w-full h-32 sm:h-24 object-cover rounded-lg border-2 border-gray-200\"\n                          loading=\"lazy\"\n                        />\n                        <button\n                          type=\"button\"\n                          onClick={() => removeImage(index)}\n                          className=\"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-2 opacity-90 md:opacity-0 md:group-hover:opacity-100 transition-opacity shadow-lg\"\n                          aria-label={`Remove image ${index + 1}`}\n                        >\n                          <X className=\"w-4 h-4\" />\n                        </button>\n                        <div className=\"absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-1 py-0.5 rounded\">\n                          {image.name.length > 12 ? image.name.substring(0, 12) + '...' : image.name}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Submit Button */}\n        <div className=\"flex justify-end gap-4\">\n          <Button \n            type=\"submit\" \n            size=\"lg\" \n            disabled={isSubmitting}\n            className={`bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed ${isMobile ? 'w-full h-14 text-lg' : ''}`}\n          >\n            {isSubmitting ? (\n              <>\n                <span className=\"animate-spin mr-2\">‚è≥</span>\n                Submitting...\n              </>\n            ) : (\n              'Submit Inspection'\n            )}\n          </Button>\n        </div>\n      </form>\n    </div>\n    </>\n  );\n}"],"names":["House","createLucideIcon","compressImage","file","options","maxWidth","maxHeight","quality","maxSizeKB","resolve","reject","canvas","ctx","img","width","height","ratio","currentQuality","tryCompress","blob","compressedFile","needsCompression","formatFileSize","bytes","k","sizes","Breadcrumb","React.forwardRef","props","ref","jsx","BreadcrumbList","className","cn","BreadcrumbItem","BreadcrumbLink","asChild","Comp","Slot","BreadcrumbPage","BreadcrumbSeparator","children","ChevronRight","CustodialInspectionPage","onBack","isMobile","useIsMobile","toast","useToast","formData","setFormData","useState","showResumeDialog","setShowResumeDialog","draftInspections","setDraftInspections","currentDraftId","setCurrentDraftId","lastSaved","setLastSaved","isAutoSaving","setIsAutoSaving","isSubmitting","setIsSubmitting","schoolOptions","locationCategoryOptions","selectedImages","setSelectedImages","useEffect","migrateLegacyDrafts","loadDraftInspections","stats","getStorageStats","timeoutId","saveDraftData","draftData","loadDraft","STORAGE_KEYS","legacyDrafts","validDrafts","draft","draftDate","weekAgo","error","generateDraftId","draftId","imageData","processedImage","processImageForStorage","saveDraft","loadDraftData","imageFiles","base64","index","byteCharacters","byteNumbers","i","byteArray","deleteDraft","clearDraft","existingDrafts","updatedDrafts","d","startNewInspection","handleInputChange","field","value","prev","handleImageUpload","event","files","newImages","availableSlots","imagesToAdd","compressedImages","totalOriginalSize","totalCompressedSize","image","result","compressionSaved","compressionRatio","removeImage","_","handleSubmit","e","inspectionCategories","category","formDataToSend","response","errorData","errorTitle","errorMessage","renderMobileStarRating","categoryObj","currentRating","jsxs","star","Star","Badge","_a","ratingDescriptions","Card","CardContent","renderStarRating","Button","Fragment","Dialog","DialogContent","DialogHeader","DialogTitle","DialogDescription","Home","Save","Clock","CardHeader","CardTitle","CardDescription","Label","Select","SelectTrigger","SelectValue","SelectContent","SelectItem","option","Input","CollapsibleSection","Textarea","Upload","Camera","X"],"mappings":"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","x_google_ignoreList":[0]}