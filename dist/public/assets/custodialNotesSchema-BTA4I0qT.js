import{o as S,r as z,a as w,b as R,c as v,s as a,n as m,l as h,i as N}from"./forms-CnI20i7W.js";var D=function(e,s){for(var o={};e.length;){var t=e[0],f=t.code,c=t.message,i=t.path.join(".");if(!o[i])if("unionErrors"in t){var r=t.unionErrors[0].errors[0];o[i]={message:r.message,type:r.code}}else o[i]={message:c,type:f};if("unionErrors"in t&&t.unionErrors.forEach(function(d){return d.errors.forEach(function(u){return e.push(u)})}),s){var n=o[i].types,l=n&&n[t.code];o[i]=w(i,s,o,f,l?[].concat(l,t.message):t.message)}e.shift()}return o},q=function(e,s,o){return o===void 0&&(o={}),function(t,f,c){try{return Promise.resolve((function(i,r){try{var n=Promise.resolve(e[o.mode==="sync"?"parse":"parseAsync"](t,s)).then(function(l){return c.shouldUseNativeValidation&&S({},c),{errors:{},values:o.raw?t:l}})}catch(l){return r(l)}return n&&n.then?n.then(void 0,r):n})(0,function(i){if((function(r){return Array.isArray(r?.errors)})(i))return{values:{},errors:z(D(i.errors,!c.shouldUseNativeValidation&&c.criteriaMode==="all"),c)};throw i}))}catch(i){return Promise.reject(i)}}};async function B(e,s={}){const{maxWidth:o=1920,maxHeight:t=1080,quality:f=.8,maxSizeKB:c=500}=s;return new Promise((i,r)=>{const n=document.createElement("canvas"),l=n.getContext("2d"),d=new Image;d.onload=()=>{let{width:u,height:p}=d;if(u>o||p>t){const g=Math.min(o/u,t/p);u=u*g,p=p*g}n.width=u,n.height=p,l?.drawImage(d,0,0,u,p);let x=f;const y=()=>{n.toBlob(g=>{if(!g){r(new Error("Failed to compress image"));return}if(g.size/1024>c&&x>.1)x-=.1,y();else{const b=new File([g],e.name,{type:"image/jpeg",lastModified:Date.now()});i({compressedFile:b,originalSize:e.size,compressedSize:g.size,compressionRatio:(e.size-g.size)/e.size})}},"image/jpeg",x)};y()},d.onerror=()=>r(new Error("Failed to load image")),d.src=URL.createObjectURL(e)})}function C(e,s=500){return e.size/1024>s}function I(e){if(e===0)return"0 Bytes";const s=1024,o=["Bytes","KB","MB","GB"],t=Math.floor(Math.log(e)/Math.log(s));return parseFloat((e/Math.pow(s,t)).toFixed(2))+" "+o[t]}const T=R({school:a().min(1,"School is required").max(100,"School name too long"),date:a().min(1,"Date is required").refine(e=>!isNaN(Date.parse(e)),"Invalid date format"),inspectionType:h("single_room").default("single_room"),locationDescription:a().min(3,"Please describe the location (minimum 3 characters)").max(500,"Location description too long"),roomNumber:a().max(50,"Room number too long").optional().or(h("")),locationCategory:a().max(100,"Location category too long").optional().or(h("")),floors:m().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),verticalHorizontalSurfaces:m().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),ceiling:m().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),restrooms:m().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),customerSatisfaction:m().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),trash:m().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),projectCleaning:m().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),activitySupport:m().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),safetyCompliance:m().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),equipment:m().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),monitoring:m().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),notes:a().max(5e3,"Notes too long").optional().or(h("")),images:v(a()).max(5,"Maximum 5 images allowed").default([])}),F={school:"",date:"",inspectionType:"single_room",locationDescription:"",roomNumber:"",locationCategory:"",floors:0,verticalHorizontalSurfaces:0,ceiling:0,restrooms:0,customerSatisfaction:0,trash:0,projectCleaning:0,activitySupport:0,safetyCompliance:0,equipment:0,monitoring:0,notes:"",images:[]},j=R({inspectorName:a().min(1,"Inspector name is required").max(100,"Inspector name too long"),school:a().min(1,"School is required").max(100,"School name too long"),date:a().min(1,"Date is required").refine(e=>!isNaN(Date.parse(e)),"Invalid date format"),location:a().min(1,"Location is required").max(200,"Location too long"),locationDescription:a().max(500,"Location description too long").optional().or(h("")),notes:a().min(10,"Please provide a detailed description (minimum 10 characters)").max(5e3,"Notes too long"),images:v(N(File)).max(5,"Maximum 5 images allowed").optional().default([])}),L={inspectorName:"",school:"",date:new Date().toISOString().split("T")[0],location:"",locationDescription:"",notes:"",images:[]};export{L as a,j as b,B as c,I as f,F as i,C as n,T as s,q as t};
