var Cs=Object.defineProperty,vs=Object.defineProperties;var Es=Object.getOwnPropertyDescriptors;var Ve=Object.getOwnPropertySymbols;var Je=Object.prototype.hasOwnProperty,Qe=Object.prototype.propertyIsEnumerable;var Ae=(s,r,a)=>r in s?Cs(s,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[r]=a,V=(s,r)=>{for(var a in r||(r={}))Je.call(r,a)&&Ae(s,a,r[a]);if(Ve)for(var a of Ve(r))Qe.call(r,a)&&Ae(s,a,r[a]);return s},$=(s,r)=>vs(s,Es(r));var P=(s,r)=>{var a={};for(var l in s)Je.call(s,l)&&r.indexOf(l)<0&&(a[l]=s[l]);if(s!=null&&Ve)for(var l of Ve(s))r.indexOf(l)<0&&Qe.call(s,l)&&(a[l]=s[l]);return a};var Fe=(s,r,a)=>Ae(s,typeof r!="symbol"?r+"":r,a);var Ce=(s,r,a)=>new Promise((l,o)=>{var c=g=>{try{i(a.next(g))}catch(f){o(f)}},d=g=>{try{i(a.throw(g))}catch(f){o(f)}},i=g=>g.done?l(g.value):Promise.resolve(g.value).then(c,d);i((a=a.apply(s,r)).next())});import{j as e,c as de,S as z,d as Ds,B as ee,C as $e,e as Pe,f as Oe,g as Te,h as Me}from"./index-DZ3U2-uZ-v6.js";import{r as n,g as ue,b as Q,m as js,o as ys,O as Us,p as Vs,Z as De,R as ws}from"./ui-DdZ73ZY3-v6.js";import{b as Ss,c as ks,s as ie,i as Is,l as Rs,u as Ls}from"./forms-BEsuWYLX-v6.js";import{T as As,t as Fs,n as $s,c as Ps,f as Be}from"./textarea-D_b0fFKw-v6.js";import{L as se,I as ve,a as Os}from"./LoadingOverlay-B-gq-PYU-v6.js";import{A as Ts,b as Ms,c as Bs,d as qs,e as zs,f as Ws,g as Hs,h as Ks}from"./alert-dialog-Cp1rNIvl-v6.js";import{k as Gs,h as _e,C as Ys,l as qe,m as Js,a as Qs,n as we}from"./icons-JPeedV9x-v6.js";import{P as Se,a as ke,b as Ie}from"./popover-rxsTBHTJ-v6.js";import"./vendor-Bs_irWCG-v6.js";import"./charts-CWHHZtEs-v6.js";import"./utils-Bp6iPdOR-v6.js";const _s=Ss({inspectorName:ie().min(1,"Inspector name is required").max(100,"Inspector name too long"),school:ie().min(1,"School is required").max(100,"School name too long"),date:ie().min(1,"Date is required").refine(s=>!isNaN(Date.parse(s)),"Invalid date format"),location:ie().min(1,"Location is required").max(200,"Location too long"),locationDescription:ie().max(500,"Location description too long").optional().or(Rs("")),notes:ie().min(10,"Please provide a detailed description (minimum 10 characters)").max(5e3,"Notes too long"),images:ks(Is(File)).max(5,"Maximum 5 images allowed").optional().default([])}),Xs={inspectorName:"",school:"",date:new Date().toISOString().split("T")[0],location:"",locationDescription:"",notes:"",images:[]};var Xe=1,Zs=.9,ea=.8,sa=.17,ze=.1,We=.999,aa=.9999,ra=.99,ta=/[\\\/_+.#"@\[\(\{&]/,oa=/[\\\/_+.#"@\[\(\{&]/g,na=/[\s-]/,as=/[\s-]/g;function Ke(s,r,a,l,o,c,d){if(c===r.length)return o===s.length?Xe:ra;var i=`${o},${c}`;if(d[i]!==void 0)return d[i];for(var g=l.charAt(c),f=a.indexOf(g,o),h=0,b,I,R,L;f>=0;)b=Ke(s,r,a,l,f+1,c+1,d),b>h&&(f===o?b*=Xe:ta.test(s.charAt(f-1))?(b*=ea,R=s.slice(o,f-1).match(oa),R&&o>0&&(b*=Math.pow(We,R.length))):na.test(s.charAt(f-1))?(b*=Zs,L=s.slice(o,f-1).match(as),L&&o>0&&(b*=Math.pow(We,L.length))):(b*=sa,o>0&&(b*=Math.pow(We,f-o))),s.charAt(f)!==r.charAt(c)&&(b*=aa)),(b<ze&&a.charAt(f-1)===l.charAt(c+1)||l.charAt(c+1)===l.charAt(c)&&a.charAt(f-1)!==l.charAt(c))&&(I=Ke(s,r,a,l,f+1,c+2,d),I*ze>b&&(b=I*ze)),b>h&&(h=b),f=a.indexOf(g,f+1);return d[i]=h,h}function Ze(s){return s.toLowerCase().replace(as," ")}function ia(s,r,a){return s=a&&a.length>0?`${s+" "+a.join(" ")}`:s,Ke(s,r,Ze(s),Ze(r),0,0,{})}var Ee='[cmdk-group=""]',He='[cmdk-group-items=""]',la='[cmdk-group-heading=""]',rs='[cmdk-item=""]',es=`${rs}:not([aria-disabled="true"])`,Ge="cmdk-item-select",le="data-value",ma=(s,r,a)=>ia(s,r,a),ts=n.createContext(void 0),je=()=>n.useContext(ts),os=n.createContext(void 0),Ye=()=>n.useContext(os),ns=n.createContext(void 0),is=n.forwardRef((s,r)=>{let a=me(()=>{var t,N;return{search:"",value:(N=(t=s.value)!=null?t:s.defaultValue)!=null?N:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),l=me(()=>new Set),o=me(()=>new Map),c=me(()=>new Map),d=me(()=>new Set),i=ls(s),ge=s,{label:g,children:f,value:h,onValueChange:b,filter:I,shouldFilter:R,loop:L,disablePointerSelection:ce=!1,vimBindings:q=!0}=ge,w=P(ge,["label","children","value","onValueChange","filter","shouldFilter","loop","disablePointerSelection","vimBindings"]),re=ue(),K=ue(),G=ue(),W=n.useRef(null),T=Ca();ae(()=>{if(h!==void 0){let t=h.trim();a.current.value=t,D.emit()}},[h]),ae(()=>{T(6,ye)},[]);let D=n.useMemo(()=>({subscribe:t=>(d.current.add(t),()=>d.current.delete(t)),snapshot:()=>a.current,setState:(t,N,v)=>{var m,C,y,F;if(!Object.is(a.current[t],N)){if(a.current[t]=N,t==="search")fe(),he(),T(1,Ne);else if(t==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let A=document.getElementById(G);A?A.focus():(m=document.getElementById(re))==null||m.focus()}if(T(7,()=>{var A;a.current.selectedItemId=(A=Y())==null?void 0:A.id,D.emit()}),v||T(5,ye),((C=i.current)==null?void 0:C.value)!==void 0){let A=N!=null?N:"";(F=(y=i.current).onValueChange)==null||F.call(y,A);return}}D.emit()}},emit:()=>{d.current.forEach(t=>t())}}),[]),M=n.useMemo(()=>({value:(t,N,v)=>{var m;N!==((m=c.current.get(t))==null?void 0:m.value)&&(c.current.set(t,{value:N,keywords:v}),a.current.filtered.items.set(t,B(N,v)),T(2,()=>{he(),D.emit()}))},item:(t,N)=>(l.current.add(t),N&&(o.current.has(N)?o.current.get(N).add(t):o.current.set(N,new Set([t]))),T(3,()=>{fe(),he(),a.current.value||Ne(),D.emit()}),()=>{c.current.delete(t),l.current.delete(t),a.current.filtered.items.delete(t);let v=Y();T(4,()=>{fe(),(v==null?void 0:v.getAttribute("id"))===t&&Ne(),D.emit()})}),group:t=>(o.current.has(t)||o.current.set(t,new Set),()=>{c.current.delete(t),o.current.delete(t)}),filter:()=>i.current.shouldFilter,label:g||s["aria-label"],getDisablePointerSelection:()=>i.current.disablePointerSelection,listId:re,inputId:G,labelId:K,listInnerRef:W}),[]);function B(t,N){var v,m;let C=(m=(v=i.current)==null?void 0:v.filter)!=null?m:ma;return t?C(t,a.current.search,N):0}function he(){if(!a.current.search||i.current.shouldFilter===!1)return;let t=a.current.filtered.items,N=[];a.current.filtered.groups.forEach(m=>{let C=o.current.get(m),y=0;C.forEach(F=>{let A=t.get(F);y=Math.max(A,y)}),N.push([m,y])});let v=W.current;_().sort((m,C)=>{var y,F;let A=m.getAttribute("id"),ne=C.getAttribute("id");return((y=t.get(ne))!=null?y:0)-((F=t.get(A))!=null?F:0)}).forEach(m=>{let C=m.closest(He);C?C.appendChild(m.parentElement===C?m:m.closest(`${He} > *`)):v.appendChild(m.parentElement===v?m:m.closest(`${He} > *`))}),N.sort((m,C)=>C[1]-m[1]).forEach(m=>{var C;let y=(C=W.current)==null?void 0:C.querySelector(`${Ee}[${le}="${encodeURIComponent(m[0])}"]`);y==null||y.parentElement.appendChild(y)})}function Ne(){let t=_().find(v=>v.getAttribute("aria-disabled")!=="true"),N=t==null?void 0:t.getAttribute(le);D.setState("value",N||void 0)}function fe(){var t,N,v,m;if(!a.current.search||i.current.shouldFilter===!1){a.current.filtered.count=l.current.size;return}a.current.filtered.groups=new Set;let C=0;for(let y of l.current){let F=(N=(t=c.current.get(y))==null?void 0:t.value)!=null?N:"",A=(m=(v=c.current.get(y))==null?void 0:v.keywords)!=null?m:[],ne=B(F,A);a.current.filtered.items.set(y,ne),ne>0&&C++}for(let[y,F]of o.current)for(let A of F)if(a.current.filtered.items.get(A)>0){a.current.filtered.groups.add(y);break}a.current.filtered.count=C}function ye(){var t,N,v;let m=Y();m&&(((t=m.parentElement)==null?void 0:t.firstChild)===m&&((v=(N=m.closest(Ee))==null?void 0:N.querySelector(la))==null||v.scrollIntoView({block:"nearest"})),m.scrollIntoView({block:"nearest"}))}function Y(){var t;return(t=W.current)==null?void 0:t.querySelector(`${rs}[aria-selected="true"]`)}function _(){var t;return Array.from(((t=W.current)==null?void 0:t.querySelectorAll(es))||[])}function be(t){let N=_()[t];N&&D.setState("value",N.getAttribute(le))}function te(t){var N;let v=Y(),m=_(),C=m.findIndex(F=>F===v),y=m[C+t];(N=i.current)!=null&&N.loop&&(y=C+t<0?m[m.length-1]:C+t===m.length?m[0]:m[C+t]),y&&D.setState("value",y.getAttribute(le))}function pe(t){let N=Y(),v=N==null?void 0:N.closest(Ee),m;for(;v&&!m;)v=t>0?xa(v,Ee):ga(v,Ee),m=v==null?void 0:v.querySelector(es);m?D.setState("value",m.getAttribute(le)):te(t)}let xe=()=>be(_().length-1),oe=t=>{t.preventDefault(),t.metaKey?xe():t.altKey?pe(1):te(1)},Ue=t=>{t.preventDefault(),t.metaKey?be(0):t.altKey?pe(-1):te(-1)};return n.createElement(Q.div,$(V({ref:r,tabIndex:-1},w),{"cmdk-root":"",onKeyDown:t=>{var N;(N=w.onKeyDown)==null||N.call(w,t);let v=t.nativeEvent.isComposing||t.keyCode===229;if(!(t.defaultPrevented||v))switch(t.key){case"n":case"j":{q&&t.ctrlKey&&oe(t);break}case"ArrowDown":{oe(t);break}case"p":case"k":{q&&t.ctrlKey&&Ue(t);break}case"ArrowUp":{Ue(t);break}case"Home":{t.preventDefault(),be(0);break}case"End":{t.preventDefault(),xe();break}case"Enter":{t.preventDefault();let m=Y();if(m){let C=new Event(Ge);m.dispatchEvent(C)}}}}}),n.createElement("label",{"cmdk-label":"",htmlFor:M.inputId,id:M.labelId,style:Ea},g),Re(s,t=>n.createElement(os.Provider,{value:D},n.createElement(ts.Provider,{value:M},t))))}),ua=n.forwardRef((s,r)=>{var a,l;let o=ue(),c=n.useRef(null),d=n.useContext(ns),i=je(),g=ls(s),f=(l=(a=g.current)==null?void 0:a.forceMount)!=null?l:d==null?void 0:d.forceMount;ae(()=>{if(!f)return i.item(o,d==null?void 0:d.id)},[f]);let h=ms(o,c,[s.value,s.children,c],s.keywords),b=Ye(),I=J(D=>D.value&&D.value===h.current),R=J(D=>f||i.filter()===!1?!0:D.search?D.filtered.items.get(o)>0:!0);n.useEffect(()=>{let D=c.current;if(!(!D||s.disabled))return D.addEventListener(Ge,L),()=>D.removeEventListener(Ge,L)},[R,s.onSelect,s.disabled]);function L(){var D,M;ce(),(M=(D=g.current).onSelect)==null||M.call(D,h.current)}function ce(){b.setState("value",h.current,!0)}if(!R)return null;let T=s,{disabled:q,value:w,onSelect:re,forceMount:K,keywords:G}=T,W=P(T,["disabled","value","onSelect","forceMount","keywords"]);return n.createElement(Q.div,$(V({ref:De(c,r)},W),{id:o,"cmdk-item":"",role:"option","aria-disabled":!!q,"aria-selected":!!I,"data-disabled":!!q,"data-selected":!!I,onPointerMove:q||i.getDisablePointerSelection()?void 0:ce,onClick:q?void 0:L}),s.children)}),da=n.forwardRef((s,r)=>{let R=s,{heading:a,children:l,forceMount:o}=R,c=P(R,["heading","children","forceMount"]),d=ue(),i=n.useRef(null),g=n.useRef(null),f=ue(),h=je(),b=J(L=>o||h.filter()===!1?!0:L.search?L.filtered.groups.has(d):!0);ae(()=>h.group(d),[]),ms(d,i,[s.value,s.heading,g]);let I=n.useMemo(()=>({id:d,forceMount:o}),[o]);return n.createElement(Q.div,$(V({ref:De(i,r)},c),{"cmdk-group":"",role:"presentation",hidden:b?void 0:!0}),a&&n.createElement("div",{ref:g,"cmdk-group-heading":"","aria-hidden":!0,id:f},a),Re(s,L=>n.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":a?f:void 0},n.createElement(ns.Provider,{value:I},L))))}),ca=n.forwardRef((s,r)=>{let d=s,{alwaysRender:a}=d,l=P(d,["alwaysRender"]),o=n.useRef(null),c=J(i=>!i.search);return!a&&!c?null:n.createElement(Q.div,$(V({ref:De(o,r)},l),{"cmdk-separator":"",role:"separator"}))}),ha=n.forwardRef((s,r)=>{let f=s,{onValueChange:a}=f,l=P(f,["onValueChange"]),o=s.value!=null,c=Ye(),d=J(h=>h.search),i=J(h=>h.selectedItemId),g=je();return n.useEffect(()=>{s.value!=null&&c.setState("search",s.value)},[s.value]),n.createElement(Q.input,$(V({ref:r},l),{"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":g.listId,"aria-labelledby":g.labelId,"aria-activedescendant":i,id:g.inputId,type:"text",value:o?s.value:d,onChange:h=>{o||c.setState("search",h.target.value),a==null||a(h.target.value)}}))}),Na=n.forwardRef((s,r)=>{let f=s,{children:a,label:l="Suggestions"}=f,o=P(f,["children","label"]),c=n.useRef(null),d=n.useRef(null),i=J(h=>h.selectedItemId),g=je();return n.useEffect(()=>{if(d.current&&c.current){let h=d.current,b=c.current,I,R=new ResizeObserver(()=>{I=requestAnimationFrame(()=>{let L=h.offsetHeight;b.style.setProperty("--cmdk-list-height",L.toFixed(1)+"px")})});return R.observe(h),()=>{cancelAnimationFrame(I),R.unobserve(h)}}},[]),n.createElement(Q.div,$(V({ref:De(c,r)},o),{"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":i,"aria-label":l,id:g.listId}),Re(s,h=>n.createElement("div",{ref:De(d,g.listInnerRef),"cmdk-list-sizer":""},h)))}),fa=n.forwardRef((s,r)=>{let g=s,{open:a,onOpenChange:l,overlayClassName:o,contentClassName:c,container:d}=g,i=P(g,["open","onOpenChange","overlayClassName","contentClassName","container"]);return n.createElement(js,{open:a,onOpenChange:l},n.createElement(ys,{container:d},n.createElement(Us,{"cmdk-overlay":"",className:o}),n.createElement(Vs,{"aria-label":s.label,"cmdk-dialog":"",className:c},n.createElement(is,V({ref:r},i)))))}),ba=n.forwardRef((s,r)=>J(a=>a.filtered.count===0)?n.createElement(Q.div,$(V({ref:r},s),{"cmdk-empty":"",role:"presentation"})):null),pa=n.forwardRef((s,r)=>{let d=s,{progress:a,children:l,label:o="Loading..."}=d,c=P(d,["progress","children","label"]);return n.createElement(Q.div,$(V({ref:r},c),{"cmdk-loading":"",role:"progressbar","aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o}),Re(s,i=>n.createElement("div",{"aria-hidden":!0},i)))}),O=Object.assign(is,{List:Na,Item:ua,Input:ha,Group:da,Separator:ca,Dialog:fa,Empty:ba,Loading:pa});function xa(s,r){let a=s.nextElementSibling;for(;a;){if(a.matches(r))return a;a=a.nextElementSibling}}function ga(s,r){let a=s.previousElementSibling;for(;a;){if(a.matches(r))return a;a=a.previousElementSibling}}function ls(s){let r=n.useRef(s);return ae(()=>{r.current=s}),r}var ae=typeof window=="undefined"?n.useEffect:n.useLayoutEffect;function me(s){let r=n.useRef();return r.current===void 0&&(r.current=s()),r}function J(s){let r=Ye(),a=()=>s(r.snapshot());return n.useSyncExternalStore(r.subscribe,a,a)}function ms(s,r,a,l=[]){let o=n.useRef(),c=je();return ae(()=>{var d;let i=(()=>{var f;for(let h of a){if(typeof h=="string")return h.trim();if(typeof h=="object"&&"current"in h)return h.current?(f=h.current.textContent)==null?void 0:f.trim():o.current}})(),g=l.map(f=>f.trim());c.value(s,i,g),(d=r.current)==null||d.setAttribute(le,i),o.current=i}),o}var Ca=()=>{let[s,r]=n.useState(),a=me(()=>new Map);return ae(()=>{a.current.forEach(l=>l()),a.current=new Map},[s]),(l,o)=>{a.current.set(l,o),r({})}};function va(s){let r=s.type;return typeof r=="function"?r(s.props):"render"in r?r.render(s.props):s}function Re({asChild:s,children:r},a){return s&&n.isValidElement(r)?n.cloneElement(va(r),{ref:r.ref},a(r.props.children)):a(r)}var Ea={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const us=n.forwardRef((l,a)=>{var o=l,{className:s}=o,r=P(o,["className"]);return e.jsxDEV(O,V({ref:a,className:de("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",s)},r),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/ui/command.tsx",lineNumber:13,columnNumber:3},void 0)});us.displayName=O.displayName;const ds=n.forwardRef((l,a)=>{var o=l,{className:s}=o,r=P(o,["className"]);return e.jsxDEV("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsxDEV(Gs,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/ui/command.tsx",lineNumber:41,columnNumber:5},void 0),e.jsxDEV(O.Input,V({ref:a,className:de("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",s)},r),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/ui/command.tsx",lineNumber:42,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/ui/command.tsx",lineNumber:40,columnNumber:3},void 0)});ds.displayName=O.Input.displayName;const Da=n.forwardRef((l,a)=>{var o=l,{className:s}=o,r=P(o,["className"]);return e.jsxDEV(O.List,V({ref:a,className:de("max-h-[300px] overflow-y-auto overflow-x-hidden",s)},r),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/ui/command.tsx",lineNumber:59,columnNumber:3},void 0)});Da.displayName=O.List.displayName;const cs=n.forwardRef((s,r)=>e.jsxDEV(O.Empty,V({ref:r,className:"py-6 text-center text-sm"},s),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/ui/command.tsx",lineNumber:72,columnNumber:3},void 0));cs.displayName=O.Empty.displayName;const hs=n.forwardRef((l,a)=>{var o=l,{className:s}=o,r=P(o,["className"]);return e.jsxDEV(O.Group,V({ref:a,className:de("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",s)},r),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/ui/command.tsx",lineNumber:85,columnNumber:3},void 0)});hs.displayName=O.Group.displayName;const ja=n.forwardRef((l,a)=>{var o=l,{className:s}=o,r=P(o,["className"]);return e.jsxDEV(O.Separator,V({ref:a,className:de("-mx-1 h-px bg-border",s)},r),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/ui/command.tsx",lineNumber:101,columnNumber:3},void 0)});ja.displayName=O.Separator.displayName;const Ns=n.forwardRef((l,a)=>{var o=l,{className:s}=o,r=P(o,["className"]);return e.jsxDEV(O.Item,V({ref:a,className:de("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s)},r),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/ui/command.tsx",lineNumber:113,columnNumber:3},void 0)});Ns.displayName=O.Item.displayName;class ya extends ws.Component{constructor(a){super(a);Fe(this,"handleRetry",()=>{window.location.reload()});Fe(this,"handleClearData",()=>{try{localStorage.clear(),console.log("LocalStorage cleared successfully")}catch(a){console.error("Failed to clear localStorage:",a)}window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,l){console.error("LocalStorage Error Boundary caught an error:",a),console.error("Component Stack:",l.componentStack),this.setState({errorInfo:l})}render(){const{hasError:a,error:l,errorInfo:o}=this.state,{children:c,fallback:d}=this.props;return a?d||e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:e.jsxDEV("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:[e.jsxDEV("div",{className:"flex justify-center mb-4",children:e.jsxDEV("div",{className:"rounded-full bg-red-100 p-3",children:e.jsxDEV("svg",{className:"h-8 w-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:129,columnNumber:19},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:123,columnNumber:17},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:122,columnNumber:15},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:121,columnNumber:13},this),e.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900 text-center mb-2",children:"Something Went Wrong"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:140,columnNumber:13},this),e.jsxDEV("p",{className:"text-gray-600 text-center mb-6",children:"We encountered an issue saving your preferences. This might happen if your browser's storage is full or if you're using private browsing mode."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:143,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("button",{onClick:this.handleRetry,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition-colors",children:"Retry"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:150,columnNumber:15},this),e.jsxDEV("button",{onClick:this.handleClearData,className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-2 px-4 rounded-md transition-colors",children:"Clear Saved Data & Retry"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:156,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:149,columnNumber:13},this),l&&e.jsxDEV("details",{className:"mt-6",children:[e.jsxDEV("summary",{className:"cursor-pointer text-sm text-gray-500 hover:text-gray-700",children:"View Technical Details"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:167,columnNumber:17},this),e.jsxDEV("div",{className:"mt-3 p-3 bg-gray-100 rounded text-xs font-mono overflow-auto max-h-48",children:[e.jsxDEV("div",{className:"text-red-600 font-semibold mb-2",children:[l.name,": ",l.message]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:171,columnNumber:19},this),o&&e.jsxDEV("div",{className:"text-gray-600 whitespace-pre-wrap",children:o.componentStack},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:175,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:170,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:166,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:119,columnNumber:11},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:118,columnNumber:9},this):c}}const ss={WARNING:80,CRITICAL:95};function Ua(s={}){const{onWarning:r,checkInterval:a=3e4,checkOnMount:l=!0}=s,o=n.useRef(new Set),c=()=>Ce(null,null,function*(){try{const d=yield z.getQuotaInfo();if(!d||d.percentage===0)return;const{percentage:i,usage:g,quota:f}=d,h=b=>{const I=b/1048576;return I<1?`${(b/1024).toFixed(1)} KB`:`${I.toFixed(1)} MB`};if(i>=ss.CRITICAL){const b=`critical-${Math.floor(i)}`;o.current.has(b)||(console.warn(`[Storage Quota Monitor] CRITICAL: Storage at ${i.toFixed(1)}% capacity`),r==null||r(`Your browser storage is nearly full (${i.toFixed(1)}% used). Using ${h(g)} of ${h(f)} available. Please clear old data or browser cache to continue using this feature.`,i,"critical"),o.current.add(b))}else if(i>=ss.WARNING){const b=`warning-${Math.floor(i/5)*5}`;o.current.has(b)||(console.warn(`[Storage Quota Monitor] WARNING: Storage at ${i.toFixed(1)}% capacity`),r==null||r(`Your browser storage is ${i.toFixed(1)}% full. Using ${h(g)} of ${h(f)} available. Consider clearing old data to ensure smooth operation.`,i,"warning"),o.current.add(b))}}catch(d){console.error("[Storage Quota Monitor] Failed to check quota:",d)}});return n.useEffect(()=>{l&&c();const d=setInterval(c,a);return()=>{clearInterval(d)}},[a,l,r]),{checkQuota:c}}const Va=["ASA","CBR","GWC","LCA","OA","WLC"],wa=`
  @keyframes progress {
    from {
      width: 0%;
    }
    to {
      width: 100%;
    }
  }
`;function Ba({onBack:s}){const{toast:r}=Ds();Ua({onWarning:(u,p,E)=>{r({variant:E==="critical"?"destructive":"default",title:E==="critical"?"âš ï¸ Storage Almost Full":"âš¡ Storage Warning",description:u,duration:7e3})},checkInterval:3e4,checkOnMount:!0});const{register:a,handleSubmit:l,formState:{errors:o,isSubmitting:c},reset:d,setValue:i,watch:g,clearErrors:f}=Ls({resolver:Fs(_s),defaultValues:Xs}),h=g(),[b,I]=n.useState([]),[R,L]=n.useState([]),[ce,q]=n.useState(!1),[w,re]=n.useState(null),[K,G]=n.useState(!1),[W,T]=n.useState(!1),[D,M]=n.useState(""),[B,he]=n.useState(null),[Ne,fe]=n.useState(!0),[ye,Y]=n.useState(!1),[_,be]=n.useState(!0),[te,pe]=n.useState([]),[xe,oe]=n.useState(null),[Ue,ge]=n.useState(!1),[t,N]=n.useState(!1),[v,m]=n.useState(!1),[C,y]=n.useState(null);n.useEffect(()=>{const u=()=>{const p=document.querySelectorAll(".form-section"),E=window.scrollY+window.innerHeight/2;p.forEach((j,x)=>{const S=j.getBoundingClientRect(),U=S.top+window.scrollY,X=U+S.height;E>=U&&E<X&&he(x+1)}),window.scrollY>100&&fe(!1)};return window.addEventListener("scroll",u),u(),()=>window.removeEventListener("scroll",u)},[]),n.useEffect(()=>{const u=()=>{const p=window.innerWidth<=768,E=window.innerHeight<500;Y(p&&E)};return u(),window.addEventListener("resize",u),window.addEventListener("orientationchange",u),()=>{window.removeEventListener("resize",u),window.removeEventListener("orientationchange",u)}},[]),n.useEffect(()=>{if(Object.values(h).some(p=>p&&p!=="")&&!K){const p=setTimeout(()=>{ge(!0);const E=$(V({},h),{selectedSchool:D,savedAt:new Date().toISOString()});z.setItem("custodialNotesDraft",JSON.stringify(E)),oe(new Date),ge(!1)},2e3);return()=>clearTimeout(p)}},[h,D,K]),n.useEffect(()=>{try{const u=z.getItem("custodialNotesDraft");let p=!1;if(u){const j=JSON.parse(u),x=new Date(j.savedAt);(Date.now()-x.getTime())/(1e3*60*60)<24?(p=!0,Object.keys(j).forEach(U=>{U!=="savedAt"&&U!=="selectedSchool"&&i(U,j[U])}),j.selectedSchool&&(M(j.selectedSchool),i("school",j.selectedSchool)),oe(x),r({title:"Draft Restored",description:`Your work from ${x.toLocaleString()} was restored.`,duration:5e3})):z.removeItem("custodialNotesDraft")}if(!p){const j=z.getItem("custodialInspectorName");j&&i("inspectorName",j);const x=z.getItem("custodialLastSchool");x&&(M(x),i("school",x))}const E=z.getItem("custodialRecentLocations");if(E){const j=JSON.parse(E);pe(Array.isArray(j)?j:[])}}catch(u){console.error("Error loading saved data:",u)}},[i,M,r]);const F=u=>Ce(null,null,function*(){const p=u.target.files;if(p&&p.length>0){const E=Array.from(p),x=5-b.length,S=E.slice(0,x);S.length<E.length&&r({title:"Maximum Images Reached",description:`Only ${S.length} images were added. Maximum of 5 images allowed.`});const U=[];let X=0,H=0;for(const k of S)if(X+=k.size,$s(k,500))try{const Z=yield Ps(k,{maxSizeKB:500});U.push(Z.compressedFile),H+=Z.compressedSize,console.log(`Compressed ${k.name}: ${Be(k.size)} â†’ ${Be(Z.compressedSize)}`)}catch(Z){console.error("Failed to compress image:",Z),U.push(k),H+=k.size}else U.push(k),H+=k.size;I(k=>[...k,...U]);const Le=U.map(k=>URL.createObjectURL(k));if(L(k=>[...k,...Le]),U.length>0){const k=X-H,Z=k>0?(k/X*100).toFixed(1):"0";r({title:"ðŸ“¸ Photos Uploaded Successfully!",description:`Successfully added ${U.length} photo${U.length>1?"s":""} to your custodial note documentation.${k>0?` Saved ${Be(k)} (${Z}% compression).`:""}`,duration:3e3})}}u.target.value=""}),A=()=>{if(b.length>=5){r({variant:"destructive",title:"Maximum Images Reached",description:"Maximum of 5 images allowed. Please remove some images first."});return}const u=document.createElement("input");u.type="file",u.accept="image/*",u.capture="environment",u.onchange=p=>{const E=p;E.target.files&&E.target.files.length>0&&r({title:"ðŸ“· Photo Captured Successfully!",description:"Camera photo is being processed and added to your documentation.",duration:2e3}),F(E)},u.click()},ne=u=>{const p=b.filter((j,x)=>x!==u),E=R.filter((j,x)=>x!==u);URL.revokeObjectURL(R[u]),I(p),L(E)},fs=u=>{u.trim()&&pe(p=>{const E=p.filter(x=>x!==u),j=[u,...E].slice(0,5);try{z.setItem("custodialRecentLocations",JSON.stringify(j))}catch(x){console.error("Error saving recent locations:",x)}return j})},bs=()=>{C&&(i("inspectorName",C.inspectorName),i("school",C.school),i("date",C.date),i("location",C.location),i("locationDescription",C.locationDescription||""),M(C.school),i("notes",""),i("images",[]),m(!1),y(null),window.scrollTo({top:0,behavior:"smooth"}),r({title:"Form Pre-filled",description:"Inspector, school, date, and location have been filled in. Just add new notes and photos!",duration:4e3}))},ps=()=>{m(!1),y(null),s&&s()},xs=u=>Ce(null,null,function*(){re(u),q(!0)}),gs=()=>Ce(null,null,function*(){var u;if(w){G(!0),q(!1);try{const p=new FormData;Object.entries(w).forEach(([x,S])=>{x!=="images"&&p.append(x,(S==null?void 0:S.toString())||"")}),b.forEach(x=>{p.append("images",x)});const E={method:"POST",body:p,headers:{}};E.headers=$(V({},E.headers),{"X-Debug-Info":JSON.stringify({userAgent:navigator.userAgent,formDataEntries:Array.from(p.entries()).map(([x,S])=>[x,typeof S=="string"?S.substring(0,50)+(S.length>50?"...":""):`File(${S instanceof File?S.name:"unknown"})`])})});const j=yield fetch("/api/custodial-notes",E);if(j.ok){N(!0),z.removeItem("custodialNotesDraft");try{z.setItem("custodialInspectorName",w.inspectorName),z.setItem("custodialLastSchool",D),fs(w.location)}catch(U){console.error("Error saving user preferences:",U)}y(w),r({title:"âœ… Custodial Note Submitted Successfully!",description:"Your custodial concern has been recorded and will be reviewed.",variant:"default",duration:5e3});const x=w.inspectorName,S=D;d(),i("inspectorName",x),i("school",S),M(S),I([]),R.forEach(U=>URL.revokeObjectURL(U)),L([]),re(null),oe(null),G(!1),setTimeout(()=>{N(!1),m(!0)},3e3)}else{const x=yield j.json().catch(()=>({success:!1,message:"Unknown error occurred",details:"Unable to parse server response"}));let S=x.message||"Unable to submit custodial note. Please try again.",U="";x.success===!1&&x.details&&(Array.isArray(x.details)?U=`Please check: ${x.details.map(H=>`${H.field}: ${H.message}`).join(", ")}`:typeof x.details=="object"?U=`Required: ${Object.entries(x.details).filter(([H,Le])=>Le==="âœ— required").map(([H])=>H.replace(/([A-Z])/g," $1").trim()).join(", ")}`:U=x.details),(x.technical==="FormData parsing failed"||(u=x.message)!=null&&u.includes("form data is malformed"))&&(S="Form submission error",U="Please refresh the page and try submitting again. If the problem persists, contact support."),r({variant:"destructive",title:"âŒ Submission Failed",description:`${S}${U?`

${U}`:""}`,duration:8e3}),G(!1),console.error("Form submission error details:",{status:j.status,statusText:j.statusText,errorData:x,formDataFields:Object.keys(w||{})})}}catch(p){console.error("Error submitting custodial note:",p);let E="Network Error",j="Unable to connect to the server. Please check your connection and try again.";p instanceof TypeError&&(p.message.includes("Failed to fetch")?(E="Connection Failed",j=`Unable to reach the server. Please check:
â€¢ Internet connection
â€¢ Server is running
â€¢ No firewall blocking the request`):p.message.includes("NetworkError")&&(E="Network Error",j="A network error occurred. Please try again.")),r({variant:"destructive",title:`âŒ ${E}`,description:j,duration:8e3}),G(!1)}}});return e.jsxDEV(ya,{children:[e.jsxDEV("style",{children:wa},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:686,columnNumber:7},this),e.jsxDEV("div",{className:"max-w-3xl mx-auto p-6 space-y-8",children:[s&&e.jsxDEV(ee,{onClick:s,variant:"outline",className:"mb-4 back-button min-h-[48px] px-6",children:"â† Back to Custodial"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:690,columnNumber:11},this),ye&&_&&e.jsxDEV("div",{className:"bg-orange-50 border-2 border-orange-400 rounded-lg p-4 shadow-lg",children:e.jsxDEV("div",{className:"flex items-start justify-between gap-3",children:[e.jsxDEV("div",{className:"flex items-start gap-3 flex-1",children:[e.jsxDEV("span",{className:"text-2xl flex-shrink-0",children:"ðŸ“±"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:704,columnNumber:17},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-orange-900 text-lg mb-1",children:"Landscape Mode Detected"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:706,columnNumber:19},this),e.jsxDEV("p",{className:"text-orange-800 text-sm",children:["For the best experience filling out this form, please"," ",e.jsxDEV("strong",{children:"rotate your device to portrait mode"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:711,columnNumber:21},this)," ","(vertical orientation)."]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:709,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:705,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:703,columnNumber:15},this),e.jsxDEV(ee,{variant:"ghost",size:"sm",onClick:()=>be(!1),className:"text-orange-900 hover:bg-orange-100 flex-shrink-0",children:"âœ•"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:716,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:702,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:701,columnNumber:11},this),xe&&e.jsxDEV("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500",children:Ue?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(_e,{className:"h-4 w-4 animate-pulse"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:733,columnNumber:17},this),e.jsxDEV("span",{children:"Saving draft..."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:734,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:732,columnNumber:15},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(_e,{className:"h-4 w-4 text-green-600"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:738,columnNumber:17},this),e.jsxDEV("span",{children:["Draft saved at ",xe.toLocaleTimeString()]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:739,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:737,columnNumber:15},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:730,columnNumber:11},this),e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-blue-800 mb-2",children:"Submit Custodial Note"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:746,columnNumber:11},this),e.jsxDEV("p",{className:"text-gray-600",children:"Report maintenance issues, concerns, or general observations"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:749,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:745,columnNumber:9},this),e.jsxDEV("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b-2 border-blue-200 py-3 -mx-6 px-6 shadow-sm",children:e.jsxDEV("div",{className:"flex items-center justify-between max-w-2xl mx-auto",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-sm font-semibold text-blue-800",children:"Form Progress:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:758,columnNumber:15},this),B&&e.jsxDEV("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-blue-100 text-blue-800 border-2 border-blue-300",children:["Section ",B," of 3"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:762,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:757,columnNumber:13},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("div",{className:`w-16 h-2 rounded-full transition-colors ${B===1?"bg-blue-600":B&&B>1?"bg-blue-400":"bg-gray-200"}`},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:768,columnNumber:15},this),e.jsxDEV("div",{className:`w-16 h-2 rounded-full transition-colors ${B===2?"bg-blue-600":B&&B>2?"bg-blue-400":"bg-gray-200"}`},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:771,columnNumber:15},this),e.jsxDEV("div",{className:`w-16 h-2 rounded-full transition-colors ${B===3?"bg-blue-600":"bg-gray-200"}`},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:774,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:767,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:756,columnNumber:11},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:755,columnNumber:9},this),Ne&&e.jsxDEV("div",{className:"animate-bounce text-center text-gray-500 text-sm",children:[e.jsxDEV(Ys,{className:"inline-block"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:784,columnNumber:13},this),e.jsxDEV("p",{children:"Scroll down to continue"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:785,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:783,columnNumber:11},this),e.jsxDEV("div",{className:"bg-amber-50 border-2 border-amber-400 rounded-lg p-4 shadow-sm",children:e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV("span",{className:"text-2xl flex-shrink-0",children:"â­"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:792,columnNumber:13},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-amber-900 text-lg mb-1",children:"New Requirement: Inspector Name"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:794,columnNumber:15},this),e.jsxDEV("p",{className:"text-amber-800 text-sm",children:["Please enter your name in the ",e.jsxDEV("strong",{children:"Inspector Name"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:798,columnNumber:47},this)," ","field. This is now required for all custodial notes to ensure proper accountability and follow-up."]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:797,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:793,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:791,columnNumber:11},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:790,columnNumber:9},this),e.jsxDEV("form",{onSubmit:l(xs),className:"space-y-8",children:[e.jsxDEV($e,{className:"form-section",children:[e.jsxDEV(Pe,{children:[e.jsxDEV(Oe,{children:"Basic Information"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:810,columnNumber:15},this),e.jsxDEV(Te,{children:"Enter the basic details for this custodial note"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:811,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:809,columnNumber:13},this),e.jsxDEV(Me,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(se,{htmlFor:"inspectorName",className:"flex items-center gap-2 flex-wrap",children:[e.jsxDEV("span",{children:"Inspector Name"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:821,columnNumber:19},this),e.jsxDEV("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-red-100 text-red-800 border border-red-300",children:"Required"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:822,columnNumber:19},this),e.jsxDEV(Se,{children:[e.jsxDEV(ke,{asChild:!0,children:e.jsxDEV("button",{type:"button",className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsxDEV(qe,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:831,columnNumber:25},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:827,columnNumber:23},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:826,columnNumber:21},this),e.jsxDEV(Ie,{className:"w-80 text-sm",children:[e.jsxDEV("p",{className:"font-semibold mb-1",children:"Why is this required?"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:835,columnNumber:23},this),e.jsxDEV("p",{className:"text-gray-600",children:"Your name ensures accountability and allows for proper follow-up on reported issues. This helps maintain quality standards across all facilities."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:838,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:834,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:825,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:817,columnNumber:17},this),e.jsxDEV(ve,$(V({id:"inspectorName"},a("inspectorName")),{placeholder:"Enter your name",className:"border-2 min-h-[48px]"}),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:846,columnNumber:17},this),o.inspectorName&&e.jsxDEV("p",{className:"text-sm text-red-500",children:o.inspectorName.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:853,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:816,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(se,{htmlFor:"school",className:"flex items-center gap-2 flex-wrap",children:[e.jsxDEV("span",{children:"School"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:863,columnNumber:19},this),e.jsxDEV("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-red-100 text-red-800 border border-red-300",children:"Required"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:864,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:859,columnNumber:17},this),e.jsxDEV(Se,{open:W,onOpenChange:T,children:[e.jsxDEV(ke,{asChild:!0,children:e.jsxDEV(ee,{variant:"outline",role:"combobox","aria-expanded":W,className:"w-full justify-between border-2 min-h-[48px] text-left font-normal",children:[D||"Select school...",e.jsxDEV(Js,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:880,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:873,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:872,columnNumber:19},this),e.jsxDEV(Ie,{className:"w-full p-0",align:"start",children:e.jsxDEV(us,{children:[e.jsxDEV(ds,{placeholder:"Search schools..."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:885,columnNumber:23},this),e.jsxDEV(cs,{children:"No school found."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:886,columnNumber:23},this),e.jsxDEV(hs,{children:Va.map(u=>e.jsxDEV(Ns,{value:u,onSelect:p=>{const E=p.toUpperCase();M(E),i("school",E),T(!1)},className:"min-h-[48px] cursor-pointer",children:[e.jsxDEV(Qs,{className:`mr-2 h-4 w-4 ${D===u?"opacity-100":"opacity-0"}`},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:900,columnNumber:29},this),u]},u,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:889,columnNumber:27},this))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:887,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:884,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:883,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:868,columnNumber:17},this),o.school&&e.jsxDEV("p",{className:"text-sm text-red-500",children:o.school.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:915,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:858,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(se,{htmlFor:"date",className:"flex items-center gap-2 flex-wrap",children:[e.jsxDEV("span",{children:"Date"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:925,columnNumber:19},this),e.jsxDEV("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-red-100 text-red-800 border border-red-300",children:"Required"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:926,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:921,columnNumber:17},this),e.jsxDEV(ve,$(V({id:"date",type:"date"},a("date")),{className:"border-2 min-h-[48px]"}),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:930,columnNumber:17},this),o.date&&e.jsxDEV("p",{className:"text-sm text-red-500",children:o.date.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:937,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:920,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(se,{htmlFor:"location",className:"flex items-center gap-2 flex-wrap",children:[e.jsxDEV("span",{children:"Location"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:945,columnNumber:19},this),e.jsxDEV("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-red-100 text-red-800 border border-red-300",children:"Required"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:946,columnNumber:19},this),e.jsxDEV(Se,{children:[e.jsxDEV(ke,{asChild:!0,children:e.jsxDEV("button",{type:"button",className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsxDEV(qe,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:955,columnNumber:25},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:951,columnNumber:23},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:950,columnNumber:21},this),e.jsxDEV(Ie,{className:"w-80 text-sm",children:[e.jsxDEV("p",{className:"font-semibold mb-1",children:"Location Examples"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:959,columnNumber:23},this),e.jsxDEV("ul",{className:"text-gray-600 space-y-1 list-disc list-inside",children:[e.jsxDEV("li",{children:'Room numbers: "Room 105", "Classroom 202"'},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:961,columnNumber:25},this),e.jsxDEV("li",{children:'Common areas: "Gymnasium", "Cafeteria", "Library"'},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:962,columnNumber:25},this),e.jsxDEV("li",{children:'Outdoor: "Playground", "Parking Lot", "Field"'},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:965,columnNumber:25},this),e.jsxDEV("li",{children:'Facilities: "Restroom 1st Floor", "Main Office"'},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:966,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:960,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:958,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:949,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:941,columnNumber:17},this),te.length>0&&e.jsxDEV("div",{className:"mb-2",children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1.5",children:"Recent locations:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:975,columnNumber:21},this),e.jsxDEV("div",{className:"flex flex-wrap gap-2",children:te.map((u,p)=>e.jsxDEV("button",{type:"button",onClick:()=>{i("location",u),o.location&&f("location")},className:"inline-flex items-center px-3 py-1.5 rounded-md text-sm bg-blue-50 text-blue-700 border border-blue-200 hover:bg-blue-100 hover:border-blue-300 transition-colors",children:u},p,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:980,columnNumber:25},this))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:978,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:974,columnNumber:19},this),e.jsxDEV(ve,$(V({id:"location"},a("location")),{placeholder:"e.g., Room 105, Gymnasium, Cafeteria",className:"border-2 min-h-[48px]"}),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:999,columnNumber:17},this),o.location&&e.jsxDEV("p",{className:"text-sm text-red-500",children:o.location.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1006,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:940,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(se,{htmlFor:"locationDescription",children:"Location Description"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1012,columnNumber:17},this),e.jsxDEV(ve,$(V({id:"locationDescription"},a("locationDescription")),{placeholder:"e.g., Main Building, East Wing, 2nd Floor",className:"min-h-[48px]"}),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1015,columnNumber:17},this),o.locationDescription&&e.jsxDEV("p",{className:"text-sm text-red-500",children:o.locationDescription.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1022,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1011,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:815,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:808,columnNumber:11},this),e.jsxDEV($e,{className:"form-section",children:[e.jsxDEV(Pe,{children:[e.jsxDEV(Oe,{className:"flex items-center gap-2",children:["Issue Description & Notes",e.jsxDEV(Se,{children:[e.jsxDEV(ke,{asChild:!0,children:e.jsxDEV("button",{type:"button",className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsxDEV(qe,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1041,columnNumber:23},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1037,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1036,columnNumber:19},this),e.jsxDEV(Ie,{className:"w-80 text-sm",children:[e.jsxDEV("p",{className:"font-semibold mb-2",children:"What to Include"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1045,columnNumber:21},this),e.jsxDEV("ul",{className:"text-gray-600 space-y-1 list-disc list-inside",children:[e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"What:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1048,columnNumber:25},this)," Describe the issue clearly"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1047,columnNumber:23},this),e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"Where:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1051,columnNumber:25},this)," Specific location details"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1050,columnNumber:23},this),e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"When:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1054,columnNumber:25},this)," When you noticed it"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1053,columnNumber:23},this),e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"Severity:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1057,columnNumber:25},this)," Is it urgent or can it wait?"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1056,columnNumber:23},this),e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"Impact:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1060,columnNumber:25},this)," How does it affect operations?"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1059,columnNumber:23},this),e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"Action:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1063,columnNumber:25},this)," What needs to be done?"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1062,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1046,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1044,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1035,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1033,columnNumber:15},this),e.jsxDEV(Te,{children:"Provide detailed information about the custodial issue or observation"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1069,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1032,columnNumber:13},this),e.jsxDEV(Me,{children:[e.jsxDEV(As,$(V({},a("notes")),{placeholder:`Describe the issue, maintenance need, or observation...

Examples:
â€¢ Broken equipment or fixtures
â€¢ Cleaning supply needs
â€¢ Safety concerns
â€¢ Maintenance requests
â€¢ General observations
â€¢ Follow-up needed`,rows:10,className:"min-h-[250px]"}),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1075,columnNumber:15},this),o.notes&&e.jsxDEV("p",{className:"text-sm text-red-500 mt-2",children:o.notes.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1082,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1074,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1031,columnNumber:11},this),e.jsxDEV($e,{className:"form-section",children:[e.jsxDEV(Pe,{children:[e.jsxDEV(Oe,{children:"Photos & Documentation"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1092,columnNumber:15},this),e.jsxDEV(Te,{children:"Upload images or capture photos to document the issue"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1093,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1091,columnNumber:13},this),e.jsxDEV(Me,{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV(se,{htmlFor:"imageUpload",className:"block mb-2",children:"Upload Images (Optional)"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1100,columnNumber:19},this),e.jsxDEV(ve,{id:"imageUpload",type:"file",accept:"image/*",multiple:!0,onChange:F,className:"hidden"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1103,columnNumber:19},this),e.jsxDEV(ee,{type:"button",onClick:()=>{var u;return(u=document.getElementById("imageUpload"))==null?void 0:u.click()},variant:"outline",className:"w-full h-12 border-2 border-dashed hover:border-blue-500 hover:bg-blue-50 transition-colors",children:e.jsxDEV("span",{className:"flex items-center gap-2 text-base",children:[e.jsxDEV("span",{className:"text-2xl",children:"ðŸ“"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1120,columnNumber:23},this),e.jsxDEV("span",{className:"font-medium",children:["Tap to Select Photos"," ",b.length>0&&`(${b.length} selected)`]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1121,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1119,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1111,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum 5 images â€¢ Images auto-compressed"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1127,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1099,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-end",children:e.jsxDEV(ee,{type:"button",onClick:A,variant:"outline",className:"w-full sm:w-auto h-12 border-2",children:e.jsxDEV("span",{className:"flex items-center gap-2 text-base",children:[e.jsxDEV("span",{className:"text-xl",children:"ðŸ“·"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1139,columnNumber:23},this),e.jsxDEV("span",{children:"Capture Photo"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1140,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1138,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1132,columnNumber:19},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1131,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1098,columnNumber:15},this),R.length>0&&e.jsxDEV("div",{className:"mt-4",children:[e.jsxDEV(se,{className:"block mb-2",children:["Uploaded Images (",b.length,")"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1149,columnNumber:19},this),e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:R.map((u,p)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:u,alt:`Upload ${p+1}`,className:"w-full h-24 object-cover rounded-lg border"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1155,columnNumber:25},this),e.jsxDEV(ee,{type:"button",onClick:()=>ne(p),variant:"destructive",size:"sm",className:"absolute top-1 right-1 w-6 h-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:"Ã—"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1160,columnNumber:25},this)]},p,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1154,columnNumber:23},this))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1152,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1148,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1097,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1090,columnNumber:11},this),e.jsxDEV("div",{className:"flex justify-center",children:e.jsxDEV(ee,{type:"submit",size:"lg",disabled:c||K,className:"w-full md:w-auto disabled:bg-gray-400 disabled:cursor-not-allowed min-h-[56px] text-lg font-semibold transition-all duration-300 relative overflow-hidden",children:c||K?e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"w-5 h-5 border-3 border-white border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1188,columnNumber:21},this),e.jsxDEV("div",{className:"absolute inset-0 w-5 h-5 border-3 border-white/30 rounded-full"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1189,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1187,columnNumber:19},this),e.jsxDEV("span",{className:"animate-pulse",children:"Submitting your report..."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1191,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1186,columnNumber:17},this):e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(we,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1197,columnNumber:19},this),e.jsxDEV("span",{children:"Submit Custodial Note"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1198,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1196,columnNumber:17},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1179,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1178,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:806,columnNumber:9},this),e.jsxDEV(Ts,{open:ce,onOpenChange:q,children:e.jsxDEV(Ms,{className:"max-w-lg",children:[e.jsxDEV(Bs,{children:[e.jsxDEV(qs,{className:"text-blue-800 text-xl",children:"âœ… Confirm Submission"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1212,columnNumber:15},this),e.jsxDEV(zs,{className:"text-left",children:"Please review your custodial note before submitting:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1215,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1211,columnNumber:13},this),w&&e.jsxDEV("div",{className:"space-y-3 py-4",children:e.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"Inspector:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1224,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-900",children:w.inspectorName},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1227,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1223,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"School:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1232,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-900",children:w.school},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1235,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1231,columnNumber:19},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"Date:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1239,columnNumber:23},this),e.jsxDEV("p",{className:"text-gray-900",children:w.date},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1242,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1238,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"Location:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1245,columnNumber:23},this),e.jsxDEV("p",{className:"text-gray-900",children:w.location},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1248,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1244,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1237,columnNumber:19},this),w.locationDescription&&e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"Location Details:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1255,columnNumber:23},this),e.jsxDEV("p",{className:"text-gray-900 text-sm",children:w.locationDescription},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1258,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1254,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"Notes:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1264,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-900 text-sm max-h-24 overflow-y-auto",children:w.notes&&w.notes.length>200?`${w.notes.substring(0,200)}...`:w.notes||"No notes provided"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1267,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1263,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"Photos:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1275,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-900",children:[b.length," image",b.length!==1?"s":""," ","attached"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1278,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1274,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1222,columnNumber:17},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1221,columnNumber:15},this),e.jsxDEV(Ws,{children:[e.jsxDEV(Hs,{children:"Review/Edit"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1288,columnNumber:15},this),e.jsxDEV(Ks,{onClick:gs,className:"bg-blue-600 hover:bg-blue-700",children:"Confirm & Submit"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1289,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1287,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1210,columnNumber:11},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1206,columnNumber:9},this),K&&e.jsxDEV(Os,{message:"Submitting report..."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1301,columnNumber:11},this),t&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-300",children:e.jsxDEV("div",{className:"bg-white rounded-2xl p-8 max-w-md mx-4 shadow-2xl animate-in zoom-in duration-500",children:e.jsxDEV("div",{className:"text-center space-y-6",children:[e.jsxDEV("div",{className:"relative inline-block",children:[e.jsxDEV("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center animate-bounce",children:e.jsxDEV("div",{className:"w-20 h-20 bg-green-500 rounded-full flex items-center justify-center animate-pulse",children:e.jsxDEV("svg",{className:"w-12 h-12 text-white animate-in zoom-in duration-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1319,columnNumber:25},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1313,columnNumber:23},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1312,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1311,columnNumber:19},this),e.jsxDEV(we,{className:"absolute -top-2 -right-2 h-8 w-8 text-yellow-400 animate-pulse"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1329,columnNumber:19},this),e.jsxDEV(we,{className:"absolute -bottom-2 -left-2 h-6 w-6 text-yellow-400 animate-pulse",style:{animationDelay:"0.2s"}},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1330,columnNumber:19},this),e.jsxDEV(we,{className:"absolute -top-2 -left-2 h-5 w-5 text-blue-400 animate-pulse",style:{animationDelay:"0.4s"}},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1334,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1310,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-green-700",children:"ðŸŽ‰ Success!"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1342,columnNumber:19},this),e.jsxDEV("p",{className:"text-gray-600 text-lg",children:"Your custodial note has been submitted successfully!"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1345,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:"Redirecting you back to the home page..."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1348,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1341,columnNumber:17},this),e.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:e.jsxDEV("div",{className:"h-full bg-gradient-to-r from-green-400 to-blue-500 rounded-full animate-[progress_3s_ease-in-out]",style:{animation:"progress 3s ease-in-out forwards"}},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1355,columnNumber:19},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1354,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1308,columnNumber:15},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1307,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1306,columnNumber:11},this),v&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-300",children:e.jsxDEV("div",{className:"bg-white rounded-2xl p-8 max-w-md mx-4 shadow-2xl animate-in zoom-in duration-500",children:e.jsxDEV("div",{className:"text-center space-y-6",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-800",children:"Report Another Issue?"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1373,columnNumber:19},this),e.jsxDEV("p",{className:"text-gray-600",children:"Found another issue at the same location?"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1376,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:"We can pre-fill your inspector name, school, date, and location to save you time!"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1379,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1372,columnNumber:17},this),e.jsxDEV("div",{className:"flex flex-col gap-3",children:[e.jsxDEV("button",{onClick:bs,className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors shadow-md hover:shadow-lg min-h-[48px]",children:"ðŸ“ Report Another Issue Here"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1387,columnNumber:19},this),e.jsxDEV("button",{onClick:ps,className:"w-full px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold rounded-lg transition-colors min-h-[48px]",children:"ðŸ  Return to Home"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1393,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1386,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1371,columnNumber:15},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1370,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1369,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:688,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:684,columnNumber:5},this)}export{Ba as default};
