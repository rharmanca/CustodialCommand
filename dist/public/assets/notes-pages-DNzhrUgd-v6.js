import{M as Se,r as i,j as e,k as oe,ad as Ie,C as M,bv as ke,g as Le,bw as k}from"./vendor-1jRaonge-v6.js";import{t as Ae}from"./forms-qrEI1HMw-v6.js";import{a as Fe,bz as Re,bA as b,bB as Pe,B as C,C as q,b as H,c as B,d as G,e as J,L as v,bC as L,bD as A,bE as F,I as w,bF as Oe,bG as $e,bH as Te,bI as ze,bJ as We,t as Me,A as qe,w as He,x as Be,y as Ge,z as Je,E as Ye,F as _e,G as Ke,b2 as Qe,bK as Xe,bu as Ze,bv as es,bw as Y,bL as ss}from"./index-DUq3a8zQ-v6.js";import"./ui-BQCqNqg0-v6.js";import"./utils-DvvWCVwA-v6.js";import"./charts-core-Ci00SAtp-v6.js";import"./pdf-export-DLkp0oRl-v6.js";const as=["ASA","CBR","GWC","LCA","OA","WLC"],ts=`
  @keyframes progress {
    from {
      width: 0%;
    }
    to {
      width: 100%;
    }
  }
`;function cs({onBack:S}){const{toast:h}=Fe();Re({onWarning:(s,t,r)=>{h({variant:r==="critical"?"destructive":"default",title:r==="critical"?"âš ï¸ Storage Almost Full":"âš¡ Storage Warning",description:s,duration:7e3})},checkInterval:3e4,checkOnMount:!0});const{register:U,handleSubmit:ie,formState:{errors:c,isSubmitting:_},reset:le,setValue:u,getValues:rs,watch:ne,clearErrors:me}=Se({resolver:Ae(ss),defaultValues:Xe}),R=ne(),[x,P]=i.useState([]),[V,O]=i.useState([]),[de,$]=i.useState(!1),[n,K]=i.useState(null),[y,I]=i.useState(!1),[Q,X]=i.useState(!1),[D,E]=i.useState(""),[f,ue]=i.useState(null),[ce,he]=i.useState(!0),[Ne,be]=i.useState(!1),[xe,fe]=i.useState(!0),[Z,ee]=i.useState([]),[se,T]=i.useState(null),[pe,ae]=i.useState(!1),[ge,te]=i.useState(!1),[Ce,z]=i.useState(!1),[p,W]=i.useState(null);i.useEffect(()=>{const s=()=>{const t=document.querySelectorAll(".form-section"),r=window.scrollY+window.innerHeight/2;t.forEach((a,o)=>{const m=a.getBoundingClientRect(),d=m.top+window.scrollY,N=d+m.height;r>=d&&r<N&&ue(o+1)}),window.scrollY>100&&he(!1)};return window.addEventListener("scroll",s),s(),()=>window.removeEventListener("scroll",s)},[]),i.useEffect(()=>{const s=()=>{const t=window.innerWidth<=768,r=window.innerHeight<500;be(t&&r)};return s(),window.addEventListener("resize",s),window.addEventListener("orientationchange",s),()=>{window.removeEventListener("resize",s),window.removeEventListener("orientationchange",s)}},[]),i.useEffect(()=>{if(Object.values(R).some(t=>t&&t!=="")&&!y){const t=setTimeout(()=>{ae(!0);const r={...R,selectedSchool:D,savedAt:new Date().toISOString()};b.setItem("custodialNotesDraft",JSON.stringify(r)),T(new Date),ae(!1)},2e3);return()=>clearTimeout(t)}},[R,D,y]),i.useEffect(()=>{try{const s=b.getItem("custodialNotesDraft");let t=!1;if(s){const a=JSON.parse(s),o=new Date(a.savedAt);(Date.now()-o.getTime())/(1e3*60*60)<24?(t=!0,Object.keys(a).forEach(d=>{d!=="savedAt"&&d!=="selectedSchool"&&u(d,a[d])}),a.selectedSchool&&(E(a.selectedSchool),u("school",a.selectedSchool)),T(o),h({title:"Draft Restored",description:`Your work from ${o.toLocaleString()} was restored.`,duration:5e3})):b.removeItem("custodialNotesDraft")}if(!t){const a=b.getItem("custodialInspectorName");a&&u("inspectorName",a);const o=b.getItem("custodialLastSchool");o&&(E(o),u("school",o))}const r=b.getItem("custodialRecentLocations");if(r){const a=JSON.parse(r);ee(Array.isArray(a)?a:[])}}catch(s){console.error("Error loading saved data:",s)}},[u,E,h]);const re=async s=>{const t=s.target.files;if(t&&t.length>0){const r=Array.from(t),o=5-x.length,m=r.slice(0,o);m.length<r.length&&h({title:"Maximum Images Reached",description:`Only ${m.length} images were added. Maximum of 5 images allowed.`});const d=[];let N=0,j=0;for(const l of m)if(N+=l.size,Ze(l,500))try{const g=await es(l,{maxSizeKB:500});d.push(g.compressedFile),j+=g.compressedSize,console.log(`Compressed ${l.name}: ${Y(l.size)} â†’ ${Y(g.compressedSize)}`)}catch(g){console.error("Failed to compress image:",g),d.push(l),j+=l.size}else d.push(l),j+=l.size;P(l=>[...l,...d]);const we=d.map(l=>URL.createObjectURL(l));if(O(l=>[...l,...we]),d.length>0){const l=N-j,g=l>0?(l/N*100).toFixed(1):"0";h({title:"ðŸ“¸ Photos Uploaded Successfully!",description:`Successfully added ${d.length} photo${d.length>1?"s":""} to your custodial note documentation.${l>0?` Saved ${Y(l)} (${g}% compression).`:""}`,duration:3e3})}}s.target.value=""},ve=()=>{if(x.length>=5){h({variant:"destructive",title:"Maximum Images Reached",description:"Maximum of 5 images allowed. Please remove some images first."});return}const s=document.createElement("input");s.type="file",s.accept="image/*",s.capture="environment",s.onchange=t=>{const r=t;r.target.files&&r.target.files.length>0&&h({title:"ðŸ“· Photo Captured Successfully!",description:"Camera photo is being processed and added to your documentation.",duration:2e3}),re(r)},s.click()},De=s=>{const t=x.filter((a,o)=>o!==s),r=V.filter((a,o)=>o!==s);URL.revokeObjectURL(V[s]),P(t),O(r)},Ee=s=>{s.trim()&&ee(t=>{const r=t.filter(o=>o!==s),a=[s,...r].slice(0,5);try{b.setItem("custodialRecentLocations",JSON.stringify(a))}catch(o){console.error("Error saving recent locations:",o)}return a})},je=()=>{p&&(u("inspectorName",p.inspectorName),u("school",p.school),u("date",p.date),u("location",p.location),u("locationDescription",p.locationDescription||""),E(p.school),u("notes",""),u("images",[]),z(!1),W(null),window.scrollTo({top:0,behavior:"smooth"}),h({title:"Form Pre-filled",description:"Inspector, school, date, and location have been filled in. Just add new notes and photos!",duration:4e3}))},Ue=()=>{z(!1),W(null),S&&S()},Ve=async s=>{K(s),$(!0)},ye=async()=>{if(n){I(!0),$(!1);try{const s=new FormData;Object.entries(n).forEach(([a,o])=>{a!=="images"&&s.append(a,o?.toString()||"")}),x.forEach(a=>{s.append("images",a)});const t={method:"POST",body:s,headers:{}};t.headers={...t.headers,"X-Debug-Info":JSON.stringify({userAgent:navigator.userAgent,formDataEntries:Array.from(s.entries()).map(([a,o])=>[a,typeof o=="string"?o.substring(0,50)+(o.length>50?"...":""):`File(${o instanceof File?o.name:"unknown"})`])})};const r=await fetch("/api/custodial-notes",t);if(r.ok){te(!0),b.removeItem("custodialNotesDraft");try{b.setItem("custodialInspectorName",n.inspectorName),b.setItem("custodialLastSchool",D),Ee(n.location)}catch(m){console.error("Error saving user preferences:",m)}W(n),h({title:"âœ… Custodial Note Submitted Successfully!",description:"Your custodial concern has been recorded and will be reviewed.",variant:"default",duration:5e3});const a=n.inspectorName,o=D;le(),u("inspectorName",a),u("school",o),E(o),P([]),V.forEach(m=>URL.revokeObjectURL(m)),O([]),K(null),T(null),I(!1),setTimeout(()=>{te(!1),z(!0)},3e3)}else{const a=await r.json().catch(()=>({success:!1,message:"Unknown error occurred",details:"Unable to parse server response"}));let o=a.message||"Unable to submit custodial note. Please try again.",m="";a.success===!1&&a.details&&(Array.isArray(a.details)?m=`Please check: ${a.details.map(N=>`${N.field}: ${N.message}`).join(", ")}`:typeof a.details=="object"?m=`Required: ${Object.entries(a.details).filter(([N,j])=>j==="âœ— required").map(([N])=>N.replace(/([A-Z])/g," $1").trim()).join(", ")}`:m=a.details),(a.technical==="FormData parsing failed"||a.message?.includes("form data is malformed"))&&(o="Form submission error",m="Please refresh the page and try submitting again. If the problem persists, contact support."),h({variant:"destructive",title:"âŒ Submission Failed",description:`${o}${m?`

${m}`:""}`,duration:8e3}),I(!1),console.error("Form submission error details:",{status:r.status,statusText:r.statusText,errorData:a,formDataFields:Object.keys(n||{})})}}catch(s){console.error("Error submitting custodial note:",s);let t="Network Error",r="Unable to connect to the server. Please check your connection and try again.";s instanceof TypeError&&(s.message.includes("Failed to fetch")?(t="Connection Failed",r=`Unable to reach the server. Please check:
â€¢ Internet connection
â€¢ Server is running
â€¢ No firewall blocking the request`):s.message.includes("NetworkError")&&(t="Network Error",r="A network error occurred. Please try again.")),h({variant:"destructive",title:`âŒ ${t}`,description:r,duration:8e3}),I(!1)}}};return e.jsxDEV(Pe,{children:[e.jsxDEV("style",{children:ts},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:686,columnNumber:7},this),e.jsxDEV("div",{className:"max-w-3xl mx-auto p-6 space-y-8",children:[S&&e.jsxDEV(C,{onClick:S,variant:"outline",className:"mb-4 back-button min-h-[48px] px-6",children:"â† Back to Custodial"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:690,columnNumber:11},this),Ne&&xe&&e.jsxDEV("div",{className:"bg-orange-50 border-2 border-orange-400 rounded-lg p-4 shadow-lg",children:e.jsxDEV("div",{className:"flex items-start justify-between gap-3",children:[e.jsxDEV("div",{className:"flex items-start gap-3 flex-1",children:[e.jsxDEV("span",{className:"text-2xl flex-shrink-0",children:"ðŸ“±"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:704,columnNumber:17},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-orange-900 text-lg mb-1",children:"Landscape Mode Detected"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:706,columnNumber:19},this),e.jsxDEV("p",{className:"text-orange-800 text-sm",children:["For the best experience filling out this form, please"," ",e.jsxDEV("strong",{children:"rotate your device to portrait mode"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:711,columnNumber:21},this)," ","(vertical orientation)."]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:709,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:705,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:703,columnNumber:15},this),e.jsxDEV(C,{variant:"ghost",size:"sm",onClick:()=>fe(!1),className:"text-orange-900 hover:bg-orange-100 flex-shrink-0",children:"âœ•"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:716,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:702,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:701,columnNumber:11},this),se&&e.jsxDEV("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500",children:pe?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(oe,{className:"h-4 w-4 animate-pulse"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:733,columnNumber:17},this),e.jsxDEV("span",{children:"Saving draft..."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:734,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:732,columnNumber:15},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(oe,{className:"h-4 w-4 text-green-600"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:738,columnNumber:17},this),e.jsxDEV("span",{children:["Draft saved at ",se.toLocaleTimeString()]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:739,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:737,columnNumber:15},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:730,columnNumber:11},this),e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-blue-800 mb-2",children:"Submit Custodial Note"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:746,columnNumber:11},this),e.jsxDEV("p",{className:"text-gray-600",children:"Report maintenance issues, concerns, or general observations"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:749,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:745,columnNumber:9},this),e.jsxDEV("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b-2 border-blue-200 py-3 -mx-6 px-6 shadow-sm",children:e.jsxDEV("div",{className:"flex items-center justify-between max-w-2xl mx-auto",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-sm font-semibold text-blue-800",children:"Form Progress:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:758,columnNumber:15},this),f&&e.jsxDEV("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-blue-100 text-blue-800 border-2 border-blue-300",children:["Section ",f," of 3"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:762,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:757,columnNumber:13},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("div",{className:`w-16 h-2 rounded-full transition-colors ${f===1?"bg-blue-600":f&&f>1?"bg-blue-400":"bg-gray-200"}`},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:768,columnNumber:15},this),e.jsxDEV("div",{className:`w-16 h-2 rounded-full transition-colors ${f===2?"bg-blue-600":f&&f>2?"bg-blue-400":"bg-gray-200"}`},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:771,columnNumber:15},this),e.jsxDEV("div",{className:`w-16 h-2 rounded-full transition-colors ${f===3?"bg-blue-600":"bg-gray-200"}`},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:774,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:767,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:756,columnNumber:11},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:755,columnNumber:9},this),ce&&e.jsxDEV("div",{className:"animate-bounce text-center text-gray-500 text-sm",children:[e.jsxDEV(Ie,{className:"inline-block"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:784,columnNumber:13},this),e.jsxDEV("p",{children:"Scroll down to continue"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:785,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:783,columnNumber:11},this),e.jsxDEV("div",{className:"bg-amber-50 border-2 border-amber-400 rounded-lg p-4 shadow-sm",children:e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV("span",{className:"text-2xl flex-shrink-0",children:"â­"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:792,columnNumber:13},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-amber-900 text-lg mb-1",children:"New Requirement: Inspector Name"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:794,columnNumber:15},this),e.jsxDEV("p",{className:"text-amber-800 text-sm",children:["Please enter your name in the ",e.jsxDEV("strong",{children:"Inspector Name"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:798,columnNumber:47},this)," ","field. This is now required for all custodial notes to ensure proper accountability and follow-up."]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:797,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:793,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:791,columnNumber:11},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:790,columnNumber:9},this),e.jsxDEV("form",{onSubmit:ie(Ve),className:"space-y-8",children:[e.jsxDEV(q,{className:"form-section",children:[e.jsxDEV(H,{children:[e.jsxDEV(B,{children:"Basic Information"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:810,columnNumber:15},this),e.jsxDEV(G,{children:"Enter the basic details for this custodial note"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:811,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:809,columnNumber:13},this),e.jsxDEV(J,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(v,{htmlFor:"inspectorName",className:"flex items-center gap-2 flex-wrap",children:[e.jsxDEV("span",{children:"Inspector Name"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:821,columnNumber:19},this),e.jsxDEV("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-red-100 text-red-800 border border-red-300",children:"Required"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:822,columnNumber:19},this),e.jsxDEV(L,{children:[e.jsxDEV(A,{asChild:!0,children:e.jsxDEV("button",{type:"button",className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsxDEV(M,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:831,columnNumber:25},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:827,columnNumber:23},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:826,columnNumber:21},this),e.jsxDEV(F,{className:"w-80 text-sm",children:[e.jsxDEV("p",{className:"font-semibold mb-1",children:"Why is this required?"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:835,columnNumber:23},this),e.jsxDEV("p",{className:"text-gray-600",children:"Your name ensures accountability and allows for proper follow-up on reported issues. This helps maintain quality standards across all facilities."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:838,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:834,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:825,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:817,columnNumber:17},this),e.jsxDEV(w,{id:"inspectorName",...U("inspectorName"),placeholder:"Enter your name",className:"border-2 min-h-[48px]"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:846,columnNumber:17},this),c.inspectorName&&e.jsxDEV("p",{className:"text-sm text-red-500",children:c.inspectorName.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:853,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:816,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(v,{htmlFor:"school",className:"flex items-center gap-2 flex-wrap",children:[e.jsxDEV("span",{children:"School"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:863,columnNumber:19},this),e.jsxDEV("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-red-100 text-red-800 border border-red-300",children:"Required"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:864,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:859,columnNumber:17},this),e.jsxDEV(L,{open:Q,onOpenChange:X,children:[e.jsxDEV(A,{asChild:!0,children:e.jsxDEV(C,{variant:"outline",role:"combobox","aria-expanded":Q,className:"w-full justify-between border-2 min-h-[48px] text-left font-normal",children:[D||"Select school...",e.jsxDEV(ke,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:880,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:873,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:872,columnNumber:19},this),e.jsxDEV(F,{className:"w-full p-0",align:"start",children:e.jsxDEV(Oe,{children:[e.jsxDEV($e,{placeholder:"Search schools..."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:885,columnNumber:23},this),e.jsxDEV(Te,{children:"No school found."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:886,columnNumber:23},this),e.jsxDEV(ze,{children:as.map(s=>e.jsxDEV(We,{value:s,onSelect:t=>{const r=t.toUpperCase();E(r),u("school",r),X(!1)},className:"min-h-[48px] cursor-pointer",children:[e.jsxDEV(Le,{className:`mr-2 h-4 w-4 ${D===s?"opacity-100":"opacity-0"}`},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:900,columnNumber:29},this),s]},s,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:889,columnNumber:27},this))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:887,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:884,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:883,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:868,columnNumber:17},this),c.school&&e.jsxDEV("p",{className:"text-sm text-red-500",children:c.school.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:915,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:858,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(v,{htmlFor:"date",className:"flex items-center gap-2 flex-wrap",children:[e.jsxDEV("span",{children:"Date"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:925,columnNumber:19},this),e.jsxDEV("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-red-100 text-red-800 border border-red-300",children:"Required"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:926,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:921,columnNumber:17},this),e.jsxDEV(w,{id:"date",type:"date",...U("date"),className:"border-2 min-h-[48px]"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:930,columnNumber:17},this),c.date&&e.jsxDEV("p",{className:"text-sm text-red-500",children:c.date.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:937,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:920,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(v,{htmlFor:"location",className:"flex items-center gap-2 flex-wrap",children:[e.jsxDEV("span",{children:"Location"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:945,columnNumber:19},this),e.jsxDEV("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-red-100 text-red-800 border border-red-300",children:"Required"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:946,columnNumber:19},this),e.jsxDEV(L,{children:[e.jsxDEV(A,{asChild:!0,children:e.jsxDEV("button",{type:"button",className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsxDEV(M,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:955,columnNumber:25},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:951,columnNumber:23},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:950,columnNumber:21},this),e.jsxDEV(F,{className:"w-80 text-sm",children:[e.jsxDEV("p",{className:"font-semibold mb-1",children:"Location Examples"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:959,columnNumber:23},this),e.jsxDEV("ul",{className:"text-gray-600 space-y-1 list-disc list-inside",children:[e.jsxDEV("li",{children:'Room numbers: "Room 105", "Classroom 202"'},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:961,columnNumber:25},this),e.jsxDEV("li",{children:'Common areas: "Gymnasium", "Cafeteria", "Library"'},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:962,columnNumber:25},this),e.jsxDEV("li",{children:'Outdoor: "Playground", "Parking Lot", "Field"'},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:965,columnNumber:25},this),e.jsxDEV("li",{children:'Facilities: "Restroom 1st Floor", "Main Office"'},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:966,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:960,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:958,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:949,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:941,columnNumber:17},this),Z.length>0&&e.jsxDEV("div",{className:"mb-2",children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1.5",children:"Recent locations:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:975,columnNumber:21},this),e.jsxDEV("div",{className:"flex flex-wrap gap-2",children:Z.map((s,t)=>e.jsxDEV("button",{type:"button",onClick:()=>{u("location",s),c.location&&me("location")},className:"inline-flex items-center px-3 py-1.5 rounded-md text-sm bg-blue-50 text-blue-700 border border-blue-200 hover:bg-blue-100 hover:border-blue-300 transition-colors",children:s},t,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:980,columnNumber:25},this))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:978,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:974,columnNumber:19},this),e.jsxDEV(w,{id:"location",...U("location"),placeholder:"e.g., Room 105, Gymnasium, Cafeteria",className:"border-2 min-h-[48px]"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:999,columnNumber:17},this),c.location&&e.jsxDEV("p",{className:"text-sm text-red-500",children:c.location.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1006,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:940,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(v,{htmlFor:"locationDescription",children:"Location Description"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1012,columnNumber:17},this),e.jsxDEV(w,{id:"locationDescription",...U("locationDescription"),placeholder:"e.g., Main Building, East Wing, 2nd Floor",className:"min-h-[48px]"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1015,columnNumber:17},this),c.locationDescription&&e.jsxDEV("p",{className:"text-sm text-red-500",children:c.locationDescription.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1022,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1011,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:815,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:808,columnNumber:11},this),e.jsxDEV(q,{className:"form-section",children:[e.jsxDEV(H,{children:[e.jsxDEV(B,{className:"flex items-center gap-2",children:["Issue Description & Notes",e.jsxDEV(L,{children:[e.jsxDEV(A,{asChild:!0,children:e.jsxDEV("button",{type:"button",className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsxDEV(M,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1041,columnNumber:23},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1037,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1036,columnNumber:19},this),e.jsxDEV(F,{className:"w-80 text-sm",children:[e.jsxDEV("p",{className:"font-semibold mb-2",children:"What to Include"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1045,columnNumber:21},this),e.jsxDEV("ul",{className:"text-gray-600 space-y-1 list-disc list-inside",children:[e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"What:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1048,columnNumber:25},this)," Describe the issue clearly"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1047,columnNumber:23},this),e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"Where:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1051,columnNumber:25},this)," Specific location details"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1050,columnNumber:23},this),e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"When:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1054,columnNumber:25},this)," When you noticed it"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1053,columnNumber:23},this),e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"Severity:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1057,columnNumber:25},this)," Is it urgent or can it wait?"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1056,columnNumber:23},this),e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"Impact:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1060,columnNumber:25},this)," How does it affect operations?"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1059,columnNumber:23},this),e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"Action:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1063,columnNumber:25},this)," What needs to be done?"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1062,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1046,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1044,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1035,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1033,columnNumber:15},this),e.jsxDEV(G,{children:"Provide detailed information about the custodial issue or observation"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1069,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1032,columnNumber:13},this),e.jsxDEV(J,{children:[e.jsxDEV(Me,{...U("notes"),placeholder:`Describe the issue, maintenance need, or observation...

Examples:
â€¢ Broken equipment or fixtures
â€¢ Cleaning supply needs
â€¢ Safety concerns
â€¢ Maintenance requests
â€¢ General observations
â€¢ Follow-up needed`,rows:10,className:"min-h-[250px]"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1075,columnNumber:15},this),c.notes&&e.jsxDEV("p",{className:"text-sm text-red-500 mt-2",children:c.notes.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1082,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1074,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1031,columnNumber:11},this),e.jsxDEV(q,{className:"form-section",children:[e.jsxDEV(H,{children:[e.jsxDEV(B,{children:"Photos & Documentation"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1092,columnNumber:15},this),e.jsxDEV(G,{children:"Upload images or capture photos to document the issue"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1093,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1091,columnNumber:13},this),e.jsxDEV(J,{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV(v,{htmlFor:"imageUpload",className:"block mb-2",children:"Upload Images (Optional)"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1100,columnNumber:19},this),e.jsxDEV(w,{id:"imageUpload",type:"file",accept:"image/*",multiple:!0,onChange:re,className:"hidden"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1103,columnNumber:19},this),e.jsxDEV(C,{type:"button",onClick:()=>document.getElementById("imageUpload")?.click(),variant:"outline",className:"w-full h-12 border-2 border-dashed hover:border-blue-500 hover:bg-blue-50 transition-colors",children:e.jsxDEV("span",{className:"flex items-center gap-2 text-base",children:[e.jsxDEV("span",{className:"text-2xl",children:"ðŸ“"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1120,columnNumber:23},this),e.jsxDEV("span",{className:"font-medium",children:["Tap to Select Photos"," ",x.length>0&&`(${x.length} selected)`]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1121,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1119,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1111,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum 5 images â€¢ Images auto-compressed"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1127,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1099,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-end",children:e.jsxDEV(C,{type:"button",onClick:ve,variant:"outline",className:"w-full sm:w-auto h-12 border-2",children:e.jsxDEV("span",{className:"flex items-center gap-2 text-base",children:[e.jsxDEV("span",{className:"text-xl",children:"ðŸ“·"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1139,columnNumber:23},this),e.jsxDEV("span",{children:"Capture Photo"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1140,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1138,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1132,columnNumber:19},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1131,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1098,columnNumber:15},this),V.length>0&&e.jsxDEV("div",{className:"mt-4",children:[e.jsxDEV(v,{className:"block mb-2",children:["Uploaded Images (",x.length,")"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1149,columnNumber:19},this),e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:V.map((s,t)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:s,alt:`Upload ${t+1}`,className:"w-full h-24 object-cover rounded-lg border"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1155,columnNumber:25},this),e.jsxDEV(C,{type:"button",onClick:()=>De(t),variant:"destructive",size:"sm",className:"absolute top-1 right-1 w-6 h-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:"Ã—"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1160,columnNumber:25},this)]},t,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1154,columnNumber:23},this))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1152,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1148,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1097,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1090,columnNumber:11},this),e.jsxDEV("div",{className:"flex justify-center",children:e.jsxDEV(C,{type:"submit",size:"lg",disabled:_||y,className:"w-full md:w-auto disabled:bg-gray-400 disabled:cursor-not-allowed min-h-[56px] text-lg font-semibold transition-all duration-300 relative overflow-hidden",children:_||y?e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"w-5 h-5 border-3 border-white border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1188,columnNumber:21},this),e.jsxDEV("div",{className:"absolute inset-0 w-5 h-5 border-3 border-white/30 rounded-full"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1189,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1187,columnNumber:19},this),e.jsxDEV("span",{className:"animate-pulse",children:"Submitting your report..."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1191,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1186,columnNumber:17},this):e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(k,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1197,columnNumber:19},this),e.jsxDEV("span",{children:"Submit Custodial Note"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1198,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1196,columnNumber:17},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1179,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1178,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:806,columnNumber:9},this),e.jsxDEV(qe,{open:de,onOpenChange:$,children:e.jsxDEV(He,{className:"max-w-lg",children:[e.jsxDEV(Be,{children:[e.jsxDEV(Ge,{className:"text-blue-800 text-xl",children:"âœ… Confirm Submission"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1212,columnNumber:15},this),e.jsxDEV(Je,{className:"text-left",children:"Please review your custodial note before submitting:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1215,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1211,columnNumber:13},this),n&&e.jsxDEV("div",{className:"space-y-3 py-4",children:e.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"Inspector:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1224,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-900",children:n.inspectorName},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1227,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1223,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"School:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1232,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-900",children:n.school},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1235,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1231,columnNumber:19},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"Date:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1239,columnNumber:23},this),e.jsxDEV("p",{className:"text-gray-900",children:n.date},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1242,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1238,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"Location:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1245,columnNumber:23},this),e.jsxDEV("p",{className:"text-gray-900",children:n.location},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1248,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1244,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1237,columnNumber:19},this),n.locationDescription&&e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"Location Details:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1255,columnNumber:23},this),e.jsxDEV("p",{className:"text-gray-900 text-sm",children:n.locationDescription},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1258,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1254,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"Notes:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1264,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-900 text-sm max-h-24 overflow-y-auto",children:n.notes&&n.notes.length>200?`${n.notes.substring(0,200)}...`:n.notes||"No notes provided"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1267,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1263,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"Photos:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1275,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-900",children:[x.length," image",x.length!==1?"s":""," ","attached"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1278,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1274,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1222,columnNumber:17},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1221,columnNumber:15},this),e.jsxDEV(Ye,{children:[e.jsxDEV(_e,{children:"Review/Edit"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1288,columnNumber:15},this),e.jsxDEV(Ke,{onClick:ye,className:"bg-blue-600 hover:bg-blue-700",children:"Confirm & Submit"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1289,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1287,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1210,columnNumber:11},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1206,columnNumber:9},this),y&&e.jsxDEV(Qe,{message:"Submitting report..."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1301,columnNumber:11},this),ge&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-300",children:e.jsxDEV("div",{className:"bg-white rounded-2xl p-8 max-w-md mx-4 shadow-2xl animate-in zoom-in duration-500",children:e.jsxDEV("div",{className:"text-center space-y-6",children:[e.jsxDEV("div",{className:"relative inline-block",children:[e.jsxDEV("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center animate-bounce",children:e.jsxDEV("div",{className:"w-20 h-20 bg-green-500 rounded-full flex items-center justify-center animate-pulse",children:e.jsxDEV("svg",{className:"w-12 h-12 text-white animate-in zoom-in duration-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1319,columnNumber:25},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1313,columnNumber:23},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1312,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1311,columnNumber:19},this),e.jsxDEV(k,{className:"absolute -top-2 -right-2 h-8 w-8 text-yellow-400 animate-pulse"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1329,columnNumber:19},this),e.jsxDEV(k,{className:"absolute -bottom-2 -left-2 h-6 w-6 text-yellow-400 animate-pulse",style:{animationDelay:"0.2s"}},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1330,columnNumber:19},this),e.jsxDEV(k,{className:"absolute -top-2 -left-2 h-5 w-5 text-blue-400 animate-pulse",style:{animationDelay:"0.4s"}},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1334,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1310,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-green-700",children:"ðŸŽ‰ Success!"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1342,columnNumber:19},this),e.jsxDEV("p",{className:"text-gray-600 text-lg",children:"Your custodial note has been submitted successfully!"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1345,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:"Redirecting you back to the home page..."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1348,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1341,columnNumber:17},this),e.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:e.jsxDEV("div",{className:"h-full bg-gradient-to-r from-green-400 to-blue-500 rounded-full animate-[progress_3s_ease-in-out]",style:{animation:"progress 3s ease-in-out forwards"}},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1355,columnNumber:19},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1354,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1308,columnNumber:15},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1307,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1306,columnNumber:11},this),Ce&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-300",children:e.jsxDEV("div",{className:"bg-white rounded-2xl p-8 max-w-md mx-4 shadow-2xl animate-in zoom-in duration-500",children:e.jsxDEV("div",{className:"text-center space-y-6",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-800",children:"Report Another Issue?"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1373,columnNumber:19},this),e.jsxDEV("p",{className:"text-gray-600",children:"Found another issue at the same location?"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1376,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:"We can pre-fill your inspector name, school, date, and location to save you time!"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1379,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1372,columnNumber:17},this),e.jsxDEV("div",{className:"flex flex-col gap-3",children:[e.jsxDEV("button",{onClick:je,className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors shadow-md hover:shadow-lg min-h-[48px]",children:"ðŸ“ Report Another Issue Here"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1387,columnNumber:19},this),e.jsxDEV("button",{onClick:Ue,className:"w-full px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold rounded-lg transition-colors min-h-[48px]",children:"ðŸ  Return to Home"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1393,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1386,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1371,columnNumber:15},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1370,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1369,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:688,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:684,columnNumber:5},this)}export{cs as default};
