import{O as z,n as G,r as m,j as e,c as N,a as F,k as A,X as $,u as H,b as B,f as E,s as V}from"./index-HLq_73Du.js";import{refreshCsrfTokenIfNeeded as J,getCsrfToken as X}from"./csrf-DV9n1Bpu.js";import{I as D}from"./image-DnzUcU-b.js";import{F as K}from"./file-text-BRZoaSmN.js";import{L as I}from"./label-Bt5uGumo.js";import{S as Y,a as Z,b as ee,c as te,d as re}from"./select-CeoiMW6k.js";import{C as ae}from"./circle-check-B-cr6RRo.js";import{A as T}from"./arrow-left-jIfaYMh_.js";import{B as se}from"./building-2-s2MRPQzo.js";import{M as ie}from"./map-pin-BRBikdsy.js";import{L as ne}from"./loader-circle-CfuPqdzB.js";import{S as oe}from"./save-bIEvCea5.js";import"./Combination-CZRApATG.js";var R={exports:{}},le=R.exports,q;function ce(){return q||(q=1,(function(w,M){(function(j,x){w.exports=x(z())})(le,function(b){return(function(j){var x={};function o(a){if(x[a])return x[a].exports;var l=x[a]={i:a,l:!1,exports:{}};return j[a].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=j,o.c=x,o.d=function(a,l,f){o.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:f})},o.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},o.t=function(a,l){if(l&1&&(a=o(a)),l&8||l&4&&typeof a=="object"&&a&&a.__esModule)return a;var f=Object.create(null);if(o.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:a}),l&2&&typeof a!="string")for(var S in a)o.d(f,S,function(k){return a[k]}.bind(null,S));return f},o.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(l,"a",l),l},o.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},o.p="",o(o.s="./src/react-webcam.tsx")})({"./src/react-webcam.tsx":(function(j,x,o){o.r(x);var a=o("react"),l=(function(){var d=function(n,t){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)s.hasOwnProperty(i)&&(r[i]=s[i])},d(n,t)};return function(n,t){d(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),f=function(){return f=Object.assign||function(d){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(d[s]=n[s])}return d},f.apply(this,arguments)},S=function(d,n){var t={};for(var r in d)Object.prototype.hasOwnProperty.call(d,r)&&n.indexOf(r)<0&&(t[r]=d[r]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(d);s<r.length;s++)n.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(d,r[s])&&(t[r[s]]=d[r[s]]);return t};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(n){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise(function(r,s){t.call(navigator,n,r,s)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function k(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var c=(function(d){l(n,d);function n(t){var r=d.call(this,t)||this;return r.canvas=null,r.ctx=null,r.requestUserMediaId=0,r.unmounted=!1,r.state={hasUserMedia:!1},r}return n.prototype.componentDidMount=function(){var t=this,r=t.state,s=t.props;if(this.unmounted=!1,!k()){s.onUserMediaError("getUserMedia not supported");return}r.hasUserMedia||this.requestUserMedia(),s.children&&typeof s.children!="function"&&console.warn("children must be a function")},n.prototype.componentDidUpdate=function(t){var r=this.props;if(!k()){r.onUserMediaError("getUserMedia not supported");return}var s=JSON.stringify(t.audioConstraints)!==JSON.stringify(r.audioConstraints),i=JSON.stringify(t.videoConstraints)!==JSON.stringify(r.videoConstraints),h=t.minScreenshotWidth!==r.minScreenshotWidth,v=t.minScreenshotHeight!==r.minScreenshotHeight;(i||h||v)&&(this.canvas=null,this.ctx=null),(s||i)&&(this.stopAndCleanup(),this.requestUserMedia())},n.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},n.stopMediaStream=function(t){t&&(t.getVideoTracks&&t.getAudioTracks?(t.getVideoTracks().map(function(r){t.removeTrack(r),r.stop()}),t.getAudioTracks().map(function(r){t.removeTrack(r),r.stop()})):t.stop())},n.prototype.stopAndCleanup=function(){var t=this.state;t.hasUserMedia&&(n.stopMediaStream(this.stream),t.src&&window.URL.revokeObjectURL(t.src))},n.prototype.getScreenshot=function(t){var r=this,s=r.state,i=r.props;if(!s.hasUserMedia)return null;var h=this.getCanvas(t);return h&&h.toDataURL(i.screenshotFormat,i.screenshotQuality)},n.prototype.getCanvas=function(t){var r=this,s=r.state,i=r.props;if(!this.video||!s.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var h=this.video.videoWidth,v=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var g=h/v;h=i.minScreenshotWidth||this.video.clientWidth,v=h/g,i.minScreenshotHeight&&v<i.minScreenshotHeight&&(v=i.minScreenshotHeight,h=v*g)}this.canvas=document.createElement("canvas"),this.canvas.width=t?.width||h,this.canvas.height=t?.height||v,this.ctx=this.canvas.getContext("2d")}var C=this,y=C.ctx,p=C.canvas;return y&&p&&(p.width=t?.width||p.width,p.height=t?.height||p.height,i.mirrored&&(y.translate(p.width,0),y.scale(-1,1)),y.imageSmoothingEnabled=i.imageSmoothing,y.drawImage(this.video,0,0,t?.width||p.width,t?.height||p.height),i.mirrored&&(y.scale(-1,1),y.translate(-p.width,0))),p},n.prototype.requestUserMedia=function(){var t=this,r=this.props,s=function(v,g){var C={video:typeof g<"u"?g:!0};r.audio&&(C.audio=typeof v<"u"?v:!0),t.requestUserMediaId++;var y=t.requestUserMediaId;navigator.mediaDevices.getUserMedia(C).then(function(p){t.unmounted||y!==t.requestUserMediaId?n.stopMediaStream(p):t.handleUserMedia(null,p)}).catch(function(p){t.handleUserMedia(p)})};if("mediaDevices"in navigator)s(r.audioConstraints,r.videoConstraints);else{var i=function(v){return{optional:[{sourceId:v}]}},h=function(v){var g=v.deviceId;return typeof g=="string"?g:Array.isArray(g)&&g.length>0?g[0]:typeof g=="object"&&g.ideal?g.ideal:null};MediaStreamTrack.getSources(function(v){var g=null,C=null;v.forEach(function(O){O.kind==="audio"?g=O.id:O.kind==="video"&&(C=O.id)});var y=h(r.audioConstraints);y&&(g=y);var p=h(r.videoConstraints);p&&(C=p),s(i(g),i(C))})}},n.prototype.handleUserMedia=function(t,r){var s=this.props;if(t||!r){this.setState({hasUserMedia:!1}),s.onUserMediaError(t);return}this.stream=r;try{this.video&&(this.video.srcObject=r),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(r)})}s.onUserMedia(r)},n.prototype.render=function(){var t=this,r=this,s=r.state,i=r.props,h=i.audio;i.forceScreenshotSourceSize;var v=i.disablePictureInPicture;i.onUserMedia,i.onUserMediaError,i.screenshotFormat,i.screenshotQuality,i.minScreenshotWidth,i.minScreenshotHeight,i.audioConstraints,i.videoConstraints,i.imageSmoothing;var g=i.mirrored,C=i.style,y=C===void 0?{}:C,p=i.children,O=S(i,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),u=g?f(f({},y),{transform:(y.transform||"")+" scaleX(-1)"}):y,U={getScreenshot:this.getScreenshot.bind(this)};return a.createElement(a.Fragment,null,a.createElement("video",f({autoPlay:!0,disablePictureInPicture:v,src:s.src,muted:!h,playsInline:!0,ref:function(P){t.video=P},style:u},O)),p&&p(U))},n.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},n})(a.Component);x.default=c}),react:(function(j,x){j.exports=b})}).default})})(R)),R.exports}var de=ce();const ue=G(de),L=m.forwardRef(({onCapture:w,initialPhotos:M=[],className:b,disabled:j=!1},x)=>{const o=m.useRef(null),[a,l]=m.useState(null),[f,S]=m.useState(!1),[k,c]=m.useState(null),d={width:1920,height:1080,facingMode:"environment"},n=m.useCallback(()=>{S(!0),c(null),l(!0)},[]),t=m.useCallback(s=>{S(!1),l(!1),c(typeof s=="string"?s:s.message||"Camera access denied")},[]),r=m.useCallback(()=>{if(!o.current||!f){c("Camera not ready");return}try{const s=o.current.getScreenshot({width:1920,height:1080});s?w(s):c("Failed to capture image")}catch(s){c(s instanceof Error?s.message:"Capture failed")}},[f,w]);return a===null?e.jsx("div",{ref:x,className:N("relative w-full aspect-[4/3] bg-muted rounded-lg flex items-center justify-center",b),children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Initializing camera..."})]})}):a===!1||k?e.jsx("div",{ref:x,className:N("relative w-full aspect-[4/3] bg-destructive/10 rounded-lg flex items-center justify-center border-2 border-destructive/30",b),children:e.jsxs("div",{className:"flex flex-col items-center gap-3 p-6 text-center",children:[e.jsx(F,{className:"w-12 h-12 text-destructive"}),e.jsx("p",{className:"text-sm text-destructive font-medium",children:k||"Camera access denied"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Please allow camera access in your browser settings to use quick capture."})]})}):e.jsxs("div",{ref:x,className:N("relative w-full flex flex-col gap-4",b),children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] bg-black rounded-lg overflow-hidden",children:[e.jsx(ue,{ref:o,audio:!1,screenshotFormat:"image/jpeg",screenshotQuality:.9,videoConstraints:d,onUserMedia:n,onUserMediaError:t,className:"w-full h-full object-cover",style:{transform:"scaleX(1)"}}),!f&&e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:e.jsx("div",{className:"w-10 h-10 border-4 border-white border-t-transparent rounded-full animate-spin"})}),M.length>0&&e.jsxs("div",{className:"absolute top-3 right-3 bg-black/70 text-white text-xs font-medium px-2 py-1 rounded-full",children:[M.length," photo",M.length!==1?"s":""]})]}),e.jsx("button",{type:"button",onClick:r,disabled:!f||j,className:N("self-center w-16 h-16 min-h-[64px] min-w-[64px] rounded-full","flex items-center justify-center","bg-primary text-primary-foreground","shadow-lg hover:shadow-xl","transition-all duration-200","hover:scale-105 active:scale-95","disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100","border-4 border-white dark:border-gray-800","touch-manipulation"),"aria-label":"Capture photo",children:e.jsx(A,{className:"w-8 h-8"})})]})});L.displayName="CameraCapture";const W=m.forwardRef(({photos:w,onRemove:M,className:b,maxHeight:j="80px"},x)=>w.length===0?e.jsx("div",{ref:x,className:N("w-full flex items-center justify-center","bg-muted/50 rounded-lg border-2 border-dashed border-muted-foreground/30","py-4 px-4",b),style:{minHeight:j},children:e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(D,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:"No photos captured yet"})]})}):e.jsxs("div",{ref:x,className:N("w-full flex flex-col gap-2",b),children:[e.jsxs("div",{className:"flex items-center justify-between px-1",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:[w.length," photo",w.length!==1?"s":""," captured"]}),w.length>0&&e.jsx("span",{className:"text-xs text-muted-foreground",children:"Swipe to see all"})]}),e.jsx("div",{className:N("w-full overflow-x-auto overflow-y-hidden","scrollbar-thin scrollbar-thumb-muted-foreground/30 scrollbar-track-transparent","flex gap-2 p-1","rounded-lg bg-muted/30"),style:{maxHeight:j},children:w.map((o,a)=>e.jsxs("div",{className:N("relative flex-shrink-0","rounded-lg overflow-hidden","border-2 border-muted-foreground/20","group"),style:{height:j,aspectRatio:"4/3"},children:[e.jsx("img",{src:o,alt:`Captured photo ${a+1}`,className:"w-full h-full object-cover",loading:"lazy"}),e.jsx("button",{type:"button",onClick:()=>M(a),className:N("absolute top-1 right-1","w-8 h-8 min-h-[44px] min-w-[44px]","flex items-center justify-center","bg-black/60 hover:bg-black/80","text-white rounded-full","transition-all duration-200","opacity-0 group-hover:opacity-100","focus:opacity-100 focus:outline-none focus:ring-2 focus:ring-primary","touch-manipulation"),"aria-label":`Remove photo ${a+1}`,title:"Remove photo",children:e.jsx($,{className:"w-4 h-4"})}),e.jsx("div",{className:"absolute bottom-1 left-1 bg-black/60 text-white text-[10px] font-medium px-1.5 py-0.5 rounded",children:a+1})]},`${o.slice(-20)}-${a}`))})]}));W.displayName="PhotoPreviewStrip";const me=200,Q=m.forwardRef(({value:w,onChange:M,maxLength:b=me,placeholder:j="Optional quick notes...",className:x,disabled:o=!1},a)=>{const[l,f]=m.useState(!1),S=w.length,k=S>b*.8,c=S>=b,d=m.useCallback(n=>{const t=n.target.value;t.length<=b&&M(t)},[b,M]);return e.jsxs("div",{className:N("w-full flex flex-col gap-2",x),children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(K,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Quick Notes"}),e.jsx("span",{className:"text-xs text-muted-foreground/70",children:"(optional)"})]}),e.jsx("div",{className:"relative",children:e.jsx("textarea",{ref:a,value:w,onChange:d,onFocus:()=>f(!0),onBlur:()=>f(!1),disabled:o,placeholder:j,rows:3,maxLength:b,className:N("w-full min-h-[88px] p-3 rounded-lg resize-none","text-base leading-relaxed","border-2 border-input bg-background","transition-all duration-200",l&&"border-primary ring-2 ring-primary/20",o&&"opacity-50 cursor-not-allowed bg-muted","touch-manipulation"),"aria-label":"Quick notes","aria-describedby":"quick-notes-counter"})}),e.jsxs("div",{className:"flex items-center justify-between px-1",children:[e.jsxs("span",{id:"quick-notes-counter",className:N("text-sm font-medium transition-colors duration-200",c&&"text-destructive",k&&!c&&"text-amber-500",!k&&"text-muted-foreground"),"aria-live":"polite","aria-atomic":"true",children:[S,"/",b]}),c&&e.jsx("span",{className:"text-xs text-destructive",children:"Character limit reached"})]})]})});Q.displayName="QuickNoteInput";const fe=[{value:"ASA",label:"ASA"},{value:"LCA",label:"LCA"},{value:"GWC",label:"GWC"},{value:"OA",label:"OA"},{value:"CBR",label:"CBR"},{value:"WLC",label:"WLC"}],he=["Hallway","Restroom","Classroom","Cafeteria","Gym","Office","Stairwell","Exterior","Storage","Utility"];function Ue({onBack:w}){const{isMobile:M}=H(),{toast:b}=B(),[j,x]=m.useState(""),[o,a]=m.useState(""),[l,f]=m.useState(""),[S,k]=m.useState(""),[c,d]=m.useState([]),[n,t]=m.useState(!1),[r,s]=m.useState(!1),[i,h]=m.useState(null);m.useEffect(()=>{const u=localStorage.getItem("inspectorName");u&&f(u)},[]),m.useEffect(()=>{l&&localStorage.setItem("inspectorName",l)},[l]);const v=m.useCallback(u=>{d(U=>[...U,u]),M&&"vibrate"in navigator&&navigator.vibrate(50)},[M]),g=m.useCallback(u=>{d(U=>U.filter((P,_)=>_!==u))},[]),C=m.useCallback(()=>{d([])},[]),y=m.useCallback(()=>{x(""),a(""),k(""),d([]),h(null),s(!1)},[]),p=()=>j?o?l?c.length===0?(h("Please capture at least one photo"),!1):!0:(h("Please enter your name"),!1):(h("Please enter a location"),!1):(h("Please select a school"),!1),O=async()=>{if(h(null),!p()){b({variant:"destructive",title:"Validation Error",description:i||"Please fill in all required fields",duration:4e3});return}t(!0);try{await J();const u=X(),U={school:j,captureLocation:o,inspectorName:l,quickNotes:S||void 0,images:c},P=await fetch("/api/inspections/quick-capture",{method:"POST",headers:{"Content-Type":"application/json",...u?{"x-csrf-token":u}:{}},credentials:"include",body:JSON.stringify(U)});if(P.ok){const _=await P.json();s(!0),b({title:"âœ… Quick Capture Saved!",description:`${c.length} photo${c.length!==1?"s":""} saved for ${j}. Review on desktop later.`,duration:5e3}),setTimeout(()=>{y()},2e3)}else{const _=await P.json().catch(()=>({message:"Unknown error"}));throw new Error(_.message||"Failed to save quick capture")}}catch(u){const U=u instanceof Error?u.message:"Failed to save";h(U),b({variant:"destructive",title:"Save Failed",description:U,duration:5e3})}finally{t(!1)}};return r?e.jsx("div",{className:"min-h-screen bg-background p-4 flex flex-col items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:e.jsx(ae,{className:"w-12 h-12 text-green-600"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Capture Saved!"}),e.jsxs("p",{className:"text-muted-foreground max-w-xs mx-auto",children:[c.length," photo",c.length!==1?"s":""," saved for ",j]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Review and complete details on desktop later."})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs(E,{onClick:y,className:"min-h-[56px] text-lg",size:"lg",children:[e.jsx(A,{className:"w-5 h-5 mr-2"}),"Capture Another"]}),e.jsxs(E,{variant:"outline",onClick:w,className:"min-h-[48px]",children:[e.jsx(T,{className:"w-5 h-5 mr-2"}),"Back to Dashboard"]})]})]})}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur border-b px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between max-w-2xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(E,{variant:"ghost",size:"icon",onClick:w,className:"min-h-[44px] min-w-[44px] -ml-2","aria-label":"Go back",children:e.jsx(T,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold",children:"Quick Capture"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:c.length>0&&`${c.length} photo${c.length!==1?"s":""}`})]})]}),c.length>0&&e.jsx(E,{variant:"ghost",size:"sm",onClick:C,className:"text-destructive min-h-[44px]",children:"Clear All"})]})}),e.jsxs("main",{className:"p-4 pb-32 max-w-2xl mx-auto space-y-6",children:[i&&e.jsxs("div",{className:"bg-destructive/10 border border-destructive/30 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(F,{className:"w-5 h-5 text-destructive flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-destructive",children:i})]}),e.jsxs("section",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs(I,{className:"text-base font-medium",children:["School ",e.jsx("span",{className:"text-destructive",children:"*"})]})]}),e.jsxs(Y,{value:j,onValueChange:x,children:[e.jsx(Z,{className:"min-h-[56px] text-base",children:e.jsx(ee,{placeholder:"Select school..."})}),e.jsx(te,{children:fe.map(u=>e.jsx(re,{value:u.value,className:"min-h-[48px]",children:u.label},u.value))})]})]}),e.jsxs("section",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs(I,{className:"text-base font-medium",children:["Location ",e.jsx("span",{className:"text-destructive",children:"*"})]})]}),e.jsx("input",{type:"text",value:o,onChange:u=>a(u.target.value),placeholder:"e.g., Room 101, Hallway A, etc.",className:N("w-full px-4 py-3 rounded-lg border-2 border-input","text-base min-h-[56px]","focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20","transition-all duration-200")}),e.jsx("div",{className:"flex flex-wrap gap-2",children:he.map(u=>e.jsx("button",{type:"button",onClick:()=>a(u),className:N("px-3 py-2 text-sm rounded-full border-2","min-h-[40px] min-w-[60px]",o===u?"bg-primary text-primary-foreground border-primary":"bg-muted border-muted-foreground/20 text-foreground hover:border-primary/50","transition-all duration-200 touch-manipulation"),children:u},u))})]}),e.jsxs("section",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs(I,{className:"text-base font-medium",children:["Your Name ",e.jsx("span",{className:"text-destructive",children:"*"})]})]}),e.jsx("input",{type:"text",value:l,onChange:u=>f(u.target.value),placeholder:"Enter your name",className:N("w-full px-4 py-3 rounded-lg border-2 border-input","text-base min-h-[56px]","focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20","transition-all duration-200")})]}),e.jsxs("section",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs(I,{className:"text-base font-medium",children:["Photos ",e.jsx("span",{className:"text-destructive",children:"*"})]})]}),c.length>0&&e.jsxs("span",{className:"text-sm text-muted-foreground",children:[c.length," captured"]})]}),e.jsx(L,{onCapture:v,initialPhotos:c,disabled:n})]}),c.length>0&&e.jsx("section",{children:e.jsx(W,{photos:c,onRemove:g})}),e.jsx("section",{children:e.jsx(Q,{value:S,onChange:k,maxLength:200,disabled:n})})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-background border-t p-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx(E,{onClick:O,disabled:n||c.length===0,className:N("w-full min-h-[64px] text-lg font-semibold","shadow-lg hover:shadow-xl","transition-all duration-200","disabled:opacity-50 disabled:cursor-not-allowed"),size:"lg",children:n?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"w-6 h-6 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(oe,{className:"w-6 h-6 mr-2"}),"Save Quick Capture"]})}),e.jsx("p",{className:"text-center text-xs text-muted-foreground mt-2",children:'Photos will be saved with "pending_review" status'})]})})]})}export{Ue as default};
