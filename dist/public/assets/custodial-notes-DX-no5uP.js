var hs=Object.defineProperty;var Ns=(a,r,s)=>r in a?hs(a,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[r]=s;var Ue=(a,r,s)=>Ns(a,typeof r!="symbol"?r+"":r,s);import{k as Oe,r as o,P as Y,w as xe,j as e,c as le,R as fs,x as T,b as bs,f as Z,d as Ve,g as we,h as Se,i as ke,e as Ie}from"./index-BCpkZOle.js";import{u as ps,a as xs,t as gs,n as Cs,c as vs,f as Re,b as Es}from"./custodialNotesSchema-Ct_quE6N.js";import{L as ee,I as be}from"./label-ggb2pecq.js";import{T as Ds}from"./textarea-CgjV59eF.js";import{A as ys,a as js,b as Us,c as Vs,d as ws,e as Ss,f as ks,g as Is}from"./alert-dialog-Bx--_xUp.js";import{R as Rs,P as Ls,O as As,C as Fs}from"./dialog-CzgVAoRY.js";import{b as ne,a as $s,C as Ms}from"./Combination-g48q4PBV.js";import{P as ve,a as Ee,b as De}from"./popover-CEDAoC-G.js";import{L as Ps}from"./LoadingOverlay-DQONB01L.js";import{S as Be}from"./save-Cv-lKsuU.js";import{C as Le}from"./circle-help-Dk3gm9Mc.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=Oe("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=Oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=Oe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);var ze=1,Bs=.9,zs=.8,qs=.17,Ae=.1,Fe=.999,Ws=.9999,Hs=.99,Ks=/[\\\/_+.#"@\[\(\{&]/,Gs=/[\\\/_+.#"@\[\(\{&]/g,Ys=/[\s-]/,Ke=/[\s-]/g;function Me(a,r,s,N,n,u,d){if(u===r.length)return n===a.length?ze:Hs;var l=`${n},${u}`;if(d[l]!==void 0)return d[l];for(var j=N.charAt(u),c=s.indexOf(j,n),v=0,p,y,I,F;c>=0;)p=Me(a,r,s,N,c+1,u+1,d),p>v&&(c===n?p*=ze:Ks.test(a.charAt(c-1))?(p*=zs,I=a.slice(n,c-1).match(Gs),I&&n>0&&(p*=Math.pow(Fe,I.length))):Ys.test(a.charAt(c-1))?(p*=Bs,F=a.slice(n,c-1).match(Ke),F&&n>0&&(p*=Math.pow(Fe,F.length))):(p*=qs,n>0&&(p*=Math.pow(Fe,c-n))),a.charAt(c)!==r.charAt(u)&&(p*=Ws)),(p<Ae&&s.charAt(c-1)===N.charAt(u+1)||N.charAt(u+1)===N.charAt(u)&&s.charAt(c-1)!==N.charAt(u))&&(y=Me(a,r,s,N,c+1,u+2,d),y*Ae>p&&(p=y*Ae)),p>v&&(v=p),c=s.indexOf(j,c+1);return d[l]=v,v}function qe(a){return a.toLowerCase().replace(Ke," ")}function Js(a,r,s){return a=s&&s.length>0?`${a+" "+s.join(" ")}`:a,Me(a,r,qe(a),qe(r),0,0,{})}var pe='[cmdk-group=""]',$e='[cmdk-group-items=""]',Qs='[cmdk-group-heading=""]',Ge='[cmdk-item=""]',We=`${Ge}:not([aria-disabled="true"])`,Pe="cmdk-item-select",te="data-value",_s=(a,r,s)=>Js(a,r,s),Ye=o.createContext(void 0),ge=()=>o.useContext(Ye),Je=o.createContext(void 0),Te=()=>o.useContext(Je),Qe=o.createContext(void 0),_e=o.forwardRef((a,r)=>{let s=oe(()=>{var t,h;return{search:"",value:(h=(t=a.value)!=null?t:a.defaultValue)!=null?h:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),N=oe(()=>new Set),n=oe(()=>new Map),u=oe(()=>new Map),d=oe(()=>new Set),l=Xe(a),{label:j,children:c,value:v,onValueChange:p,filter:y,shouldFilter:I,loop:F,disablePointerSelection:J=!1,vimBindings:z=!0,...H}=a,V=ne(),ie=ne(),q=ne(),P=o.useRef(null),U=ia();se(()=>{if(v!==void 0){let t=v.trim();s.current.value=t,A.emit()}},[v]),se(()=>{U(6,Ce)},[]);let A=o.useMemo(()=>({subscribe:t=>(d.current.add(t),()=>d.current.delete(t)),snapshot:()=>s.current,setState:(t,h,g)=>{var m,E,D,w;if(!Object.is(s.current[t],h)){if(s.current[t]=h,t==="search")ue(),M(),U(1,me);else if(t==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let k=document.getElementById(q);k?k.focus():(m=document.getElementById(V))==null||m.focus()}if(U(7,()=>{var k;s.current.selectedItemId=(k=K())==null?void 0:k.id,A.emit()}),g||U(5,Ce),((E=l.current)==null?void 0:E.value)!==void 0){let k=h??"";(w=(D=l.current).onValueChange)==null||w.call(D,k);return}}A.emit()}},emit:()=>{d.current.forEach(t=>t())}}),[]),B=o.useMemo(()=>({value:(t,h,g)=>{var m;h!==((m=u.current.get(t))==null?void 0:m.value)&&(u.current.set(t,{value:h,keywords:g}),s.current.filtered.items.set(t,W(h,g)),U(2,()=>{M(),A.emit()}))},item:(t,h)=>(N.current.add(t),h&&(n.current.has(h)?n.current.get(h).add(t):n.current.set(h,new Set([t]))),U(3,()=>{ue(),M(),s.current.value||me(),A.emit()}),()=>{u.current.delete(t),N.current.delete(t),s.current.filtered.items.delete(t);let g=K();U(4,()=>{ue(),g?.getAttribute("id")===t&&me(),A.emit()})}),group:t=>(n.current.has(t)||n.current.set(t,new Set),()=>{u.current.delete(t),n.current.delete(t)}),filter:()=>l.current.shouldFilter,label:j||a["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:V,inputId:q,labelId:ie,listInnerRef:P}),[]);function W(t,h){var g,m;let E=(m=(g=l.current)==null?void 0:g.filter)!=null?m:_s;return t?E(t,s.current.search,h):0}function M(){if(!s.current.search||l.current.shouldFilter===!1)return;let t=s.current.filtered.items,h=[];s.current.filtered.groups.forEach(m=>{let E=n.current.get(m),D=0;E.forEach(w=>{let k=t.get(w);D=Math.max(k,D)}),h.push([m,D])});let g=P.current;Q().sort((m,E)=>{var D,w;let k=m.getAttribute("id"),_=E.getAttribute("id");return((D=t.get(_))!=null?D:0)-((w=t.get(k))!=null?w:0)}).forEach(m=>{let E=m.closest($e);E?E.appendChild(m.parentElement===E?m:m.closest(`${$e} > *`)):g.appendChild(m.parentElement===g?m:m.closest(`${$e} > *`))}),h.sort((m,E)=>E[1]-m[1]).forEach(m=>{var E;let D=(E=P.current)==null?void 0:E.querySelector(`${pe}[${te}="${encodeURIComponent(m[0])}"]`);D?.parentElement.appendChild(D)})}function me(){let t=Q().find(g=>g.getAttribute("aria-disabled")!=="true"),h=t?.getAttribute(te);A.setState("value",h||void 0)}function ue(){var t,h,g,m;if(!s.current.search||l.current.shouldFilter===!1){s.current.filtered.count=N.current.size;return}s.current.filtered.groups=new Set;let E=0;for(let D of N.current){let w=(h=(t=u.current.get(D))==null?void 0:t.value)!=null?h:"",k=(m=(g=u.current.get(D))==null?void 0:g.keywords)!=null?m:[],_=W(w,k);s.current.filtered.items.set(D,_),_>0&&E++}for(let[D,w]of n.current)for(let k of w)if(s.current.filtered.items.get(k)>0){s.current.filtered.groups.add(D);break}s.current.filtered.count=E}function Ce(){var t,h,g;let m=K();m&&(((t=m.parentElement)==null?void 0:t.firstChild)===m&&((g=(h=m.closest(pe))==null?void 0:h.querySelector(Qs))==null||g.scrollIntoView({block:"nearest"})),m.scrollIntoView({block:"nearest"}))}function K(){var t;return(t=P.current)==null?void 0:t.querySelector(`${Ge}[aria-selected="true"]`)}function Q(){var t;return Array.from(((t=P.current)==null?void 0:t.querySelectorAll(We))||[])}function de(t){let h=Q()[t];h&&A.setState("value",h.getAttribute(te))}function ce(t){var h;let g=K(),m=Q(),E=m.findIndex(w=>w===g),D=m[E+t];(h=l.current)!=null&&h.loop&&(D=E+t<0?m[m.length-1]:E+t===m.length?m[0]:m[E+t]),D&&A.setState("value",D.getAttribute(te))}function he(t){let h=K(),g=h?.closest(pe),m;for(;g&&!m;)g=t>0?na(g,pe):la(g,pe),m=g?.querySelector(We);m?A.setState("value",m.getAttribute(te)):ce(t)}let Ne=()=>de(Q().length-1),fe=t=>{t.preventDefault(),t.metaKey?Ne():t.altKey?he(1):ce(1)},ae=t=>{t.preventDefault(),t.metaKey?de(0):t.altKey?he(-1):ce(-1)};return o.createElement(Y.div,{ref:r,tabIndex:-1,...H,"cmdk-root":"",onKeyDown:t=>{var h;(h=H.onKeyDown)==null||h.call(H,t);let g=t.nativeEvent.isComposing||t.keyCode===229;if(!(t.defaultPrevented||g))switch(t.key){case"n":case"j":{z&&t.ctrlKey&&fe(t);break}case"ArrowDown":{fe(t);break}case"p":case"k":{z&&t.ctrlKey&&ae(t);break}case"ArrowUp":{ae(t);break}case"Home":{t.preventDefault(),de(0);break}case"End":{t.preventDefault(),Ne();break}case"Enter":{t.preventDefault();let m=K();if(m){let E=new Event(Pe);m.dispatchEvent(E)}}}}},o.createElement("label",{"cmdk-label":"",htmlFor:B.inputId,id:B.labelId,style:ua},j),je(a,t=>o.createElement(Je.Provider,{value:A},o.createElement(Ye.Provider,{value:B},t))))}),Xs=o.forwardRef((a,r)=>{var s,N;let n=ne(),u=o.useRef(null),d=o.useContext(Qe),l=ge(),j=Xe(a),c=(N=(s=j.current)==null?void 0:s.forceMount)!=null?N:d?.forceMount;se(()=>{if(!c)return l.item(n,d?.id)},[c]);let v=Ze(n,u,[a.value,a.children,u],a.keywords),p=Te(),y=G(U=>U.value&&U.value===v.current),I=G(U=>c||l.filter()===!1?!0:U.search?U.filtered.items.get(n)>0:!0);o.useEffect(()=>{let U=u.current;if(!(!U||a.disabled))return U.addEventListener(Pe,F),()=>U.removeEventListener(Pe,F)},[I,a.onSelect,a.disabled]);function F(){var U,A;J(),(A=(U=j.current).onSelect)==null||A.call(U,v.current)}function J(){p.setState("value",v.current,!0)}if(!I)return null;let{disabled:z,value:H,onSelect:V,forceMount:ie,keywords:q,...P}=a;return o.createElement(Y.div,{ref:xe(u,r),...P,id:n,"cmdk-item":"",role:"option","aria-disabled":!!z,"aria-selected":!!y,"data-disabled":!!z,"data-selected":!!y,onPointerMove:z||l.getDisablePointerSelection()?void 0:J,onClick:z?void 0:F},a.children)}),Zs=o.forwardRef((a,r)=>{let{heading:s,children:N,forceMount:n,...u}=a,d=ne(),l=o.useRef(null),j=o.useRef(null),c=ne(),v=ge(),p=G(I=>n||v.filter()===!1?!0:I.search?I.filtered.groups.has(d):!0);se(()=>v.group(d),[]),Ze(d,l,[a.value,a.heading,j]);let y=o.useMemo(()=>({id:d,forceMount:n}),[n]);return o.createElement(Y.div,{ref:xe(l,r),...u,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},s&&o.createElement("div",{ref:j,"cmdk-group-heading":"","aria-hidden":!0,id:c},s),je(a,I=>o.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":s?c:void 0},o.createElement(Qe.Provider,{value:y},I))))}),ea=o.forwardRef((a,r)=>{let{alwaysRender:s,...N}=a,n=o.useRef(null),u=G(d=>!d.search);return!s&&!u?null:o.createElement(Y.div,{ref:xe(n,r),...N,"cmdk-separator":"",role:"separator"})}),sa=o.forwardRef((a,r)=>{let{onValueChange:s,...N}=a,n=a.value!=null,u=Te(),d=G(c=>c.search),l=G(c=>c.selectedItemId),j=ge();return o.useEffect(()=>{a.value!=null&&u.setState("search",a.value)},[a.value]),o.createElement(Y.input,{ref:r,...N,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":j.listId,"aria-labelledby":j.labelId,"aria-activedescendant":l,id:j.inputId,type:"text",value:n?a.value:d,onChange:c=>{n||u.setState("search",c.target.value),s?.(c.target.value)}})}),aa=o.forwardRef((a,r)=>{let{children:s,label:N="Suggestions",...n}=a,u=o.useRef(null),d=o.useRef(null),l=G(c=>c.selectedItemId),j=ge();return o.useEffect(()=>{if(d.current&&u.current){let c=d.current,v=u.current,p,y=new ResizeObserver(()=>{p=requestAnimationFrame(()=>{let I=c.offsetHeight;v.style.setProperty("--cmdk-list-height",I.toFixed(1)+"px")})});return y.observe(c),()=>{cancelAnimationFrame(p),y.unobserve(c)}}},[]),o.createElement(Y.div,{ref:xe(u,r),...n,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":N,id:j.listId},je(a,c=>o.createElement("div",{ref:xe(d,j.listInnerRef),"cmdk-list-sizer":""},c)))}),ra=o.forwardRef((a,r)=>{let{open:s,onOpenChange:N,overlayClassName:n,contentClassName:u,container:d,...l}=a;return o.createElement(Rs,{open:s,onOpenChange:N},o.createElement(Ls,{container:d},o.createElement(As,{"cmdk-overlay":"",className:n}),o.createElement(Fs,{"aria-label":a.label,"cmdk-dialog":"",className:u},o.createElement(_e,{ref:r,...l}))))}),ta=o.forwardRef((a,r)=>G(s=>s.filtered.count===0)?o.createElement(Y.div,{ref:r,...a,"cmdk-empty":"",role:"presentation"}):null),oa=o.forwardRef((a,r)=>{let{progress:s,children:N,label:n="Loading...",...u}=a;return o.createElement(Y.div,{ref:r,...u,"cmdk-loading":"",role:"progressbar","aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":100,"aria-label":n},je(a,d=>o.createElement("div",{"aria-hidden":!0},d)))}),$=Object.assign(_e,{List:aa,Item:Xs,Input:sa,Group:Zs,Separator:ea,Dialog:ra,Empty:ta,Loading:oa});function na(a,r){let s=a.nextElementSibling;for(;s;){if(s.matches(r))return s;s=s.nextElementSibling}}function la(a,r){let s=a.previousElementSibling;for(;s;){if(s.matches(r))return s;s=s.previousElementSibling}}function Xe(a){let r=o.useRef(a);return se(()=>{r.current=a}),r}var se=typeof window>"u"?o.useEffect:o.useLayoutEffect;function oe(a){let r=o.useRef();return r.current===void 0&&(r.current=a()),r}function G(a){let r=Te(),s=()=>a(r.snapshot());return o.useSyncExternalStore(r.subscribe,s,s)}function Ze(a,r,s,N=[]){let n=o.useRef(),u=ge();return se(()=>{var d;let l=(()=>{var c;for(let v of s){if(typeof v=="string")return v.trim();if(typeof v=="object"&&"current"in v)return v.current?(c=v.current.textContent)==null?void 0:c.trim():n.current}})(),j=N.map(c=>c.trim());u.value(a,l,j),(d=r.current)==null||d.setAttribute(te,l),n.current=l}),n}var ia=()=>{let[a,r]=o.useState(),s=oe(()=>new Map);return se(()=>{s.current.forEach(N=>N()),s.current=new Map},[a]),(N,n)=>{s.current.set(N,n),r({})}};function ma(a){let r=a.type;return typeof r=="function"?r(a.props):"render"in r?r.render(a.props):a}function je({asChild:a,children:r},s){return a&&o.isValidElement(r)?o.cloneElement(ma(r),{ref:r.ref},s(r.props.children)):s(r)}var ua={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const es=o.forwardRef(({className:a,...r},s)=>e.jsxDEV($,{ref:s,className:le("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",a),...r},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/ui/command.tsx",lineNumber:13,columnNumber:3},void 0));es.displayName=$.displayName;const ss=o.forwardRef(({className:a,...r},s)=>e.jsxDEV("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsxDEV(Ts,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/ui/command.tsx",lineNumber:41,columnNumber:5},void 0),e.jsxDEV($.Input,{ref:s,className:le("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",a),...r},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/ui/command.tsx",lineNumber:42,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/ui/command.tsx",lineNumber:40,columnNumber:3},void 0));ss.displayName=$.Input.displayName;const da=o.forwardRef(({className:a,...r},s)=>e.jsxDEV($.List,{ref:s,className:le("max-h-[300px] overflow-y-auto overflow-x-hidden",a),...r},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/ui/command.tsx",lineNumber:59,columnNumber:3},void 0));da.displayName=$.List.displayName;const as=o.forwardRef((a,r)=>e.jsxDEV($.Empty,{ref:r,className:"py-6 text-center text-sm",...a},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/ui/command.tsx",lineNumber:72,columnNumber:3},void 0));as.displayName=$.Empty.displayName;const rs=o.forwardRef(({className:a,...r},s)=>e.jsxDEV($.Group,{ref:s,className:le("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",a),...r},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/ui/command.tsx",lineNumber:85,columnNumber:3},void 0));rs.displayName=$.Group.displayName;const ca=o.forwardRef(({className:a,...r},s)=>e.jsxDEV($.Separator,{ref:s,className:le("-mx-1 h-px bg-border",a),...r},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/ui/command.tsx",lineNumber:101,columnNumber:3},void 0));ca.displayName=$.Separator.displayName;const ts=o.forwardRef(({className:a,...r},s)=>e.jsxDEV($.Item,{ref:s,className:le("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a),...r},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/ui/command.tsx",lineNumber:113,columnNumber:3},void 0));ts.displayName=$.Item.displayName;class ha extends fs.Component{constructor(s){super(s);Ue(this,"handleRetry",()=>{window.location.reload()});Ue(this,"handleClearData",()=>{try{localStorage.clear(),console.log("LocalStorage cleared successfully")}catch(s){console.error("Failed to clear localStorage:",s)}window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,N){console.error("LocalStorage Error Boundary caught an error:",s),console.error("Component Stack:",N.componentStack),this.setState({errorInfo:N})}render(){const{hasError:s,error:N,errorInfo:n}=this.state,{children:u,fallback:d}=this.props;return s?d||e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:e.jsxDEV("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:[e.jsxDEV("div",{className:"flex justify-center mb-4",children:e.jsxDEV("div",{className:"rounded-full bg-red-100 p-3",children:e.jsxDEV("svg",{className:"h-8 w-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:129,columnNumber:19},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:123,columnNumber:17},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:122,columnNumber:15},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:121,columnNumber:13},this),e.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900 text-center mb-2",children:"Something Went Wrong"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:140,columnNumber:13},this),e.jsxDEV("p",{className:"text-gray-600 text-center mb-6",children:"We encountered an issue saving your preferences. This might happen if your browser's storage is full or if you're using private browsing mode."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:143,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("button",{onClick:this.handleRetry,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition-colors",children:"Retry"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:150,columnNumber:15},this),e.jsxDEV("button",{onClick:this.handleClearData,className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-2 px-4 rounded-md transition-colors",children:"Clear Saved Data & Retry"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:156,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:149,columnNumber:13},this),N&&e.jsxDEV("details",{className:"mt-6",children:[e.jsxDEV("summary",{className:"cursor-pointer text-sm text-gray-500 hover:text-gray-700",children:"View Technical Details"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:167,columnNumber:17},this),e.jsxDEV("div",{className:"mt-3 p-3 bg-gray-100 rounded text-xs font-mono overflow-auto max-h-48",children:[e.jsxDEV("div",{className:"text-red-600 font-semibold mb-2",children:[N.name,": ",N.message]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:171,columnNumber:19},this),n&&e.jsxDEV("div",{className:"text-gray-600 whitespace-pre-wrap",children:n.componentStack},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:175,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:170,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:166,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:119,columnNumber:11},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/errors/LocalStorageErrorBoundary.tsx",lineNumber:118,columnNumber:9},this):u}}const He={WARNING:80,CRITICAL:95};function Na(a={}){const{onWarning:r,checkInterval:s=3e4,checkOnMount:N=!0}=a,n=o.useRef(new Set),u=async()=>{try{const d=await T.getQuotaInfo();if(!d||d.percentage===0)return;const{percentage:l,usage:j,quota:c}=d,v=p=>{const y=p/1048576;return y<1?`${(p/1024).toFixed(1)} KB`:`${y.toFixed(1)} MB`};if(l>=He.CRITICAL){const p=`critical-${Math.floor(l)}`;n.current.has(p)||(console.warn(`[Storage Quota Monitor] CRITICAL: Storage at ${l.toFixed(1)}% capacity`),r?.(`Your browser storage is nearly full (${l.toFixed(1)}% used). Using ${v(j)} of ${v(c)} available. Please clear old data or browser cache to continue using this feature.`,l,"critical"),n.current.add(p))}else if(l>=He.WARNING){const p=`warning-${Math.floor(l/5)*5}`;n.current.has(p)||(console.warn(`[Storage Quota Monitor] WARNING: Storage at ${l.toFixed(1)}% capacity`),r?.(`Your browser storage is ${l.toFixed(1)}% full. Using ${v(j)} of ${v(c)} available. Consider clearing old data to ensure smooth operation.`,l,"warning"),n.current.add(p))}}catch(d){console.error("[Storage Quota Monitor] Failed to check quota:",d)}};return o.useEffect(()=>{N&&u();const d=setInterval(u,s);return()=>{clearInterval(d)}},[s,N,r]),{checkQuota:u}}const fa=["ASA","CBR","GWC","LCA","OA","WLC"],ba=`
  @keyframes progress {
    from {
      width: 0%;
    }
    to {
      width: 100%;
    }
  }
`;function Sa({onBack:a}){const{toast:r}=bs();Na({onWarning:(i,b,x)=>{r({variant:x==="critical"?"destructive":"default",title:x==="critical"?"âš ï¸ Storage Almost Full":"âš¡ Storage Warning",description:i,duration:7e3})},checkInterval:3e4,checkOnMount:!0});const{register:s,handleSubmit:N,formState:{errors:n,isSubmitting:u},reset:d,setValue:l,getValues:j,watch:c,clearErrors:v}=ps({resolver:gs(Es),defaultValues:xs}),p=c(),[y,I]=o.useState([]),[F,J]=o.useState([]),[z,H]=o.useState(!1),[V,ie]=o.useState(null),[q,P]=o.useState(!1),[U,A]=o.useState(!1),[B,W]=o.useState(""),[M,me]=o.useState(null),[ue,Ce]=o.useState(!0),[K,Q]=o.useState(!1),[de,ce]=o.useState(!0),[he,Ne]=o.useState([]),[fe,ae]=o.useState(null),[t,h]=o.useState(!1),[g,m]=o.useState(!1),[E,D]=o.useState(!1),[w,k]=o.useState(null);o.useEffect(()=>{const i=()=>{const b=document.querySelectorAll(".form-section"),x=window.scrollY+window.innerHeight/2;b.forEach((f,C)=>{const R=f.getBoundingClientRect(),L=R.top+window.scrollY,O=L+R.height;x>=L&&x<O&&me(C+1)}),window.scrollY>100&&Ce(!1)};return window.addEventListener("scroll",i),i(),()=>window.removeEventListener("scroll",i)},[]),o.useEffect(()=>{const i=()=>{const b=window.innerWidth<=768,x=window.innerHeight<500;Q(b&&x)};return i(),window.addEventListener("resize",i),window.addEventListener("orientationchange",i),()=>{window.removeEventListener("resize",i),window.removeEventListener("orientationchange",i)}},[]),o.useEffect(()=>{if(Object.values(p).some(b=>b&&b!=="")&&!q){const b=setTimeout(()=>{h(!0);const x={...p,selectedSchool:B,savedAt:new Date().toISOString()};T.setItem("custodialNotesDraft",JSON.stringify(x)),ae(new Date),h(!1)},2e3);return()=>clearTimeout(b)}},[p,B,q]),o.useEffect(()=>{try{const i=T.getItem("custodialNotesDraft");let b=!1;if(i){const f=JSON.parse(i),C=new Date(f.savedAt);(Date.now()-C.getTime())/(1e3*60*60)<24?(b=!0,Object.keys(f).forEach(L=>{L!=="savedAt"&&L!=="selectedSchool"&&l(L,f[L])}),f.selectedSchool&&(W(f.selectedSchool),l("school",f.selectedSchool)),ae(C),r({title:"Draft Restored",description:`Your work from ${C.toLocaleString()} was restored.`,duration:5e3})):T.removeItem("custodialNotesDraft")}if(!b){const f=T.getItem("custodialInspectorName");f&&l("inspectorName",f);const C=T.getItem("custodialLastSchool");C&&(W(C),l("school",C))}const x=T.getItem("custodialRecentLocations");if(x){const f=JSON.parse(x);Ne(Array.isArray(f)?f:[])}}catch(i){console.error("Error loading saved data:",i)}},[l,W,r]);const _=async i=>{const b=i.target.files;if(b&&b.length>0){const x=Array.from(b),C=5-y.length,R=x.slice(0,C);R.length<x.length&&r({title:"Maximum Images Reached",description:`Only ${R.length} images were added. Maximum of 5 images allowed.`});const L=[];let O=0,re=0;for(const S of R)if(O+=S.size,Cs(S,500))try{const X=await vs(S,{maxSizeKB:500});L.push(X.compressedFile),re+=X.compressedSize,console.log(`Compressed ${S.name}: ${Re(S.size)} â†’ ${Re(X.compressedSize)}`)}catch(X){console.error("Failed to compress image:",X),L.push(S),re+=S.size}else L.push(S),re+=S.size;I(S=>[...S,...L]);const cs=L.map(S=>URL.createObjectURL(S));if(J(S=>[...S,...cs]),L.length>0){const S=O-re,X=S>0?(S/O*100).toFixed(1):"0";r({title:"ðŸ“¸ Photos Uploaded Successfully!",description:`Successfully added ${L.length} photo${L.length>1?"s":""} to your custodial note documentation.${S>0?` Saved ${Re(S)} (${X}% compression).`:""}`,duration:3e3})}}i.target.value=""},os=()=>{if(y.length>=5){r({variant:"destructive",title:"Maximum Images Reached",description:"Maximum of 5 images allowed. Please remove some images first."});return}const i=document.createElement("input");i.type="file",i.accept="image/*",i.capture="environment",i.onchange=b=>{const x=b;x.target.files&&x.target.files.length>0&&r({title:"ðŸ“· Photo Captured Successfully!",description:"Camera photo is being processed and added to your documentation.",duration:2e3}),_(x)},i.click()},ns=i=>{const b=y.filter((f,C)=>C!==i),x=F.filter((f,C)=>C!==i);URL.revokeObjectURL(F[i]),I(b),J(x)},ls=i=>{i.trim()&&Ne(b=>{const x=b.filter(C=>C!==i),f=[i,...x].slice(0,5);try{T.setItem("custodialRecentLocations",JSON.stringify(f))}catch(C){console.error("Error saving recent locations:",C)}return f})},is=()=>{w&&(l("inspectorName",w.inspectorName),l("school",w.school),l("date",w.date),l("location",w.location),l("locationDescription",w.locationDescription||""),W(w.school),l("notes",""),l("images",[]),D(!1),k(null),window.scrollTo({top:0,behavior:"smooth"}),r({title:"Form Pre-filled",description:"Inspector, school, date, and location have been filled in. Just add new notes and photos!",duration:4e3}))},ms=()=>{D(!1),k(null),a&&a()},us=async i=>{ie(i),H(!0)},ds=async()=>{if(V){P(!0),H(!1);try{const i=new FormData;Object.entries(V).forEach(([f,C])=>{f!=="images"&&i.append(f,C?.toString()||"")}),y.forEach(f=>{i.append("images",f)});const b={method:"POST",body:i,headers:{}};b.headers={...b.headers,"X-Debug-Info":JSON.stringify({userAgent:navigator.userAgent,formDataEntries:Array.from(i.entries()).map(([f,C])=>[f,typeof C=="string"?C.substring(0,50)+(C.length>50?"...":""):`File(${C instanceof File?C.name:"unknown"})`])})};const x=await fetch("/api/custodial-notes",b);if(x.ok){m(!0),T.removeItem("custodialNotesDraft");try{T.setItem("custodialInspectorName",V.inspectorName),T.setItem("custodialLastSchool",B),ls(V.location)}catch(R){console.error("Error saving user preferences:",R)}k(V),r({title:"âœ… Custodial Note Submitted Successfully!",description:"Your custodial concern has been recorded and will be reviewed.",variant:"default",duration:5e3});const f=V.inspectorName,C=B;d(),l("inspectorName",f),l("school",C),W(C),I([]),F.forEach(R=>URL.revokeObjectURL(R)),J([]),ie(null),ae(null),P(!1),setTimeout(()=>{m(!1),D(!0)},3e3)}else{const f=await x.json().catch(()=>({success:!1,message:"Unknown error occurred",details:"Unable to parse server response"}));let C=f.message||"Unable to submit custodial note. Please try again.",R="";f.success===!1&&f.details&&(Array.isArray(f.details)?R=`Please check: ${f.details.map(O=>`${O.field}: ${O.message}`).join(", ")}`:typeof f.details=="object"?R=`Required: ${Object.entries(f.details).filter(([O,re])=>re==="âœ— required").map(([O])=>O.replace(/([A-Z])/g," $1").trim()).join(", ")}`:R=f.details),(f.technical==="FormData parsing failed"||f.message?.includes("form data is malformed"))&&(C="Form submission error",R="Please refresh the page and try submitting again. If the problem persists, contact support."),r({variant:"destructive",title:"âŒ Submission Failed",description:`${C}${R?`

${R}`:""}`,duration:8e3}),P(!1),console.error("Form submission error details:",{status:x.status,statusText:x.statusText,errorData:f,formDataFields:Object.keys(V||{})})}}catch(i){console.error("Error submitting custodial note:",i);let b="Network Error",x="Unable to connect to the server. Please check your connection and try again.";i instanceof TypeError&&(i.message.includes("Failed to fetch")?(b="Connection Failed",x=`Unable to reach the server. Please check:
â€¢ Internet connection
â€¢ Server is running
â€¢ No firewall blocking the request`):i.message.includes("NetworkError")&&(b="Network Error",x="A network error occurred. Please try again.")),r({variant:"destructive",title:`âŒ ${b}`,description:x,duration:8e3}),P(!1)}}};return e.jsxDEV(ha,{children:[e.jsxDEV("style",{children:ba},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:686,columnNumber:7},this),e.jsxDEV("div",{className:"max-w-3xl mx-auto p-6 space-y-8",children:[a&&e.jsxDEV(Z,{onClick:a,variant:"outline",className:"mb-4 back-button min-h-[48px] px-6",children:"â† Back to Custodial"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:690,columnNumber:11},this),K&&de&&e.jsxDEV("div",{className:"bg-orange-50 border-2 border-orange-400 rounded-lg p-4 shadow-lg",children:e.jsxDEV("div",{className:"flex items-start justify-between gap-3",children:[e.jsxDEV("div",{className:"flex items-start gap-3 flex-1",children:[e.jsxDEV("span",{className:"text-2xl flex-shrink-0",children:"ðŸ“±"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:704,columnNumber:17},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-orange-900 text-lg mb-1",children:"Landscape Mode Detected"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:706,columnNumber:19},this),e.jsxDEV("p",{className:"text-orange-800 text-sm",children:["For the best experience filling out this form, please"," ",e.jsxDEV("strong",{children:"rotate your device to portrait mode"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:711,columnNumber:21},this)," ","(vertical orientation)."]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:709,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:705,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:703,columnNumber:15},this),e.jsxDEV(Z,{variant:"ghost",size:"sm",onClick:()=>ce(!1),className:"text-orange-900 hover:bg-orange-100 flex-shrink-0",children:"âœ•"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:716,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:702,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:701,columnNumber:11},this),fe&&e.jsxDEV("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500",children:t?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Be,{className:"h-4 w-4 animate-pulse"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:733,columnNumber:17},this),e.jsxDEV("span",{children:"Saving draft..."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:734,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:732,columnNumber:15},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Be,{className:"h-4 w-4 text-green-600"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:738,columnNumber:17},this),e.jsxDEV("span",{children:["Draft saved at ",fe.toLocaleTimeString()]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:739,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:737,columnNumber:15},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:730,columnNumber:11},this),e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-blue-800 mb-2",children:"Submit Custodial Note"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:746,columnNumber:11},this),e.jsxDEV("p",{className:"text-gray-600",children:"Report maintenance issues, concerns, or general observations"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:749,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:745,columnNumber:9},this),e.jsxDEV("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b-2 border-blue-200 py-3 -mx-6 px-6 shadow-sm",children:e.jsxDEV("div",{className:"flex items-center justify-between max-w-2xl mx-auto",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-sm font-semibold text-blue-800",children:"Form Progress:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:758,columnNumber:15},this),M&&e.jsxDEV("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-blue-100 text-blue-800 border-2 border-blue-300",children:["Section ",M," of 3"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:762,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:757,columnNumber:13},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("div",{className:`w-16 h-2 rounded-full transition-colors ${M===1?"bg-blue-600":M&&M>1?"bg-blue-400":"bg-gray-200"}`},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:768,columnNumber:15},this),e.jsxDEV("div",{className:`w-16 h-2 rounded-full transition-colors ${M===2?"bg-blue-600":M&&M>2?"bg-blue-400":"bg-gray-200"}`},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:771,columnNumber:15},this),e.jsxDEV("div",{className:`w-16 h-2 rounded-full transition-colors ${M===3?"bg-blue-600":"bg-gray-200"}`},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:774,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:767,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:756,columnNumber:11},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:755,columnNumber:9},this),ue&&e.jsxDEV("div",{className:"animate-bounce text-center text-gray-500 text-sm",children:[e.jsxDEV($s,{className:"inline-block"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:784,columnNumber:13},this),e.jsxDEV("p",{children:"Scroll down to continue"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:785,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:783,columnNumber:11},this),e.jsxDEV("div",{className:"bg-amber-50 border-2 border-amber-400 rounded-lg p-4 shadow-sm",children:e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV("span",{className:"text-2xl flex-shrink-0",children:"â­"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:792,columnNumber:13},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-amber-900 text-lg mb-1",children:"New Requirement: Inspector Name"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:794,columnNumber:15},this),e.jsxDEV("p",{className:"text-amber-800 text-sm",children:["Please enter your name in the ",e.jsxDEV("strong",{children:"Inspector Name"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:798,columnNumber:47},this)," ","field. This is now required for all custodial notes to ensure proper accountability and follow-up."]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:797,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:793,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:791,columnNumber:11},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:790,columnNumber:9},this),e.jsxDEV("form",{onSubmit:N(us),className:"space-y-8",children:[e.jsxDEV(Ve,{className:"form-section",children:[e.jsxDEV(we,{children:[e.jsxDEV(Se,{children:"Basic Information"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:810,columnNumber:15},this),e.jsxDEV(ke,{children:"Enter the basic details for this custodial note"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:811,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:809,columnNumber:13},this),e.jsxDEV(Ie,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(ee,{htmlFor:"inspectorName",className:"flex items-center gap-2 flex-wrap",children:[e.jsxDEV("span",{children:"Inspector Name"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:821,columnNumber:19},this),e.jsxDEV("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-red-100 text-red-800 border border-red-300",children:"Required"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:822,columnNumber:19},this),e.jsxDEV(ve,{children:[e.jsxDEV(Ee,{asChild:!0,children:e.jsxDEV("button",{type:"button",className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsxDEV(Le,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:831,columnNumber:25},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:827,columnNumber:23},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:826,columnNumber:21},this),e.jsxDEV(De,{className:"w-80 text-sm",children:[e.jsxDEV("p",{className:"font-semibold mb-1",children:"Why is this required?"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:835,columnNumber:23},this),e.jsxDEV("p",{className:"text-gray-600",children:"Your name ensures accountability and allows for proper follow-up on reported issues. This helps maintain quality standards across all facilities."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:838,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:834,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:825,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:817,columnNumber:17},this),e.jsxDEV(be,{id:"inspectorName",...s("inspectorName"),placeholder:"Enter your name",className:"border-2 min-h-[48px]"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:846,columnNumber:17},this),n.inspectorName&&e.jsxDEV("p",{className:"text-sm text-red-500",children:n.inspectorName.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:853,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:816,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(ee,{htmlFor:"school",className:"flex items-center gap-2 flex-wrap",children:[e.jsxDEV("span",{children:"School"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:863,columnNumber:19},this),e.jsxDEV("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-red-100 text-red-800 border border-red-300",children:"Required"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:864,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:859,columnNumber:17},this),e.jsxDEV(ve,{open:U,onOpenChange:A,children:[e.jsxDEV(Ee,{asChild:!0,children:e.jsxDEV(Z,{variant:"outline",role:"combobox","aria-expanded":U,className:"w-full justify-between border-2 min-h-[48px] text-left font-normal",children:[B||"Select school...",e.jsxDEV(Os,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:880,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:873,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:872,columnNumber:19},this),e.jsxDEV(De,{className:"w-full p-0",align:"start",children:e.jsxDEV(es,{children:[e.jsxDEV(ss,{placeholder:"Search schools..."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:885,columnNumber:23},this),e.jsxDEV(as,{children:"No school found."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:886,columnNumber:23},this),e.jsxDEV(rs,{children:fa.map(i=>e.jsxDEV(ts,{value:i,onSelect:b=>{const x=b.toUpperCase();W(x),l("school",x),A(!1)},className:"min-h-[48px] cursor-pointer",children:[e.jsxDEV(Ms,{className:`mr-2 h-4 w-4 ${B===i?"opacity-100":"opacity-0"}`},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:900,columnNumber:29},this),i]},i,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:889,columnNumber:27},this))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:887,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:884,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:883,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:868,columnNumber:17},this),n.school&&e.jsxDEV("p",{className:"text-sm text-red-500",children:n.school.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:915,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:858,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(ee,{htmlFor:"date",className:"flex items-center gap-2 flex-wrap",children:[e.jsxDEV("span",{children:"Date"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:925,columnNumber:19},this),e.jsxDEV("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-red-100 text-red-800 border border-red-300",children:"Required"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:926,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:921,columnNumber:17},this),e.jsxDEV(be,{id:"date",type:"date",...s("date"),className:"border-2 min-h-[48px]"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:930,columnNumber:17},this),n.date&&e.jsxDEV("p",{className:"text-sm text-red-500",children:n.date.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:937,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:920,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(ee,{htmlFor:"location",className:"flex items-center gap-2 flex-wrap",children:[e.jsxDEV("span",{children:"Location"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:945,columnNumber:19},this),e.jsxDEV("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-red-100 text-red-800 border border-red-300",children:"Required"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:946,columnNumber:19},this),e.jsxDEV(ve,{children:[e.jsxDEV(Ee,{asChild:!0,children:e.jsxDEV("button",{type:"button",className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsxDEV(Le,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:955,columnNumber:25},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:951,columnNumber:23},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:950,columnNumber:21},this),e.jsxDEV(De,{className:"w-80 text-sm",children:[e.jsxDEV("p",{className:"font-semibold mb-1",children:"Location Examples"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:959,columnNumber:23},this),e.jsxDEV("ul",{className:"text-gray-600 space-y-1 list-disc list-inside",children:[e.jsxDEV("li",{children:'Room numbers: "Room 105", "Classroom 202"'},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:961,columnNumber:25},this),e.jsxDEV("li",{children:'Common areas: "Gymnasium", "Cafeteria", "Library"'},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:962,columnNumber:25},this),e.jsxDEV("li",{children:'Outdoor: "Playground", "Parking Lot", "Field"'},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:965,columnNumber:25},this),e.jsxDEV("li",{children:'Facilities: "Restroom 1st Floor", "Main Office"'},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:966,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:960,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:958,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:949,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:941,columnNumber:17},this),he.length>0&&e.jsxDEV("div",{className:"mb-2",children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1.5",children:"Recent locations:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:975,columnNumber:21},this),e.jsxDEV("div",{className:"flex flex-wrap gap-2",children:he.map((i,b)=>e.jsxDEV("button",{type:"button",onClick:()=>{l("location",i),n.location&&v("location")},className:"inline-flex items-center px-3 py-1.5 rounded-md text-sm bg-blue-50 text-blue-700 border border-blue-200 hover:bg-blue-100 hover:border-blue-300 transition-colors",children:i},b,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:980,columnNumber:25},this))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:978,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:974,columnNumber:19},this),e.jsxDEV(be,{id:"location",...s("location"),placeholder:"e.g., Room 105, Gymnasium, Cafeteria",className:"border-2 min-h-[48px]"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:999,columnNumber:17},this),n.location&&e.jsxDEV("p",{className:"text-sm text-red-500",children:n.location.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1006,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:940,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(ee,{htmlFor:"locationDescription",children:"Location Description"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1012,columnNumber:17},this),e.jsxDEV(be,{id:"locationDescription",...s("locationDescription"),placeholder:"e.g., Main Building, East Wing, 2nd Floor",className:"min-h-[48px]"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1015,columnNumber:17},this),n.locationDescription&&e.jsxDEV("p",{className:"text-sm text-red-500",children:n.locationDescription.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1022,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1011,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:815,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:808,columnNumber:11},this),e.jsxDEV(Ve,{className:"form-section",children:[e.jsxDEV(we,{children:[e.jsxDEV(Se,{className:"flex items-center gap-2",children:["Issue Description & Notes",e.jsxDEV(ve,{children:[e.jsxDEV(Ee,{asChild:!0,children:e.jsxDEV("button",{type:"button",className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsxDEV(Le,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1041,columnNumber:23},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1037,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1036,columnNumber:19},this),e.jsxDEV(De,{className:"w-80 text-sm",children:[e.jsxDEV("p",{className:"font-semibold mb-2",children:"What to Include"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1045,columnNumber:21},this),e.jsxDEV("ul",{className:"text-gray-600 space-y-1 list-disc list-inside",children:[e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"What:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1048,columnNumber:25},this)," Describe the issue clearly"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1047,columnNumber:23},this),e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"Where:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1051,columnNumber:25},this)," Specific location details"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1050,columnNumber:23},this),e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"When:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1054,columnNumber:25},this)," When you noticed it"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1053,columnNumber:23},this),e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"Severity:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1057,columnNumber:25},this)," Is it urgent or can it wait?"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1056,columnNumber:23},this),e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"Impact:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1060,columnNumber:25},this)," How does it affect operations?"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1059,columnNumber:23},this),e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"Action:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1063,columnNumber:25},this)," What needs to be done?"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1062,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1046,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1044,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1035,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1033,columnNumber:15},this),e.jsxDEV(ke,{children:"Provide detailed information about the custodial issue or observation"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1069,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1032,columnNumber:13},this),e.jsxDEV(Ie,{children:[e.jsxDEV(Ds,{...s("notes"),placeholder:`Describe the issue, maintenance need, or observation...

Examples:
â€¢ Broken equipment or fixtures
â€¢ Cleaning supply needs
â€¢ Safety concerns
â€¢ Maintenance requests
â€¢ General observations
â€¢ Follow-up needed`,rows:10,className:"min-h-[250px]"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1075,columnNumber:15},this),n.notes&&e.jsxDEV("p",{className:"text-sm text-red-500 mt-2",children:n.notes.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1082,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1074,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1031,columnNumber:11},this),e.jsxDEV(Ve,{className:"form-section",children:[e.jsxDEV(we,{children:[e.jsxDEV(Se,{children:"Photos & Documentation"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1092,columnNumber:15},this),e.jsxDEV(ke,{children:"Upload images or capture photos to document the issue"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1093,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1091,columnNumber:13},this),e.jsxDEV(Ie,{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV(ee,{htmlFor:"imageUpload",className:"block mb-2",children:"Upload Images (Optional)"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1100,columnNumber:19},this),e.jsxDEV(be,{id:"imageUpload",type:"file",accept:"image/*",multiple:!0,onChange:_,className:"hidden"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1103,columnNumber:19},this),e.jsxDEV(Z,{type:"button",onClick:()=>document.getElementById("imageUpload")?.click(),variant:"outline",className:"w-full h-12 border-2 border-dashed hover:border-blue-500 hover:bg-blue-50 transition-colors",children:e.jsxDEV("span",{className:"flex items-center gap-2 text-base",children:[e.jsxDEV("span",{className:"text-2xl",children:"ðŸ“"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1120,columnNumber:23},this),e.jsxDEV("span",{className:"font-medium",children:["Tap to Select Photos"," ",y.length>0&&`(${y.length} selected)`]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1121,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1119,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1111,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum 5 images â€¢ Images auto-compressed"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1127,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1099,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-end",children:e.jsxDEV(Z,{type:"button",onClick:os,variant:"outline",className:"w-full sm:w-auto h-12 border-2",children:e.jsxDEV("span",{className:"flex items-center gap-2 text-base",children:[e.jsxDEV("span",{className:"text-xl",children:"ðŸ“·"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1139,columnNumber:23},this),e.jsxDEV("span",{children:"Capture Photo"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1140,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1138,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1132,columnNumber:19},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1131,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1098,columnNumber:15},this),F.length>0&&e.jsxDEV("div",{className:"mt-4",children:[e.jsxDEV(ee,{className:"block mb-2",children:["Uploaded Images (",y.length,")"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1149,columnNumber:19},this),e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:F.map((i,b)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:i,alt:`Upload ${b+1}`,className:"w-full h-24 object-cover rounded-lg border"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1155,columnNumber:25},this),e.jsxDEV(Z,{type:"button",onClick:()=>ns(b),variant:"destructive",size:"sm",className:"absolute top-1 right-1 w-6 h-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:"Ã—"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1160,columnNumber:25},this)]},b,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1154,columnNumber:23},this))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1152,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1148,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1097,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1090,columnNumber:11},this),e.jsxDEV("div",{className:"flex justify-center",children:e.jsxDEV(Z,{type:"submit",size:"lg",disabled:u||q,className:"w-full md:w-auto disabled:bg-gray-400 disabled:cursor-not-allowed min-h-[56px] text-lg font-semibold transition-all duration-300 relative overflow-hidden",children:u||q?e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"w-5 h-5 border-3 border-white border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1188,columnNumber:21},this),e.jsxDEV("div",{className:"absolute inset-0 w-5 h-5 border-3 border-white/30 rounded-full"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1189,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1187,columnNumber:19},this),e.jsxDEV("span",{className:"animate-pulse",children:"Submitting your report..."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1191,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1186,columnNumber:17},this):e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(ye,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1197,columnNumber:19},this),e.jsxDEV("span",{children:"Submit Custodial Note"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1198,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1196,columnNumber:17},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1179,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1178,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:806,columnNumber:9},this),e.jsxDEV(ys,{open:z,onOpenChange:H,children:e.jsxDEV(js,{className:"max-w-lg",children:[e.jsxDEV(Us,{children:[e.jsxDEV(Vs,{className:"text-blue-800 text-xl",children:"âœ… Confirm Submission"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1212,columnNumber:15},this),e.jsxDEV(ws,{className:"text-left",children:"Please review your custodial note before submitting:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1215,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1211,columnNumber:13},this),V&&e.jsxDEV("div",{className:"space-y-3 py-4",children:e.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"Inspector:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1224,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-900",children:V.inspectorName},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1227,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1223,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"School:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1232,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-900",children:V.school},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1235,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1231,columnNumber:19},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"Date:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1239,columnNumber:23},this),e.jsxDEV("p",{className:"text-gray-900",children:V.date},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1242,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1238,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"Location:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1245,columnNumber:23},this),e.jsxDEV("p",{className:"text-gray-900",children:V.location},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1248,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1244,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1237,columnNumber:19},this),V.locationDescription&&e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"Location Details:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1255,columnNumber:23},this),e.jsxDEV("p",{className:"text-gray-900 text-sm",children:V.locationDescription},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1258,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1254,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"Notes:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1264,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-900 text-sm max-h-24 overflow-y-auto",children:V.notes&&V.notes.length>200?`${V.notes.substring(0,200)}...`:V.notes||"No notes provided"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1267,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1263,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"Photos:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1275,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-900",children:[y.length," image",y.length!==1?"s":""," ","attached"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1278,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1274,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1222,columnNumber:17},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1221,columnNumber:15},this),e.jsxDEV(Ss,{children:[e.jsxDEV(ks,{children:"Review/Edit"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1288,columnNumber:15},this),e.jsxDEV(Is,{onClick:ds,className:"bg-blue-600 hover:bg-blue-700",children:"Confirm & Submit"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1289,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1287,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1210,columnNumber:11},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1206,columnNumber:9},this),q&&e.jsxDEV(Ps,{message:"Submitting report..."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1301,columnNumber:11},this),g&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-300",children:e.jsxDEV("div",{className:"bg-white rounded-2xl p-8 max-w-md mx-4 shadow-2xl animate-in zoom-in duration-500",children:e.jsxDEV("div",{className:"text-center space-y-6",children:[e.jsxDEV("div",{className:"relative inline-block",children:[e.jsxDEV("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center animate-bounce",children:e.jsxDEV("div",{className:"w-20 h-20 bg-green-500 rounded-full flex items-center justify-center animate-pulse",children:e.jsxDEV("svg",{className:"w-12 h-12 text-white animate-in zoom-in duration-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1319,columnNumber:25},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1313,columnNumber:23},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1312,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1311,columnNumber:19},this),e.jsxDEV(ye,{className:"absolute -top-2 -right-2 h-8 w-8 text-yellow-400 animate-pulse"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1329,columnNumber:19},this),e.jsxDEV(ye,{className:"absolute -bottom-2 -left-2 h-6 w-6 text-yellow-400 animate-pulse",style:{animationDelay:"0.2s"}},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1330,columnNumber:19},this),e.jsxDEV(ye,{className:"absolute -top-2 -left-2 h-5 w-5 text-blue-400 animate-pulse",style:{animationDelay:"0.4s"}},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1334,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1310,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-green-700",children:"ðŸŽ‰ Success!"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1342,columnNumber:19},this),e.jsxDEV("p",{className:"text-gray-600 text-lg",children:"Your custodial note has been submitted successfully!"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1345,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:"Redirecting you back to the home page..."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1348,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1341,columnNumber:17},this),e.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:e.jsxDEV("div",{className:"h-full bg-gradient-to-r from-green-400 to-blue-500 rounded-full animate-[progress_3s_ease-in-out]",style:{animation:"progress 3s ease-in-out forwards"}},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1355,columnNumber:19},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1354,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1308,columnNumber:15},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1307,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1306,columnNumber:11},this),E&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-300",children:e.jsxDEV("div",{className:"bg-white rounded-2xl p-8 max-w-md mx-4 shadow-2xl animate-in zoom-in duration-500",children:e.jsxDEV("div",{className:"text-center space-y-6",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-800",children:"Report Another Issue?"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1373,columnNumber:19},this),e.jsxDEV("p",{className:"text-gray-600",children:"Found another issue at the same location?"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1376,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:"We can pre-fill your inspector name, school, date, and location to save you time!"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1379,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1372,columnNumber:17},this),e.jsxDEV("div",{className:"flex flex-col gap-3",children:[e.jsxDEV("button",{onClick:is,className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors shadow-md hover:shadow-lg min-h-[48px]",children:"ðŸ“ Report Another Issue Here"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1387,columnNumber:19},this),e.jsxDEV("button",{onClick:ms,className:"w-full px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold rounded-lg transition-colors min-h-[48px]",children:"ðŸ  Return to Home"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1393,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1386,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1371,columnNumber:15},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1370,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1369,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:688,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:684,columnNumber:5},this)}export{Sa as default};
