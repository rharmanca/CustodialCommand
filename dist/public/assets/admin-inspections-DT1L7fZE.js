import{k as Z,u as xe,b as fe,r,j as e,d as p,g as D,h as E,i as j,e as C,f as t,B as k}from"./index-BCpkZOle.js";import{L as m,I as d}from"./label-ggb2pecq.js";import{T as R}from"./textarea-CgjV59eF.js";import{S as q,a as M,b as H,c as $,d as w}from"./select-_5I6RCiC.js";import{D as _,e as B,a as W,b as G,c as J,d as K}from"./dialog-CzgVAoRY.js";import{A as ge,h as ve,a as De,b as Ee,c as je,d as Ve,e as Ue,f as ye,g as Se}from"./alert-dialog-Bx--_xUp.js";import{T as ke,a as we,b as Q,c as X}from"./tabs-DcXmfJW_.js";import{i as Te}from"./custodial-criteria-aPNJLI_7.js";import{L as Ie}from"./loading-spinner-BH02Ky91.js";import{T as Ae}from"./trash-2-Cdc4twbA.js";import{S as Le}from"./settings-DjMu8Wce.js";import"./Combination-g48q4PBV.js";import"./loader-circle-tsK88DYW.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=Z("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);function Ke({onBack:b}){xe();const{toast:h}=fe(),[T,V]=r.useState([]),[ee,I]=r.useState(!0),[x,A]=r.useState(null),[se,L]=r.useState(!1),[ae,c]=r.useState(!1),[f,U]=r.useState({username:"",password:""}),[F,N]=r.useState(""),[ie,ne]=r.useState("inspections"),[re,O]=r.useState(null),[P,y]=r.useState({}),[me,g]=r.useState(!1),[te,v]=r.useState(null),le=[{value:"ASA",label:"ASA"},{value:"LCA",label:"LCA"},{value:"GWC",label:"GWC"},{value:"OA",label:"OA"},{value:"CBR",label:"CBR"},{value:"WLC",label:"WLC"}],[l,o]=r.useState({inspectorName:"",school:"",date:"",inspectionType:"",locationDescription:"",roomNumber:"",locationCategory:"",floors:null,verticalHorizontalSurfaces:null,ceiling:null,restrooms:null,customerSatisfaction:null,trash:null,projectCleaning:null,activitySupport:null,safetyCompliance:null,equipment:null,monitoring:null,notes:"",isCompleted:!1});r.useEffect(()=>{localStorage.getItem("admin-session-token")?(c(!0),z()):I(!1)},[]);const oe=async s=>{s.preventDefault(),N("");try{const i=await(await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:f.username,password:f.password})})).json();i.success?(c(!0),localStorage.setItem("admin-session-token",i.sessionToken),z()):N(i.message||"Invalid username or password")}catch(a){console.error("Login error:",a),N("Network error. Please try again.")}},de=()=>{c(!1),localStorage.removeItem("admin-session-token"),U({username:"",password:""})},ce=s=>{O(s),y({label:s.label,criteria:{...s.criteria}}),g(!0)},ue=()=>{h({title:"✅ Criteria Updated",description:"Criteria updated successfully! (Note: This is a demo - changes are not persisted)"}),g(!1),O(null)},z=async()=>{try{const s=localStorage.getItem("admin-session-token");if(!s){c(!1);return}const a=await fetch("/api/admin/inspections",{headers:{Authorization:`Bearer ${s}`}});if(a.ok){const i=await a.json();V(i.data||i)}else a.status===401?(c(!1),localStorage.removeItem("admin-session-token"),N("Session expired. Please login again.")):console.error("Failed to fetch inspections")}catch(s){console.error("Error fetching inspections:",s)}finally{I(!1)}},he=async s=>{try{const a=localStorage.getItem("admin-session-token");if(!a){c(!1);return}const i=await fetch(`/api/admin/inspections/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}});i.ok?(V(n=>n.filter(u=>u.id!==s)),h({title:"✅ Inspection Deleted",description:"Inspection deleted successfully"})):i.status===401?(c(!1),localStorage.removeItem("admin-session-token"),N("Session expired. Please login again.")):h({variant:"destructive",title:"Deletion Failed",description:"Failed to delete inspection"})}catch(a){console.error("Error deleting inspection:",a),h({variant:"destructive",title:"Network Error",description:"Error deleting inspection. Please check your connection and try again."})}},Ne=s=>{A(s),o({inspectorName:s.inspectorName||"",school:s.school,date:s.date,inspectionType:s.inspectionType,locationDescription:s.locationDescription,roomNumber:s.roomNumber||"",locationCategory:s.locationCategory||"",floors:s.floors,verticalHorizontalSurfaces:s.verticalHorizontalSurfaces,ceiling:s.ceiling,restrooms:s.restrooms,customerSatisfaction:s.customerSatisfaction,trash:s.trash,projectCleaning:s.projectCleaning,activitySupport:s.activitySupport,safetyCompliance:s.safetyCompliance,equipment:s.equipment,monitoring:s.monitoring,notes:s.notes||"",isCompleted:s.isCompleted||!1}),L(!0)},S=()=>{L(!1),A(null)},pe=async()=>{if(x)try{const s=await fetch(`/api/inspections/${x.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(s.ok){const a=await s.json();V(i=>i.map(n=>n.id===x.id?a:n)),S(),h({title:"✅ Inspection Updated",description:"Inspection updated successfully"})}else{const a=await s.json();alert(`Failed to update inspection: ${a.error}`)}}catch(s){console.error("Error updating inspection:",s),alert("Error updating inspection")}},Ce=s=>new Date(s).toLocaleDateString(),be=s=>s===null?"bg-gray-100 text-gray-800":s<=2?"bg-red-100 text-red-800":s<=3?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800";return ae?ee?e.jsxDEV(Ie,{text:"Loading inspections..."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:354,columnNumber:7},this):e.jsxDEV("div",{className:"container mx-auto p-6 max-w-6xl space-y-6",children:[e.jsxDEV("div",{className:"flex items-center gap-4 mb-6",children:[b&&e.jsxDEV(t,{variant:"outline",onClick:b,className:"flex-shrink-0",children:"← Back"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:362,columnNumber:11},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Admin Panel"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:367,columnNumber:11},this),e.jsxDEV("p",{className:"text-gray-600 mt-2",children:"Manage inspections and criteria"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:368,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:366,columnNumber:9},this),e.jsxDEV(t,{variant:"outline",onClick:de,className:"flex items-center gap-2 flex-shrink-0",children:[e.jsxDEV(Fe,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:375,columnNumber:11},this),"Logout"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:370,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:360,columnNumber:7},this),e.jsxDEV(ke,{value:ie,onValueChange:ne,children:[e.jsxDEV(we,{className:"grid w-full grid-cols-2",children:[e.jsxDEV(Q,{value:"inspections",children:"Manage Inspections"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:382,columnNumber:11},this),e.jsxDEV(Q,{value:"criteria",children:"Edit Criteria"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:383,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:381,columnNumber:9},this),e.jsxDEV(X,{value:"inspections",className:"space-y-4 mt-6",children:e.jsxDEV("div",{className:"grid gap-4",children:T.length===0?e.jsxDEV(p,{children:e.jsxDEV(C,{className:"pt-6",children:e.jsxDEV("div",{className:"text-center text-gray-500",children:"No inspections found"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:392,columnNumber:17},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:391,columnNumber:15},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:390,columnNumber:13},this):T.map(s=>e.jsxDEV(p,{className:"overflow-hidden",children:[e.jsxDEV(D,{className:"pb-4",children:e.jsxDEV("div",{className:"flex items-start justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV(E,{className:"text-lg",children:[s.school," - ",s.locationDescription]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:401,columnNumber:21},this),e.jsxDEV(j,{children:e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("div",{children:["Date: ",Ce(s.date)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:406,columnNumber:25},this),s.inspectorName&&e.jsxDEV("div",{children:["Inspector: ",s.inspectorName]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:408,columnNumber:27},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(k,{variant:"outline",children:s.inspectionType},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:411,columnNumber:27},this),s.isCompleted&&e.jsxDEV(k,{variant:"default",children:"Completed"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:413,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:410,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:405,columnNumber:23},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:404,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:400,columnNumber:19},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(_,{open:se&&x?.id===s.id,onOpenChange:a=>{a||S()},children:[e.jsxDEV(B,{asChild:!0,children:e.jsxDEV(t,{variant:"outline",size:"sm",onClick:()=>Ne(s),children:e.jsxDEV(Y,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:429,columnNumber:27},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:424,columnNumber:25},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:423,columnNumber:23},this),e.jsxDEV(W,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxDEV(G,{children:[e.jsxDEV(J,{children:"Edit Inspection"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:434,columnNumber:27},this),e.jsxDEV(K,{children:"Make changes to the inspection details"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:435,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:433,columnNumber:25},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV(m,{htmlFor:"edit-inspector",children:"Inspector Name"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:442,columnNumber:31},this),e.jsxDEV(d,{id:"edit-inspector",value:l.inspectorName,onChange:a=>o(i=>({...i,inspectorName:a.target.value}))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:443,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:441,columnNumber:29},this),e.jsxDEV("div",{children:[e.jsxDEV(m,{htmlFor:"edit-school",children:"School"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:450,columnNumber:31},this),e.jsxDEV(q,{value:l.school,onValueChange:a=>o(i=>({...i,school:a})),children:[e.jsxDEV(M,{children:e.jsxDEV(H,{},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:456,columnNumber:35},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:455,columnNumber:33},this),e.jsxDEV($,{children:le.map(a=>e.jsxDEV(w,{value:a.value,children:a.label},a.value,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:460,columnNumber:37},this))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:458,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:451,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:449,columnNumber:29},this),e.jsxDEV("div",{children:[e.jsxDEV(m,{htmlFor:"edit-date",children:"Date"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:468,columnNumber:31},this),e.jsxDEV(d,{id:"edit-date",type:"date",value:l.date,onChange:a=>o(i=>({...i,date:a.target.value}))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:469,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:467,columnNumber:29},this),e.jsxDEV("div",{children:[e.jsxDEV(m,{htmlFor:"edit-type",children:"Inspection Type"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:477,columnNumber:31},this),e.jsxDEV(q,{value:l.inspectionType,onValueChange:a=>o(i=>({...i,inspectionType:a})),children:[e.jsxDEV(M,{children:e.jsxDEV(H,{},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:483,columnNumber:35},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:482,columnNumber:33},this),e.jsxDEV($,{children:[e.jsxDEV(w,{value:"single_room",children:"Single Room"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:486,columnNumber:35},this),e.jsxDEV(w,{value:"whole_building",children:"Whole Building"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:487,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:485,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:478,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:476,columnNumber:29},this),e.jsxDEV("div",{children:[e.jsxDEV(m,{htmlFor:"edit-location",children:"Location Description"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:492,columnNumber:31},this),e.jsxDEV(d,{id:"edit-location",value:l.locationDescription,onChange:a=>o(i=>({...i,locationDescription:a.target.value}))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:493,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:491,columnNumber:29},this),e.jsxDEV("div",{children:[e.jsxDEV(m,{htmlFor:"edit-room",children:"Room Number"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:500,columnNumber:31},this),e.jsxDEV(d,{id:"edit-room",value:l.roomNumber,onChange:a=>o(i=>({...i,roomNumber:a.target.value}))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:501,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:499,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:440,columnNumber:27},this),l.inspectionType==="single_room"&&e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h4",{className:"font-medium",children:"Rating Categories (1-5, or leave empty for no rating)"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:511,columnNumber:31},this),e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[{key:"floors",label:"Floors"},{key:"verticalHorizontalSurfaces",label:"Surfaces"},{key:"ceiling",label:"Ceiling"},{key:"restrooms",label:"Restrooms"},{key:"customerSatisfaction",label:"Customer Satisfaction"},{key:"trash",label:"Trash"},{key:"projectCleaning",label:"Project Cleaning"},{key:"activitySupport",label:"Activity Support"},{key:"safetyCompliance",label:"Safety Compliance"},{key:"equipment",label:"Equipment"},{key:"monitoring",label:"Monitoring"}].map(({key:a,label:i})=>e.jsxDEV("div",{children:[e.jsxDEV(m,{htmlFor:`edit-${a}`,children:i},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:527,columnNumber:37},this),e.jsxDEV(d,{id:`edit-${a}`,type:"number",min:"1",max:"5",value:l[a]||"",onChange:n=>o(u=>({...u,[a]:n.target.value?parseInt(n.target.value):null}))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:528,columnNumber:37},this)]},a,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:526,columnNumber:35},this))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:512,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:510,columnNumber:29},this),e.jsxDEV("div",{children:[e.jsxDEV(m,{htmlFor:"edit-notes",children:"Notes"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:546,columnNumber:29},this),e.jsxDEV(R,{id:"edit-notes",value:l.notes,onChange:a=>o(i=>({...i,notes:a.target.value})),rows:3},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:547,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:545,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:439,columnNumber:25},this),e.jsxDEV("div",{className:"flex justify-end gap-2",children:[e.jsxDEV(t,{variant:"outline",onClick:S,children:"Cancel"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:556,columnNumber:27},this),e.jsxDEV(t,{onClick:pe,children:"Save Changes"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:562,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:555,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:432,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:420,columnNumber:21},this),e.jsxDEV(ge,{open:te===s.id,onOpenChange:a=>{v(a?s.id:null)},children:[e.jsxDEV(ve,{asChild:!0,children:e.jsxDEV(t,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:e.jsxDEV(Ae,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:582,columnNumber:27},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:577,columnNumber:25},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:576,columnNumber:23},this),e.jsxDEV(De,{children:[e.jsxDEV(Ee,{children:[e.jsxDEV(je,{children:"Delete Inspection"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:587,columnNumber:27},this),e.jsxDEV(Ve,{children:"Are you sure you want to delete this inspection? This action cannot be undone."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:588,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:586,columnNumber:25},this),e.jsxDEV(Ue,{children:[e.jsxDEV(ye,{onClick:()=>v(null),children:"Cancel"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:593,columnNumber:27},this),e.jsxDEV(Se,{onClick:()=>{he(s.id),v(null)},className:"bg-red-600 hover:bg-red-700",children:"Delete"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:594,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:592,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:585,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:569,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:419,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:399,columnNumber:17},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:398,columnNumber:15},this),e.jsxDEV(C,{children:[s.inspectionType==="single_room"&&e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("h4",{className:"font-medium text-sm",children:"Ratings:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:612,columnNumber:21},this),e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[{key:"floors",label:"Floors"},{key:"verticalHorizontalSurfaces",label:"Surfaces"},{key:"ceiling",label:"Ceiling"},{key:"restrooms",label:"Restrooms"},{key:"customerSatisfaction",label:"Customer Satisfaction"},{key:"trash",label:"Trash"},{key:"projectCleaning",label:"Project Cleaning"},{key:"activitySupport",label:"Activity Support"},{key:"safetyCompliance",label:"Safety Compliance"},{key:"equipment",label:"Equipment"},{key:"monitoring",label:"Monitoring"}].map(({key:a,label:i})=>{const n=s[a];return e.jsxDEV("div",{className:"text-xs",children:[e.jsxDEV("div",{className:"font-medium text-gray-600",children:i},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:630,columnNumber:29},this),e.jsxDEV(k,{variant:"secondary",className:`text-xs ${be(n)}`,children:n||"N/A"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:631,columnNumber:29},this)]},a,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:629,columnNumber:27},this)})},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:613,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:611,columnNumber:19},this),s.notes&&e.jsxDEV("div",{className:"mt-3 pt-3 border-t",children:[e.jsxDEV("h4",{className:"font-medium text-sm mb-1",children:"Notes:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:645,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm text-gray-600",children:s.notes},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:646,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:644,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:609,columnNumber:15},this)]},s.id,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:397,columnNumber:13},this))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:388,columnNumber:7},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:386,columnNumber:9},this),e.jsxDEV(X,{value:"criteria",className:"space-y-4 mt-6",children:e.jsxDEV(p,{children:[e.jsxDEV(D,{children:[e.jsxDEV(E,{className:"flex items-center gap-2",children:[e.jsxDEV(Le,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:660,columnNumber:17},this),"Inspection Criteria Management"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:659,columnNumber:15},this),e.jsxDEV(j,{children:"View and edit the criteria used for rating inspections. Each category has specific criteria for ratings 1-5."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:663,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:658,columnNumber:13},this),e.jsxDEV(C,{className:"space-y-4",children:Te.map(s=>e.jsxDEV(p,{className:"border-l-4 border-l-blue-500",children:[e.jsxDEV(D,{className:"pb-3",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV(E,{className:"text-lg",children:s.label},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:673,columnNumber:25},this),e.jsxDEV(j,{className:"mt-1",children:[Object.keys(s.criteria).length," rating levels defined"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:674,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:672,columnNumber:23},this),e.jsxDEV(_,{open:me&&re?.key===s.key,onOpenChange:g,children:[e.jsxDEV(B,{asChild:!0,children:e.jsxDEV(t,{variant:"outline",size:"sm",onClick:()=>ce(s),children:[e.jsxDEV(Y,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:685,columnNumber:29},this),"Edit"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:680,columnNumber:27},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:679,columnNumber:25},this),e.jsxDEV(W,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsxDEV(G,{children:[e.jsxDEV(J,{children:["Edit Criteria: ",s.label]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:691,columnNumber:29},this),e.jsxDEV(K,{children:"Modify the criteria descriptions for each rating level (1-5 stars)"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:692,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:690,columnNumber:27},this),e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV(m,{htmlFor:"criteria-label",children:"Category Label"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:698,columnNumber:31},this),e.jsxDEV(d,{id:"criteria-label",value:P.label||"",onChange:a=>y(i=>({...i,label:a.target.value})),className:"mt-1"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:699,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:697,columnNumber:29},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h4",{className:"font-medium",children:"Rating Criteria"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:707,columnNumber:31},this),[5,4,3,2,1].map(a=>e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(m,{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"font-medium",children:["Rating ",a,":"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:711,columnNumber:37},this),e.jsxDEV("div",{className:"flex",children:[Array.from({length:a},(i,n)=>e.jsxDEV("span",{className:"text-yellow-400",children:"★"},n,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:714,columnNumber:41},this)),Array.from({length:5-a},(i,n)=>e.jsxDEV("span",{className:"text-gray-300",children:"★"},n,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:717,columnNumber:41},this))]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:712,columnNumber:37},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:710,columnNumber:35},this),e.jsxDEV(R,{value:P.criteria?.[a]||"",onChange:i=>y(n=>({...n,criteria:{...n.criteria,[a]:i.target.value}})),rows:3,className:"text-sm",placeholder:`Enter criteria description for ${a} star rating...`},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:721,columnNumber:35},this)]},a,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:709,columnNumber:33},this))]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:706,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:696,columnNumber:27},this),e.jsxDEV("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsxDEV(t,{variant:"outline",onClick:()=>g(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:739,columnNumber:29},this),e.jsxDEV(t,{onClick:ue,children:"Save Changes"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:745,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:738,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:689,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:678,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:671,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:670,columnNumber:19},this),e.jsxDEV(C,{children:e.jsxDEV("div",{className:"space-y-3",children:Object.entries(s.criteria).map(([a,i])=>e.jsxDEV("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxDEV("div",{className:"flex items-center gap-1",children:[Array.from({length:parseInt(a)},(n,u)=>e.jsxDEV("span",{className:"text-yellow-400 text-sm",children:"★"},u,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:759,columnNumber:31},this)),Array.from({length:5-parseInt(a)},(n,u)=>e.jsxDEV("span",{className:"text-gray-300 text-sm",children:"★"},u,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:762,columnNumber:31},this))]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:757,columnNumber:27},this),e.jsxDEV("div",{className:"flex-1 text-sm text-gray-700",children:i},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:765,columnNumber:27},this)]},a,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:756,columnNumber:25},this))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:754,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:753,columnNumber:19},this)]},s.key,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:669,columnNumber:17},this))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:667,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:657,columnNumber:11},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:656,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:380,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:359,columnNumber:5},this):e.jsxDEV("div",{className:"container mx-auto p-6 max-w-md",children:e.jsxDEV(p,{children:[e.jsxDEV(D,{children:[e.jsxDEV(E,{className:"text-center",children:"Admin Login"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:297,columnNumber:13},this),e.jsxDEV(j,{className:"text-center",children:"Enter your credentials to access the admin panel"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:298,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:296,columnNumber:11},this),e.jsxDEV(C,{children:e.jsxDEV("form",{onSubmit:oe,className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV(m,{htmlFor:"username",children:"Username"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:305,columnNumber:17},this),e.jsxDEV(d,{id:"username",name:"username",type:"text",autoComplete:"username",value:f.username,onChange:s=>U(a=>({...a,username:s.target.value})),placeholder:"Enter username",required:!0},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:306,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:304,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV(m,{htmlFor:"password",children:"Password"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:318,columnNumber:17},this),e.jsxDEV(d,{id:"password",name:"password",type:"password",autoComplete:"current-password",value:f.password,onChange:s=>U(a=>({...a,password:s.target.value})),placeholder:"Enter password",required:!0},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:319,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:317,columnNumber:15},this),F&&e.jsxDEV("div",{className:"text-red-600 text-sm text-center",children:F},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:331,columnNumber:17},this),e.jsxDEV("div",{className:"flex gap-2",children:[b&&e.jsxDEV(t,{type:"button",variant:"outline",onClick:b,className:"flex-1",children:"Back"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:337,columnNumber:19},this),e.jsxDEV(t,{type:"submit",className:"flex-1",children:"Login"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:341,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:335,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:303,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:302,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:295,columnNumber:9},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/admin-inspections.tsx",lineNumber:294,columnNumber:7},this)}export{Ke as default};
