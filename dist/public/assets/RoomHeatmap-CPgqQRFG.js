import{r as g,j as e,d as t,g as D,h as R,i as H,e as i,t as j,R as E,B as U,a as V,v as w}from"./index-BCpkZOle.js";import{D as y,e as F,a as $,b as S,c as B,d as L}from"./dialog-CzgVAoRY.js";import{M as c}from"./map-pin-DiBHj4xb.js";import{S as T}from"./star-C7K7PjQ0.js";import{C as P}from"./calendar-DOcdwSLZ.js";import{T as d}from"./triangle-alert-C7A_BMC4.js";import"./Combination-g48q4PBV.js";const J=({data:u,title:N="Room Performance Heatmap",description:f="Visual overview of room performance ratings",maxRoomsPerRow:h=8,onRoomClick:p})=>{const[A,x]=g.useState(null),b=s=>s>=4.5?"bg-green-100 text-green-800 border-green-200":s>=3.5?"bg-yellow-100 text-yellow-800 border-yellow-200":s>=2.5?"bg-orange-100 text-orange-800 border-orange-200":"bg-red-100 text-red-800 border-red-200",l=s=>s>=4.5?"Excellent":s>=3.5?"Good":s>=2.5?"Fair":"Needs Attention",o=s=>s<2?{level:"critical",color:"#EF4444",icon:d}:s<3?{level:"needs-attention",color:"#F59E0B",icon:V}:{level:"acceptable",color:"#10B981",icon:w},C=s=>{x(s),p?.(s)},v=u.reduce((s,n)=>(s[n.school]||(s[n.school]=[]),s[n.school].push(n),s),{});return e.jsxDEV(t,{className:"w-full offscreen-content layout-contained",children:[e.jsxDEV(D,{children:[e.jsxDEV(R,{className:"flex items-center gap-2 text-foreground",children:[e.jsxDEV(c,{className:"w-5 h-5 text-primary"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:76,columnNumber:11},void 0),N]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:75,columnNumber:9},void 0),e.jsxDEV(H,{className:"text-muted-foreground",children:f},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:79,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:74,columnNumber:7},void 0),e.jsxDEV(i,{children:e.jsxDEV("div",{className:"space-y-6",children:[Object.entries(v).map(([s,n])=>e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(j,{className:"w-4 h-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:88,columnNumber:17},void 0),e.jsxDEV("h3",{className:"font-medium text-foreground",children:s},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:89,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:["(",n.length," rooms)"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:90,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:87,columnNumber:15},void 0),e.jsxDEV("div",{className:"grid gap-2",style:{gridTemplateColumns:`repeat(${Math.min(h,n.length)}, 1fr)`},children:n.map(a=>e.jsxDEV(y,{children:[e.jsxDEV(F,{asChild:!0,children:e.jsxDEV("div",{className:`
                          p-3 text-center text-xs rounded-lg border-2 transition-all duration-200 hover:scale-105 cursor-pointer
                          ${b(a.rating)}
                        `,title:`Room ${a.number}: ${a.rating.toFixed(1)}/5 - ${l(a.rating)}`,onClick:()=>C(a),children:[e.jsxDEV("div",{className:"font-bold text-sm mb-1",children:a.number},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:109,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-xs opacity-75",children:a.rating.toFixed(1)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:112,columnNumber:25},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:101,columnNumber:23},void 0)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:100,columnNumber:21},void 0),e.jsxDEV($,{className:"max-w-2xl",children:[e.jsxDEV(S,{children:[e.jsxDEV(B,{className:"flex items-center gap-2",children:[e.jsxDEV(c,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:120,columnNumber:27},void 0),"Room ",a.number," - ",a.school]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:119,columnNumber:25},void 0),e.jsxDEV(L,{children:"Detailed performance analysis and inspection history"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:123,columnNumber:25},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:118,columnNumber:23},void 0),e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxDEV(t,{children:e.jsxDEV(i,{className:"p-4",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxDEV(T,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:134,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-sm font-medium",children:"Current Rating"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:135,columnNumber:33},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:133,columnNumber:31},void 0),e.jsxDEV("div",{className:"text-2xl font-bold",style:{color:o(a.rating).color},children:[a.rating.toFixed(1),"/5"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:137,columnNumber:31},void 0),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:l(a.rating)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:140,columnNumber:31},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:132,columnNumber:29},void 0)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:131,columnNumber:27},void 0),e.jsxDEV(t,{children:e.jsxDEV(i,{className:"p-4",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxDEV(P,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:149,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-sm font-medium",children:"Last Inspection"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:150,columnNumber:33},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:148,columnNumber:31},void 0),e.jsxDEV("div",{className:"text-lg font-semibold",children:new Date(a.lastInspection).toLocaleDateString()},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:152,columnNumber:31},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:147,columnNumber:29},void 0)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:146,columnNumber:27},void 0),e.jsxDEV(t,{children:e.jsxDEV(i,{className:"p-4",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[E.createElement(o(a.rating).icon,{className:"w-4 h-4"}),e.jsxDEV("span",{className:"text-sm font-medium",children:"Status"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:162,columnNumber:33},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:160,columnNumber:31},void 0),e.jsxDEV(U,{variant:o(a.rating).level==="critical"?"destructive":o(a.rating).level==="needs-attention"?"secondary":"default",className:"text-xs",children:o(a.rating).level.replace("-"," ").toUpperCase()},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:164,columnNumber:31},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:159,columnNumber:29},void 0)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:158,columnNumber:27},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:130,columnNumber:25},void 0),a.categories&&e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-medium mb-3",children:"Category Performance"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:178,columnNumber:29},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(a.categories).map(([m,r])=>e.jsxDEV("div",{className:"flex justify-between items-center p-2 bg-muted/50 rounded",children:[e.jsxDEV("span",{className:"text-sm",children:m},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:182,columnNumber:35},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("span",{className:"text-sm font-medium",children:r.toFixed(1)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:184,columnNumber:37},void 0),r<3&&e.jsxDEV(d,{className:"w-3 h-3 text-orange-500"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:185,columnNumber:54},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:183,columnNumber:35},void 0)]},m,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:181,columnNumber:33},void 0))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:179,columnNumber:29},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:177,columnNumber:27},void 0),a.inspectionHistory&&a.inspectionHistory.length>0&&e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-medium mb-3",children:"Inspection History"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:196,columnNumber:29},void 0),e.jsxDEV("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:a.inspectionHistory.slice(0,5).map((m,r)=>e.jsxDEV("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-medium",children:new Date(m.date).toLocaleDateString()},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:201,columnNumber:37},void 0),m.inspector&&e.jsxDEV("span",{className:"text-muted-foreground ml-2",children:["by ",m.inspector]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:203,columnNumber:39},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:200,columnNumber:35},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"font-medium",children:m.rating.toFixed(1)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:207,columnNumber:37},void 0),m.rating<3&&e.jsxDEV(d,{className:"w-3 h-3 text-orange-500"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:208,columnNumber:65},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:206,columnNumber:35},void 0)]},r,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:199,columnNumber:33},void 0))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:197,columnNumber:29},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:195,columnNumber:27},void 0),a.photos&&a.photos.length>0&&e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-medium mb-3",children:"Inspection Photos"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:219,columnNumber:29},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:a.photos.slice(0,4).map((m,r)=>e.jsxDEV("div",{className:"aspect-square bg-muted rounded overflow-hidden",children:e.jsxDEV("img",{src:m,alt:`Room ${a.number} photo ${r+1}`,className:"w-full h-full object-cover"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:223,columnNumber:35},void 0)},r,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:222,columnNumber:33},void 0))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:220,columnNumber:29},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:218,columnNumber:27},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:128,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:117,columnNumber:21},void 0)]},`${s}-${a.number}`,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:99,columnNumber:19},void 0))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:95,columnNumber:15},void 0)]},s,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:86,columnNumber:13},void 0)),e.jsxDEV("div",{className:"border-t border-border pt-4",children:[e.jsxDEV("h4",{className:"text-sm font-medium text-foreground mb-3",children:"Performance Legend"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:243,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"w-3 h-3 rounded bg-green-100 border border-green-200"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:246,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-muted-foreground",children:"Excellent (4.5+)"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:247,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:245,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"w-3 h-3 rounded bg-yellow-100 border border-yellow-200"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:250,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-muted-foreground",children:"Good (3.5-4.4)"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:251,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:249,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"w-3 h-3 rounded bg-orange-100 border border-orange-200"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:254,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-muted-foreground",children:"Fair (2.5-3.4)"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:255,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:253,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"w-3 h-3 rounded bg-red-100 border border-red-200"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:258,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-muted-foreground",children:"Needs Attention (<2.5)"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:259,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:257,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:244,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:242,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:84,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:83,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/RoomHeatmap.tsx",lineNumber:73,columnNumber:5},void 0)};export{J as default};
