import{r as n,j as e,c as k,S as we,C as ue,a as Ie,u as ke,b as Te,B,d as j,e as S,f as G,H as Ae,g as _,h as z,i as M,U as $e,X as Fe}from"./index-DtNjA5Oq.js";import{u as Le,C as ie,n as Pe,c as Be,f as W,i as _e,t as ze,s as Me}from"./custodialNotesSchema-BXa6MAED.js";import{m as Re,g as Ue,l as Oe,S as J,p as He,s as qe,C as ae,a as We,c as Je}from"./collapsible-section-ETn-Uwi0.js";import{L as D,I}from"./label-DMQaBw0m.js";import{T as Ke}from"./textarea-CbwZk57f.js";import{S as oe,a as te,b as le,c as me,d as ne}from"./select-DHwiPnbn.js";import{D as Ye,a as Xe,b as Qe,c as Ze,d as es}from"./dialog-BAwO-z44.js";import{C as ss}from"./chevron-right-iBlqvVcF.js";import{r as R,i as de}from"./custodial-criteria-aPNJLI_7.js";import{L as is}from"./LoadingOverlay-CYud_WHp.js";import{C as as}from"./Combination--XeAvC3L.js";import{S as K}from"./save-HWlZMPWu.js";import{S as re}from"./star-BYFx1VLZ.js";import{C as os}from"./calendar-CXR5x7T4.js";const ce=n.forwardRef(({...d},t)=>e.jsxDEV("nav",{ref:t,"aria-label":"breadcrumb",...d},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/components/ui/breadcrumb.tsx",lineNumber:12,columnNumber:26},void 0));ce.displayName="Breadcrumb";const Ce=n.forwardRef(({className:d,...t},r)=>e.jsxDEV("ol",{ref:r,className:k("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",d),...t},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/components/ui/breadcrumb.tsx",lineNumber:19,columnNumber:3},void 0));Ce.displayName="BreadcrumbList";const Y=n.forwardRef(({className:d,...t},r)=>e.jsxDEV("li",{ref:r,className:k("inline-flex items-center gap-1.5",d),...t},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/components/ui/breadcrumb.tsx",lineNumber:34,columnNumber:3},void 0));Y.displayName="BreadcrumbItem";const Ne=n.forwardRef(({asChild:d,className:t,...r},f)=>{const V=d?we:"a";return e.jsxDEV(V,{ref:f,className:k("transition-colors hover:text-foreground",t),...r},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/components/ui/breadcrumb.tsx",lineNumber:51,columnNumber:5},void 0)});Ne.displayName="BreadcrumbLink";const pe=n.forwardRef(({className:d,...t},r)=>e.jsxDEV("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:k("font-normal text-foreground",d),...t},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/components/ui/breadcrumb.tsx",lineNumber:64,columnNumber:3},void 0));pe.displayName="BreadcrumbPage";const be=({children:d,className:t,...r})=>e.jsxDEV("li",{role:"presentation","aria-hidden":"true",className:k("[&>svg]:w-3.5 [&>svg]:h-3.5",t),...r,children:d??e.jsxDEV(ss,{},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/components/ui/breadcrumb.tsx",lineNumber:86,columnNumber:18},void 0)},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/components/ui/breadcrumb.tsx",lineNumber:80,columnNumber:3},void 0);be.displayName="BreadcrumbSeparator";function ts({status:d,lastSaved:t,errorMessage:r,className:f=""}){const[V,l]=n.useState("");n.useEffect(()=>{if(!t){l("");return}const A=()=>{const p=new Date().getTime()-t.getTime(),y=Math.floor(p/1e3),h=Math.floor(y/60);y<10?l("just now"):y<60?l(`${y}s ago`):h<60?l(`${h}m ago`):l(t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))};A();const X=setInterval(A,1e4);return()=>clearInterval(X)},[t]);const x=(()=>{switch(d){case"saving":return{icon:K,text:"Saving...",bgColor:"bg-blue-100 border-blue-300",textColor:"text-blue-800",iconColor:"text-blue-600",animate:!0};case"saved":return{icon:as,text:V?`Saved ${V}`:"Saved",bgColor:"bg-green-100 border-green-300",textColor:"text-green-800",iconColor:"text-green-600",animate:!1};case"error":return{icon:Ie,text:r||"Save failed",bgColor:"bg-red-100 border-red-300",textColor:"text-red-800",iconColor:"text-red-600",animate:!1};default:return{icon:ue,text:"Not saved",bgColor:"bg-gray-100 border-gray-300",textColor:"text-gray-700",iconColor:"text-gray-500",animate:!1}}})(),o=x.icon;return e.jsxDEV("div",{className:`fixed bottom-4 right-4 z-50 flex items-center gap-2 px-4 py-2 rounded-lg border-2 shadow-lg transition-all duration-200 ${x.bgColor} ${f}`,role:"status","aria-live":"polite",children:[e.jsxDEV(o,{className:`h-4 w-4 ${x.iconColor} ${x.animate?"animate-pulse":""}`},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/components/auto-save-indicator.tsx",lineNumber:102,columnNumber:7},this),e.jsxDEV("span",{className:`text-sm font-medium ${x.textColor}`,children:x.text},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/components/auto-save-indicator.tsx",lineNumber:105,columnNumber:7},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/components/auto-save-indicator.tsx",lineNumber:97,columnNumber:5},this)}function gs({onBack:d}){const{isMobile:t}=ke(),{toast:r}=Te(),{register:f,handleSubmit:V,formState:{errors:l,isSubmitting:T},reset:x,setValue:o,watch:A,getValues:X,control:U}=Le({resolver:ze(Me),defaultValues:_e}),p=A(),[y,h]=n.useState(!1),[fe,O]=n.useState([]),[g,w]=n.useState(null),[$,F]=n.useState(null),[H,Q]=n.useState(!1),[xe,q]=n.useState("idle"),he=[{value:"ASA",label:"ASA"},{value:"LCA",label:"LCA"},{value:"GWC",label:"GWC"},{value:"OA",label:"OA"},{value:"CBR",label:"CBR"},{value:"WLC",label:"WLC"}],ge=[{value:"exterior",label:"Exterior"},{value:"gym_bleachers",label:"Gym and Bleachers"},{value:"classroom",label:"Classroom"},{value:"cafeteria",label:"Cafeteria"},{value:"utility_storage",label:"Utility Or Storage"},{value:"admin_office",label:"Admin or Office Area"},{value:"hallway",label:"Hallway"},{value:"stairwell",label:"Stairwell"},{value:"restroom",label:"Restroom"},{value:"staff_single_restroom",label:"Staff or Single Restroom"}],[b,L]=n.useState([]);n.useEffect(()=>{Re(),ve();const s=Ue();console.log("Storage stats:",s)},[]),n.useEffect(()=>{if(g){const s=setTimeout(()=>{Z()},2e3);return()=>clearTimeout(s)}},[p,b,g]);const ve=()=>{try{const s=Oe(J.DRAFT_INSPECTION);s&&(O([s]),h(!0));const i=localStorage.getItem("custodial_inspection_drafts");if(i&&!s){const m=JSON.parse(i).filter(N=>{const c=new Date(N.lastModified),u=new Date;return u.setDate(u.getDate()-7),c>u});m.length>0&&(O(m),h(!0))}}catch(s){console.error("Error loading draft inspections:",s)}},De=()=>`draft_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,Z=async()=>{if(!(!p.school||!p.date)){Q(!0),q("saving");try{const s=g||De();g||w(s);const i=[];for(const m of b)try{const N=await He(m);i.push(N)}catch(N){console.error("Failed to process image:",N)}const a={id:s,...p,selectedImages:i,lastModified:new Date().toISOString(),title:`${p.school} - ${p.roomNumber||"Room"} - ${p.locationCategory||"Inspection"}`};qe(J.DRAFT_INSPECTION,a),F(new Date),q("saved")}catch(s){console.error("Error saving draft:",s),q("error")}finally{Q(!1)}}},Ee=s=>{if(o("school",s.school||""),o("date",s.date||""),o("inspectionType",s.inspectionType||"single_room"),o("locationDescription",s.locationDescription||""),o("roomNumber",s.roomNumber||""),o("locationCategory",s.locationCategory||""),o("floors",s.floors||0),o("verticalHorizontalSurfaces",s.verticalHorizontalSurfaces||0),o("ceiling",s.ceiling||0),o("restrooms",s.restrooms||0),o("customerSatisfaction",s.customerSatisfaction||0),o("trash",s.trash||0),o("projectCleaning",s.projectCleaning||0),o("activitySupport",s.activitySupport||0),o("safetyCompliance",s.safetyCompliance||0),o("equipment",s.equipment||0),o("monitoring",s.monitoring||0),o("notes",s.notes||""),s.selectedImages&&s.selectedImages.length>0){const i=s.selectedImages.map((a,m)=>{const N=atob(a.split(",")[1]),c=new Array(N.length);for(let v=0;v<N.length;v++)c[v]=N.charCodeAt(v);const u=new Uint8Array(c);return new File([u],`image_${m}.jpg`,{type:"image/jpeg"})});L(i)}w(s.id),h(!1)},ee=s=>{Je(J.DRAFT_INSPECTION);const i=JSON.parse(localStorage.getItem("custodial_inspection_drafts")||"[]"),a=i.filter(m=>m.id!==s);a.length!==i.length&&localStorage.setItem("custodial_inspection_drafts",JSON.stringify(a)),O([]),g===s&&(w(null),F(null))},je=()=>{h(!1),w(null),F(null)},se=async s=>{const i=s.target.files;if(i&&i.length>0){const a=Array.from(i),N=5-b.length,c=a.slice(0,N),u=[];let v=0,P=0;for(const C of c)if(v+=C.size,Pe(C,500))try{const E=await Be(C,{maxSizeKB:500});u.push(E.compressedFile),P+=E.compressedSize,console.log(`Compressed ${C.name}: ${W(C.size)} ‚Üí ${W(E.compressedSize)}`)}catch(E){console.error("Failed to compress image:",E),u.push(C),P+=C.size}else u.push(C),P+=C.size;if(L(C=>[...C,...u]),u.length>0){const C=v-P,E=(C/v*100).toFixed(1);r({title:"üì∏ Photos Uploaded Successfully!",description:`Added ${u.length} photo${u.length>1?"s":""} to inspection documentation.${C>0?` Saved ${W(C)} (${E}% compression).`:""}`,duration:3e3})}c.length<a.length&&r({variant:"destructive",title:"Upload Limit Reached",description:`Only ${c.length} photos were added. Maximum of 5 images allowed per inspection.`,duration:5e3}),console.log("Files selected:",u.length,"files")}},Ge=s=>{L(i=>i.filter((a,m)=>m!==s))},Ve=async s=>{try{const i=new FormData;Object.entries(s).forEach(([c,u])=>{c!=="images"&&i.append(c,u?.toString()||"")}),b.forEach(c=>{i.append("images",c)});const a=new AbortController,m=setTimeout(()=>a.abort(),3e4),N=await fetch("/api/inspections",{method:"POST",body:i,signal:a.signal});if(clearTimeout(m),N.ok)r({title:"‚úÖ Inspection Submitted Successfully!",description:`Single area inspection for ${s.school} has been submitted and saved.`,variant:"default",duration:5e3}),g&&ee(g),x(),L([]),w(null),F(null),setTimeout(()=>{d&&d()},6e3);else{const c=await N.json().catch(()=>({message:"Unknown error"}));r({variant:"destructive",title:"Submission Failed",description:`Error: ${c.message||"Unable to submit inspection. Please try again."}`,duration:7e3})}}catch(i){console.error("Error submitting inspection:",i);let a="Submission Failed",m="Unable to submit inspection. Please try again.";i instanceof Error&&(i.name==="AbortError"?(a="Request Timeout",m="The request took too long to complete. This might be due to slow internet connection or large file uploads. Please try again."):i.message.includes("NetworkError")||i.message.includes("fetch")?(a="Network Error",m="Unable to connect to the server. Please check your connection and try again."):(i.message.includes("validation")||i.message.includes("Invalid"))&&(a="Invalid Data",m="Please check all required fields and try again.")),r({variant:"destructive",title:a,description:m,duration:7e3})}},ye=n.useCallback((s,i)=>e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-4 border",children:[e.jsxDEV("div",{className:"text-sm font-medium text-gray-700 mb-3 text-center",children:"Rate this category:"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:411,columnNumber:11},this),e.jsxDEV("div",{className:"flex justify-center gap-2 mb-4",children:[1,2,3,4,5].map(a=>e.jsxDEV("button",{type:"button",className:"p-3 min-w-[48px] min-h-[48px] rounded-md hover:bg-yellow-50 transition-colors touch-manipulation flex items-center justify-center",onClick:()=>o(s.key,a),children:e.jsxDEV(re,{className:`w-7 h-7 ${a<=i&&i>0?"fill-yellow-400 text-yellow-400":"text-gray-300 hover:text-yellow-300"}`},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:424,columnNumber:17},this)},a,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:418,columnNumber:15},this))},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:416,columnNumber:11},this),e.jsxDEV("div",{className:"flex justify-center",children:e.jsxDEV("button",{type:"button",className:`px-6 py-3 min-h-[48px] rounded-md border text-sm font-medium transition-colors touch-manipulation ${i===0?"bg-gray-100 border-gray-300 text-gray-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}`,onClick:()=>o(s.key,0),children:"Not Rated"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:437,columnNumber:13},this)},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:436,columnNumber:11},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:410,columnNumber:9},this),e.jsxDEV("div",{className:"text-center",children:i>0?e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(B,{variant:"secondary",className:"text-sm px-3 py-1",children:R[i-1]?.label},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:455,columnNumber:15},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:R[i-1]?.description},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:458,columnNumber:15},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:454,columnNumber:13},this):e.jsxDEV(B,{variant:"outline",className:"text-sm px-3 py-1",children:"No rating selected"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:463,columnNumber:13},this)},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:452,columnNumber:9},this),i>0&&s.criteria&&s.criteria[i]&&e.jsxDEV(j,{className:"bg-blue-50 border-blue-200",children:e.jsxDEV(S,{className:"p-3",children:e.jsxDEV("div",{className:"text-xs text-blue-800",children:[e.jsxDEV("strong",{className:"text-sm",children:["Rating ",i," Criteria:"]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:474,columnNumber:17},this),e.jsxDEV("p",{className:"mt-1 leading-relaxed",children:s.criteria[i]},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:475,columnNumber:17},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:473,columnNumber:15},this)},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:472,columnNumber:13},this)},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:471,columnNumber:11},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:409,columnNumber:7},this),[o]),Se=n.useCallback((s,i)=>e.jsxDEV("div",{className:"space-y-5",children:[e.jsxDEV("div",{className:"flex flex-wrap justify-center gap-2",children:[e.jsxDEV(G,{type:"button",variant:i===0?"default":"outline",size:"sm",className:"px-4 py-3 text-xs min-h-[48px]",onClick:()=>o(s.key,0),children:"Not Rated"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:488,columnNumber:11},this),[1,2,3,4,5].map(a=>e.jsxDEV(G,{type:"button",variant:"ghost",size:"icon",className:"min-w-[48px] min-h-[48px]",onClick:()=>o(s.key,a),children:e.jsxDEV(re,{className:`w-7 h-7 ${a<=i&&i>0?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:506,columnNumber:15},this)},a,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:498,columnNumber:13},this))]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:487,columnNumber:9},this),e.jsxDEV("div",{className:"text-center px-3",children:i>0?e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(B,{variant:"secondary",className:"text-sm px-3 py-1",children:R[i-1]?.label},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:521,columnNumber:15},this),e.jsxDEV("div",{className:"text-xs text-gray-600 leading-relaxed",children:R[i-1]?.description},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:524,columnNumber:15},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:520,columnNumber:13},this):e.jsxDEV(B,{variant:"outline",className:"text-sm px-3 py-1",children:"No rating selected"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:529,columnNumber:13},this)},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:518,columnNumber:9},this),i>0&&s.criteria&&s.criteria[i]&&e.jsxDEV(j,{className:"bg-accent/10 border-accent/30",children:e.jsxDEV(S,{className:"p-4",children:e.jsxDEV("div",{className:"text-xs text-accent-foreground",children:[e.jsxDEV("strong",{className:"text-sm",children:["Rating ",i," Criteria:"]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:540,columnNumber:17},this),e.jsxDEV("p",{className:"mt-1 leading-relaxed",children:s.criteria[i]},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:541,columnNumber:17},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:539,columnNumber:15},this)},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:538,columnNumber:13},this)},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:537,columnNumber:11},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:486,columnNumber:7},this),[o]);return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ye,{open:y,onOpenChange:h,children:e.jsxDEV(Xe,{className:"max-w-2xl",children:[e.jsxDEV(Qe,{children:[e.jsxDEV(Ze,{children:"Resume Previous Inspection?"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:556,columnNumber:13},this),e.jsxDEV(es,{children:"You have unfinished inspection drafts. Would you like to continue one of them or start a new inspection?"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:557,columnNumber:13},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:555,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[fe.map(s=>e.jsxDEV(j,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-medium",children:s.title},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:566,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["Last modified: ",new Date(s.lastModified).toLocaleString()]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:567,columnNumber:21},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:["School: ",s.school," ‚Ä¢ Date: ",s.date,s.roomNumber&&` ‚Ä¢ Room: ${s.roomNumber}`]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:570,columnNumber:21},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:565,columnNumber:19},this),e.jsxDEV("div",{className:"flex space-x-2",children:[e.jsxDEV(G,{size:"sm",onClick:()=>Ee(s),children:"Resume"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:576,columnNumber:21},this),e.jsxDEV(G,{size:"sm",variant:"outline",onClick:()=>ee(s.id),children:"Delete"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:582,columnNumber:21},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:575,columnNumber:19},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:564,columnNumber:17},this)},s.id,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:563,columnNumber:15},this)),e.jsxDEV("div",{className:"flex justify-center space-x-4 pt-4",children:e.jsxDEV(G,{onClick:je,variant:"outline",children:"Start New Inspection"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:594,columnNumber:15},this)},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:593,columnNumber:13},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:561,columnNumber:11},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:554,columnNumber:9},this)},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:553,columnNumber:7},this),e.jsxDEV("div",{className:"container mx-auto p-6 max-w-4xl",children:[e.jsxDEV(ce,{className:"mb-4",children:e.jsxDEV(Ce,{children:[e.jsxDEV(Y,{children:e.jsxDEV(Ne,{onClick:d,className:"flex items-center gap-1 cursor-pointer",children:[e.jsxDEV(Ae,{className:"w-4 h-4"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:608,columnNumber:15},this),e.jsxDEV("span",{className:"sr-only sm:not-sr-only",children:"Home"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:609,columnNumber:15},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:607,columnNumber:13},this)},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:606,columnNumber:11},this),e.jsxDEV(be,{},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:612,columnNumber:11},this),e.jsxDEV(Y,{children:e.jsxDEV(pe,{children:"Single Area Inspection"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:614,columnNumber:13},this)},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:613,columnNumber:11},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:605,columnNumber:9},this)},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:604,columnNumber:7},this),e.jsxDEV("div",{className:"mb-6",children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-foreground",children:"Submit Inspection"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:620,columnNumber:9},this),e.jsxDEV("p",{className:"text-muted-foreground mt-2",children:"Use this form to inspect a single room or location. Example: Cafeteria. If performing a whole building inspection please select that from the previous screen."},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:621,columnNumber:9},this),e.jsxDEV("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxDEV("p",{className:"text-sm text-blue-800 leading-relaxed",children:[e.jsxDEV("strong",{children:"üìã Important:"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:626,columnNumber:13},this)," This form is for inspecting a single room or area using the same rating criteria as the Whole Building Inspection. However, single area inspections are recorded separately and do not automatically count toward a building-wide inspection or monthly metrics. If you're conducting these inspections as part of a comprehensive building review or to meet monthly inspection requirements, you'll need to manually track your progress across all required areas."]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:625,columnNumber:11},this)},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:624,columnNumber:9},this),($||H)&&e.jsxDEV("div",{className:"mt-2 flex items-center space-x-2 text-sm text-muted-foreground",children:H?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(K,{className:"w-4 h-4 animate-spin"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:635,columnNumber:17},this),e.jsxDEV("span",{children:"Saving..."},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:636,columnNumber:17},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:634,columnNumber:15},this):$?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ue,{className:"w-4 h-4"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:640,columnNumber:17},this),e.jsxDEV("span",{children:["Last saved: ",$.toLocaleTimeString()]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:641,columnNumber:17},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:639,columnNumber:15},this):null},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:632,columnNumber:11},this),g&&e.jsxDEV(G,{type:"button",variant:"outline",onClick:Z,disabled:H,className:"mt-4",children:[e.jsxDEV(K,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:656,columnNumber:13},this),"Save Draft"]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:649,columnNumber:11},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:619,columnNumber:7},this),e.jsxDEV("form",{onSubmit:V(Ve),className:"space-y-6",children:[e.jsxDEV(j,{children:[e.jsxDEV(_,{children:[e.jsxDEV(z,{children:"Basic Information"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:666,columnNumber:13},this),e.jsxDEV(M,{children:"Enter the basic details for this inspection"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:667,columnNumber:13},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:665,columnNumber:11},this),e.jsxDEV(S,{className:"space-y-4",children:[e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[e.jsxDEV("div",{children:[e.jsxDEV(D,{htmlFor:"school",children:"School *"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:672,columnNumber:17},this),e.jsxDEV(ie,{name:"school",control:U,render:({field:s})=>e.jsxDEV(oe,{value:s.value,onValueChange:s.onChange,children:[e.jsxDEV(te,{children:e.jsxDEV(le,{placeholder:"Select school"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:679,columnNumber:25},this)},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:678,columnNumber:23},this),e.jsxDEV(me,{children:he.map(i=>e.jsxDEV(ne,{value:i.value,children:i.label},i.value,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:683,columnNumber:27},this))},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:681,columnNumber:23},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:677,columnNumber:21},this)},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:673,columnNumber:17},this),l.school&&e.jsxDEV("p",{className:"text-sm text-red-500 mt-1",children:l.school.message},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:692,columnNumber:19},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:671,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV(D,{htmlFor:"date",children:"Inspection Date *"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:697,columnNumber:17},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(I,{id:"date",type:"date",...f("date"),"aria-describedby":"date-help",className:"pr-10"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:699,columnNumber:19},this),e.jsxDEV("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-muted-foreground",children:e.jsxDEV(os,{className:"w-4 h-4"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:707,columnNumber:21},this)},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:706,columnNumber:19},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:698,columnNumber:17},this),l.date&&e.jsxDEV("p",{className:"text-sm text-red-500 mt-1",children:l.date.message},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:711,columnNumber:19},this),e.jsxDEV("p",{id:"date-help",className:"text-sm text-muted-foreground mt-1",children:"Click the field or calendar icon to select a date"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:713,columnNumber:17},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:696,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV(D,{htmlFor:"locationCategory",children:"Location Category"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:719,columnNumber:17},this),e.jsxDEV(ie,{name:"locationCategory",control:U,render:({field:s})=>e.jsxDEV(oe,{value:s.value,onValueChange:s.onChange,children:[e.jsxDEV(te,{children:e.jsxDEV(le,{placeholder:"Select location category"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:726,columnNumber:25},this)},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:725,columnNumber:23},this),e.jsxDEV(me,{children:ge.map(i=>e.jsxDEV(ne,{value:i.value,children:i.label},i.value,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:730,columnNumber:27},this))},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:728,columnNumber:23},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:724,columnNumber:21},this)},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:720,columnNumber:17},this),l.locationCategory&&e.jsxDEV("p",{className:"text-sm text-red-500 mt-1",children:l.locationCategory.message},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:739,columnNumber:19},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:718,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV(D,{htmlFor:"roomNumber",children:"Room Number"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:744,columnNumber:17},this),e.jsxDEV(I,{id:"roomNumber",...f("roomNumber"),placeholder:"e.g., 101, Main Hall"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:745,columnNumber:17},this),l.roomNumber&&e.jsxDEV("p",{className:"text-sm text-red-500 mt-1",children:l.roomNumber.message},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:751,columnNumber:19},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:743,columnNumber:15},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:670,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV(D,{htmlFor:"locationDescription",children:"Location Description"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:757,columnNumber:15},this),e.jsxDEV(I,{id:"locationDescription",...f("locationDescription"),placeholder:"e.g., Main Building, Second Floor, Near Library"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:758,columnNumber:15},this),l.locationDescription&&e.jsxDEV("p",{className:"text-sm text-red-500 mt-1",children:l.locationDescription.message},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:764,columnNumber:17},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:756,columnNumber:13},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:669,columnNumber:11},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:664,columnNumber:9},this),e.jsxDEV(j,{children:[e.jsxDEV(_,{children:[e.jsxDEV(z,{children:"Inspection Categories"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:773,columnNumber:15},this),e.jsxDEV(M,{children:t?"Expand each category to rate it. Detailed criteria will appear when you select a rating.":"Expand each category to rate it based on the criteria (1-5 stars). Detailed criteria will appear when you select a rating."},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:774,columnNumber:15},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:772,columnNumber:13},this),e.jsxDEV(S,{className:"space-y-4",children:t?de.map(s=>e.jsxDEV(ae,{title:s.label,defaultCollapsed:!0,className:"border border-gray-200",titleClassName:"text-left font-medium",contentClassName:"space-y-3",children:ye(s,p[s.key])},s.key,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:785,columnNumber:17},this)):e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:de.map(s=>e.jsxDEV(ae,{title:s.label,defaultCollapsed:!0,className:"border border-gray-200",titleClassName:"text-left font-medium",contentClassName:"space-y-3",children:Se(s,p[s.key])},s.key,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:800,columnNumber:19},this))},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:798,columnNumber:15},this)},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:781,columnNumber:13},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:771,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxDEV(j,{children:[e.jsxDEV(_,{children:[e.jsxDEV(z,{children:"Additional Notes & Observations"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:821,columnNumber:17},this),e.jsxDEV(M,{children:"Detailed observations, specific issues, recommendations, or additional context"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:822,columnNumber:17},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:820,columnNumber:15},this),e.jsxDEV(S,{children:[e.jsxDEV(Ke,{...f("notes"),placeholder:`Enter detailed notes about this inspection...

Examples:
‚Ä¢ Specific areas that need attention
‚Ä¢ Safety concerns observed
‚Ä¢ Maintenance recommendations
‚Ä¢ Follow-up actions required
‚Ä¢ Staff performance observations
‚Ä¢ Equipment issues noted`,rows:8,className:"min-h-[200px]","aria-describedby":"notes-help"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:825,columnNumber:15},this),l.notes&&e.jsxDEV("p",{className:"text-sm text-red-500 mt-2",children:l.notes.message},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:833,columnNumber:17},this),e.jsxDEV("p",{id:"notes-help",className:"text-sm text-muted-foreground mt-2",children:"Provide detailed observations, specific issues, recommendations, or additional context for this inspection"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:835,columnNumber:15},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:824,columnNumber:15},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:819,columnNumber:11},this),e.jsxDEV(j,{children:[e.jsxDEV(_,{children:[e.jsxDEV(z,{children:"Photo Documentation"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:844,columnNumber:15},this),e.jsxDEV(M,{children:"Upload images or take photos to document inspection findings (up to 5 images)"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:845,columnNumber:15},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:843,columnNumber:13},this),e.jsxDEV(S,{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxDEV(D,{htmlFor:"image-upload",className:"cursor-pointer flex-1",children:[e.jsxDEV("div",{className:"flex items-center justify-center gap-2 px-4 py-3 sm:py-2 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors min-h-[48px]",children:[e.jsxDEV($e,{className:"w-5 h-5 sm:w-4 sm:h-4"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:851,columnNumber:21},this),e.jsxDEV("span",{className:"font-medium",children:"Upload Images"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:852,columnNumber:21},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:850,columnNumber:19},this),e.jsxDEV(I,{id:"image-upload",type:"file",multiple:!0,accept:"image/*",onChange:se,className:"hidden",disabled:b.length>=5},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:854,columnNumber:19},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:849,columnNumber:17},this),e.jsxDEV(D,{htmlFor:"camera-capture",className:"cursor-pointer flex-1",children:[e.jsxDEV("div",{className:"flex items-center justify-center gap-2 px-4 py-3 sm:py-2 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors min-h-[48px]",children:[e.jsxDEV(We,{className:"w-5 h-5 sm:w-4 sm:h-4"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:867,columnNumber:21},this),e.jsxDEV("span",{className:"font-medium",children:"Take Photo"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:868,columnNumber:21},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:866,columnNumber:19},this),e.jsxDEV(I,{id:"camera-capture",type:"file",accept:"image/*",capture:"environment",onChange:se,className:"hidden",disabled:b.length>=5},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:870,columnNumber:19},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:865,columnNumber:17},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:848,columnNumber:15},this),b.length>0&&e.jsxDEV("div",{className:"flex items-center justify-between p-2 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxDEV("span",{className:"text-sm font-medium text-blue-900",children:[b.length," of 5 images selected"]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:885,columnNumber:19},this),b.length>=5&&e.jsxDEV("span",{className:"text-xs text-blue-700 bg-blue-100 px-2 py-1 rounded",children:"Maximum reached"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:889,columnNumber:21},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:884,columnNumber:17},this),e.jsxDEV("p",{className:"text-xs sm:text-sm text-gray-500",children:"üì∏ Select multiple images or take photos ‚Ä¢ Up to 5 images ‚Ä¢ JPG, PNG, GIF supported"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:896,columnNumber:15},this),b.length>0&&e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(D,{className:"text-sm font-semibold",children:"Image Previews"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:903,columnNumber:19},this),e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 sm:gap-4",children:b.map((s,i)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:URL.createObjectURL(s),alt:`Preview ${i+1}`,className:"w-full h-32 sm:h-24 object-cover rounded-lg border-2 border-gray-200",loading:"lazy"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:907,columnNumber:25},this),e.jsxDEV("button",{type:"button",onClick:()=>Ge(i),className:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-2 opacity-90 md:opacity-0 md:group-hover:opacity-100 transition-opacity shadow-lg","aria-label":`Remove image ${i+1}`,children:e.jsxDEV(Fe,{className:"w-4 h-4"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:919,columnNumber:27},this)},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:913,columnNumber:25},this),e.jsxDEV("div",{className:"absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-1 py-0.5 rounded",children:s.name.length>12?s.name.substring(0,12)+"...":s.name},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:921,columnNumber:25},this)]},i,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:906,columnNumber:23},this))},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:904,columnNumber:19},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:902,columnNumber:17},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:847,columnNumber:13},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:842,columnNumber:11},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:817,columnNumber:9},this),e.jsxDEV("div",{className:"flex justify-end gap-4",children:e.jsxDEV(G,{type:"submit",size:"lg",disabled:T,className:`bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed ${t?"w-full h-14 text-lg":""}`,children:T?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"animate-spin mr-2",children:"‚è≥"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:943,columnNumber:17},this),"Submitting..."]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:942,columnNumber:15},this):"Submit Inspection"},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:935,columnNumber:11},this)},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:934,columnNumber:9},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:662,columnNumber:7},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:602,columnNumber:7},this),T&&e.jsxDEV(is,{message:"Submitting inspection..."},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:956,columnNumber:7},this),e.jsxDEV(ts,{status:xe,lastSaved:$},void 0,!1,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:960,columnNumber:5},this)]},void 0,!0,{fileName:"G:/CustodialCommand/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:551,columnNumber:5},this)}export{gs as default};
