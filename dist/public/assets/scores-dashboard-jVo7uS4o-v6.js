var ue=Object.defineProperty,he=Object.defineProperties;var Ne=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var z=(r,s,o)=>s in r?ue(r,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[s]=o,U=(r,s)=>{for(var o in s||(s={}))G.call(s,o)&&z(r,o,s[o]);if(V)for(var o of V(s))X.call(s,o)&&z(r,o,s[o]);return r},w=(r,s)=>he(r,Ne(s));var y=(r,s)=>{var o={};for(var i in r)G.call(r,i)&&s.indexOf(i)<0&&(o[i]=r[i]);if(r!=null&&V)for(var i of V(r))s.indexOf(i)<0&&X.call(r,i)&&(o[i]=r[i]);return o};var H=(r,s,o)=>new Promise((i,t)=>{var d=l=>{try{n(o.next(l))}catch(m){t(m)}},u=l=>{try{n(o.throw(l))}catch(m){t(m)}},n=l=>l.done?i(l.value):Promise.resolve(l.value).then(d,u);n((o=o.apply(r,s)).next())});import{j as e,c as be,C as N,e as b,f as x,i as K,g,h as f,d as xe,u as fe,B as I}from"./index-DZ3U2-uZ-v6.js";import{r as h,j as F,f as ge,b as ee}from"./ui-DdZ73ZY3-v6.js";import{a as Ce,L as q,I as J}from"./LoadingOverlay-B-gq-PYU-v6.js";import{w as A,g as T,p as se,M as pe,x as ve,a5 as De,t as Q,K as W}from"./icons-JPeedV9x-v6.js";var L="Progress",M=100,[je,Le]=ge(L),[Ee,Ve]=je(L),re=h.forwardRef((r,s)=>{const C=r,{__scopeProgress:o,value:i=null,max:t,getValueLabel:d=Ue}=C,u=y(C,["__scopeProgress","value","max","getValueLabel"]);(t||t===0)&&!Y(t)&&console.error(we(`${t}`,"Progress"));const n=Y(t)?t:M;i!==null&&!Z(i,n)&&console.error(ye(`${i}`,"Progress"));const l=Z(i,n)?i:null,m=P(l)?d(l,n):void 0;return F.jsx(Ee,{scope:o,value:l,max:n,children:F.jsx(ee.div,w(U({"aria-valuemax":n,"aria-valuemin":0,"aria-valuenow":P(l)?l:void 0,"aria-valuetext":m,role:"progressbar","data-state":me(l,n),"data-value":l!=null?l:void 0,"data-max":n},u),{ref:s}))})});re.displayName=L;var ae="ProgressIndicator",oe=h.forwardRef((r,s)=>{var u;const d=r,{__scopeProgress:o}=d,i=y(d,["__scopeProgress"]),t=Ve(ae,o);return F.jsx(ee.div,w(U({"data-state":me(t.value,t.max),"data-value":(u=t.value)!=null?u:void 0,"data-max":t.max},i),{ref:s}))});oe.displayName=ae;function Ue(r,s){return`${Math.round(r/s*100)}%`}function me(r,s){return r==null?"indeterminate":r===s?"complete":"loading"}function P(r){return typeof r=="number"}function Y(r){return P(r)&&!isNaN(r)&&r>0}function Z(r,s){return P(r)&&!isNaN(r)&&r<=s&&r>=0}function we(r,s){return`Invalid prop \`max\` of value \`${r}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${M}\`.`}function ye(r,s){return`Invalid prop \`value\` of value \`${r}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${M} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ie=re,Se=oe;const S=h.forwardRef((t,i)=>{var d=t,{className:r,value:s}=d,o=y(d,["className","value"]);return e.jsxDEV(ie,w(U({ref:i,className:be("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r)},o),{children:e.jsxDEV(Se,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/ui/progress.tsx",lineNumber:20,columnNumber:5},void 0)}),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/ui/progress.tsx",lineNumber:12,columnNumber:3},void 0)});S.displayName=ie.displayName;function B({school:r,score:s,complianceStatus:o,dateRange:i,compact:t=!1}){const d=s.overallScore/5*100,u=m=>m>=4?"text-green-700":m>=3?"text-green-600":m>=2?"text-yellow-600":"text-red-600",n=m=>m>=4?"bg-green-600":m>=3?"bg-green-500":m>=2?"bg-yellow-500":"bg-red-500",l=m=>{switch(m){case"green":return"default";case"yellow":return"secondary";case"red":return"destructive";default:return"outline"}};return t?e.jsxDEV(N,{className:"hover:shadow-md transition-shadow",children:[e.jsxDEV(b,{className:"pb-3",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV(x,{className:"text-lg",children:r},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:79,columnNumber:13},this),e.jsxDEV(K,{variant:l(o.color),children:[s.level2Compliant?e.jsxDEV(A,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:82,columnNumber:17},this):e.jsxDEV(T,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:84,columnNumber:17},this),o.text]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:80,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:78,columnNumber:11},this),i&&e.jsxDEV(g,{className:"text-xs",children:[i.start," to ",i.end]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:90,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:77,columnNumber:9},this),e.jsxDEV(f,{children:e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-2xl font-bold",style:{color:u(s.overallScore)},children:s.overallScore.toFixed(2)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:98,columnNumber:15},this),e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"/ 5.0"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:101,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:97,columnNumber:13},this),e.jsxDEV(S,{value:d,className:n(s.overallScore)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:103,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-muted-foreground",children:"Inspections"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:106,columnNumber:17},this),e.jsxDEV("div",{className:"font-semibold",children:s.inspectionCount},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:107,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:105,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-muted-foreground",children:"Notes"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:110,columnNumber:17},this),e.jsxDEV("div",{className:"font-semibold",children:s.notesCount},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:111,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:109,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-muted-foreground",children:"Avg Rating"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:114,columnNumber:17},this),e.jsxDEV("div",{className:"font-semibold",children:s.inspectionScore.toFixed(1)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:115,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:113,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:104,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:96,columnNumber:11},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:95,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:76,columnNumber:7},this):e.jsxDEV(N,{className:"hover:shadow-lg transition-shadow",children:[e.jsxDEV(b,{children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV(x,{className:"text-2xl",children:r},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:129,columnNumber:13},this),i&&e.jsxDEV(g,{children:["Period: ",i.start," to ",i.end]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:131,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:128,columnNumber:11},this),e.jsxDEV(K,{variant:l(o.color),className:"text-sm px-3 py-1",children:[s.level2Compliant?e.jsxDEV(A,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:138,columnNumber:15},this):e.jsxDEV(T,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:140,columnNumber:15},this),o.text]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:136,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:127,columnNumber:9},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:126,columnNumber:7},this),e.jsxDEV(f,{className:"space-y-6",children:[e.jsxDEV("div",{className:"text-center space-y-2",children:[e.jsxDEV("div",{className:"text-6xl font-bold",style:{color:u(s.overallScore)},children:s.overallScore.toFixed(2)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:149,columnNumber:11},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Overall Building Score (out of 5.0)"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:152,columnNumber:11},this),e.jsxDEV(S,{value:d,className:`h-3 ${n(s.overallScore)}`},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:153,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:148,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"text-sm font-medium text-muted-foreground",children:"Inspection Average"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:159,columnNumber:13},this),e.jsxDEV("div",{className:"text-2xl font-bold",children:s.inspectionScore.toFixed(2)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:160,columnNumber:13},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:["75% weight • ",s.inspectionCount," inspections"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:161,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:158,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"text-sm font-medium text-muted-foreground",children:"Notes Impact"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:164,columnNumber:13},this),e.jsxDEV("div",{className:"text-2xl font-bold flex items-center gap-1",children:[s.notesModifier>0?e.jsxDEV(se,{className:"w-5 h-5 text-green-600"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:167,columnNumber:17},this):s.notesModifier<0?e.jsxDEV(pe,{className:"w-5 h-5 text-red-600"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:169,columnNumber:17},this):null,s.notesModifier>0?"+":"",s.notesModifier.toFixed(2)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:165,columnNumber:13},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:["25% weight • ",s.notesCount," notes"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:173,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:163,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:157,columnNumber:9},this),s.categoryBreakdown&&s.categoryBreakdown.length>0&&e.jsxDEV("div",{className:"space-y-3 pt-4 border-t",children:[e.jsxDEV("div",{className:"text-sm font-medium",children:"Category Breakdown"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:180,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:s.categoryBreakdown.filter(m=>m.count>0).sort((m,C)=>C.averageRating-m.averageRating).slice(0,5).map(m=>e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-sm",children:m.category},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:188,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(S,{value:m.averageRating/5*100,className:"w-24 h-2"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:190,columnNumber:23},this),e.jsxDEV("span",{className:"text-sm font-semibold w-12 text-right",children:m.averageRating.toFixed(1)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:194,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:189,columnNumber:21},this)]},m.category,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:187,columnNumber:19},this))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:181,columnNumber:13},this),s.categoryBreakdown.filter(m=>m.count>0).length>5&&e.jsxDEV("div",{className:"text-xs text-muted-foreground text-center",children:"Showing top 5 categories"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:202,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:179,columnNumber:11},this),e.jsxDEV("div",{className:`p-3 rounded-lg border ${s.level2Compliant?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[s.level2Compliant?e.jsxDEV(A,{className:"w-5 h-5 text-green-600"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:217,columnNumber:15},this):e.jsxDEV(T,{className:"w-5 h-5 text-yellow-600"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:219,columnNumber:15},this),e.jsxDEV("div",{className:"text-sm",children:s.level2Compliant?e.jsxDEV("span",{className:"font-semibold text-green-800",children:"Meets Level 2 Standards (≥3.0)"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:223,columnNumber:17},this):e.jsxDEV("span",{className:"font-semibold text-yellow-800",children:"Below Level 2 Standards (target: ≥3.0)"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:227,columnNumber:17},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:221,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:215,columnNumber:11},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:210,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:146,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/building-score-card.tsx",lineNumber:125,columnNumber:5},this)}function Pe({onBack:r}){const{toast:s}=xe(),{isMobile:o}=fe(),[i,t]=h.useState(!0),[d,u]=h.useState(!1),[n,l]=h.useState([]),[m,C]=h.useState(""),[p,R]=h.useState(""),[Re,ne]=h.useState([]);h.useEffect(()=>{const a=new Date,c=new Date(a);c.setDate(a.getDate()-30),R(a.toISOString().split("T")[0]),C(c.toISOString().split("T")[0])},[]);const $=(a,c)=>H(null,null,function*(){try{t(!0);const j=new URLSearchParams;a&&j.append("startDate",a),c&&j.append("endDate",c);const O=yield fetch(`/api/scores?${j.toString()}`);if(!O.ok)throw new Error("Failed to fetch scores");const _=yield O.json();l(_.scores||[]),ne(_.scores||[])}catch(j){console.error("Error fetching scores:",j),s({title:"Error",description:"Failed to load building scores. Please try again.",variant:"destructive"})}finally{t(!1),u(!1)}});h.useEffect(()=>{m&&p&&$(m,p)},[m,p]);const le=()=>{u(!0),$(m,p)},te=()=>{const a=new Date,c=new Date(a);c.setDate(a.getDate()-30),R(a.toISOString().split("T")[0]),C(c.toISOString().split("T")[0])},k=n.filter(a=>a.score.level2Compliant).length,E=n.length,de=E>0?k/E*100:0,ce=n.length>0?n.reduce((a,c)=>a+c.score.overallScore,0)/n.length:0,v=n.length>0?n.reduce((a,c)=>c.score.overallScore>a.score.overallScore?c:a):null,D=n.filter(a=>a.score.overallScore<3);return i&&!d?e.jsxDEV(Ce,{message:"Loading building scores..."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:111,columnNumber:12},this):e.jsxDEV("div",{className:"container mx-auto p-6 max-w-7xl space-y-6",children:[e.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold",children:"Building Scores Dashboard"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:119,columnNumber:11},this),e.jsxDEV("p",{className:"text-muted-foreground mt-1",children:"Track custodial performance across all campuses"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:120,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:118,columnNumber:9},this),r&&e.jsxDEV(I,{variant:"outline",onClick:r,children:"← Back"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:125,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:117,columnNumber:7},this),e.jsxDEV(N,{children:[e.jsxDEV(b,{children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV(x,{className:"text-lg flex items-center gap-2",children:[e.jsxDEV(ve,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:137,columnNumber:17},this),"Filter by Date Range"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:136,columnNumber:15},this),e.jsxDEV(g,{children:"View scores for a specific time period"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:140,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:135,columnNumber:13},this),e.jsxDEV(I,{variant:"outline",size:"sm",onClick:le,disabled:d,children:[e.jsxDEV(De,{className:`w-4 h-4 mr-2 ${d?"animate-spin":""}`},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:148,columnNumber:15},this),"Refresh"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:142,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:134,columnNumber:11},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:133,columnNumber:9},this),e.jsxDEV(f,{children:e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(q,{htmlFor:"startDate",children:"Start Date"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:156,columnNumber:15},this),e.jsxDEV(J,{id:"startDate",type:"date",value:m,onChange:a=>C(a.target.value)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:157,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:155,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(q,{htmlFor:"endDate",children:"End Date"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:165,columnNumber:15},this),e.jsxDEV(J,{id:"endDate",type:"date",value:p,onChange:a=>R(a.target.value)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:166,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:164,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2 flex items-end",children:e.jsxDEV(I,{variant:"secondary",onClick:te,className:"w-full",children:"Last 30 Days"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:174,columnNumber:15},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:173,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:154,columnNumber:11},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:153,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:132,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxDEV(N,{children:[e.jsxDEV(b,{className:"pb-3",children:[e.jsxDEV(g,{children:"Total Schools"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:186,columnNumber:13},this),e.jsxDEV(x,{className:"text-3xl",children:E},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:187,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:185,columnNumber:11},this),e.jsxDEV(f,{children:e.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsxDEV(Q,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:191,columnNumber:15},this),e.jsxDEV("span",{children:"Monitored campuses"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:192,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:190,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:189,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:184,columnNumber:9},this),e.jsxDEV(N,{children:[e.jsxDEV(b,{className:"pb-3",children:[e.jsxDEV(g,{children:"Level 2 Compliance"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:199,columnNumber:13},this),e.jsxDEV(x,{className:"text-3xl text-green-600",children:[de.toFixed(0),"%"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:200,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:198,columnNumber:11},this),e.jsxDEV(f,{children:e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:[k," of ",E," schools ≥3.0"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:205,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:204,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:197,columnNumber:9},this),e.jsxDEV(N,{children:[e.jsxDEV(b,{className:"pb-3",children:[e.jsxDEV(g,{children:"Network Average"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:213,columnNumber:13},this),e.jsxDEV(x,{className:"text-3xl",children:ce.toFixed(2)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:214,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:212,columnNumber:11},this),e.jsxDEV(f,{children:e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Across all schools"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:217,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:216,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:211,columnNumber:9},this),e.jsxDEV(N,{children:[e.jsxDEV(b,{className:"pb-3",children:[e.jsxDEV(g,{children:"Needs Attention"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:225,columnNumber:13},this),e.jsxDEV(x,{className:"text-3xl text-yellow-600",children:D.length},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:226,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:224,columnNumber:11},this),e.jsxDEV(f,{children:e.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsxDEV(W,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:232,columnNumber:15},this),e.jsxDEV("span",{children:"Below Level 2"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:233,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:231,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:230,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:223,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:183,columnNumber:7},this),v&&e.jsxDEV(N,{className:"bg-gradient-to-r from-green-50 to-blue-50 border-green-200",children:[e.jsxDEV(b,{children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(se,{className:"w-5 h-5 text-green-600"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:244,columnNumber:15},this),e.jsxDEV(x,{className:"text-lg",children:"Top Performer"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:245,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:243,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:242,columnNumber:11},this),e.jsxDEV(f,{children:e.jsxDEV(B,{school:v.school,score:v.score,complianceStatus:v.complianceStatus,dateRange:v.dateRange,compact:o},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:249,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:248,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:241,columnNumber:9},this),D.length>0&&e.jsxDEV(N,{className:"bg-yellow-50 border-yellow-200",children:[e.jsxDEV(b,{children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(W,{className:"w-5 h-5 text-yellow-600"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:265,columnNumber:15},this),e.jsxDEV(x,{className:"text-lg",children:"Schools Needing Attention"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:266,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:264,columnNumber:13},this),e.jsxDEV(g,{children:[D.length," ",D.length===1?"school is":"schools are"," below Level 2 standards"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:268,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:263,columnNumber:11},this),e.jsxDEV(f,{children:e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:D.map(a=>e.jsxDEV(B,{school:a.school,score:a.score,complianceStatus:a.complianceStatus,dateRange:a.dateRange,compact:!0},a.school,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:275,columnNumber:17},this))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:273,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:272,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:262,columnNumber:9},this),e.jsxDEV(N,{children:[e.jsxDEV(b,{children:[e.jsxDEV(x,{children:"All School Scores"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:292,columnNumber:11},this),e.jsxDEV(g,{children:["Showing ",n.length," schools sorted by overall score"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:293,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:291,columnNumber:9},this),e.jsxDEV(f,{children:[e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:n.map(a=>e.jsxDEV(B,{school:a.school,score:a.score,complianceStatus:a.complianceStatus,dateRange:a.dateRange,compact:!0},a.school,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:300,columnNumber:15},this))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:298,columnNumber:11},this),n.length===0&&e.jsxDEV("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsxDEV(Q,{className:"w-12 h-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:312,columnNumber:15},this),e.jsxDEV("p",{children:"No scores available for the selected date range."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:313,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm mt-2",children:"Try adjusting your date filters or refresh the page."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:314,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:311,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:297,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:290,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/scores-dashboard.tsx",lineNumber:115,columnNumber:5},this)}const Me=Object.freeze(Object.defineProperty({__proto__:null,default:Pe},Symbol.toStringTag,{value:"Module"}));export{S as P,Me as s};
