var M=Object.defineProperty;var p=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var y=(r,s,e)=>s in r?M(r,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[s]=e,z=(r,s)=>{for(var e in s||(s={}))x.call(s,e)&&y(r,e,s[e]);if(p)for(var e of p(s))w.call(s,e)&&y(r,e,s[e]);return r};var _=(r,s)=>{var e={};for(var o in r)x.call(r,o)&&s.indexOf(o)<0&&(e[o]=r[o]);if(r!=null&&p)for(var o of p(r))s.indexOf(o)<0&&w.call(r,o)&&(e[o]=r[o]);return e};var E=(r,s,e)=>new Promise((o,c)=>{var u=a=>{try{i(e.next(a))}catch(n){c(n)}},t=a=>{try{i(e.throw(a))}catch(n){c(n)}},i=a=>a.done?o(a.value):Promise.resolve(a.value).then(u,t);i((e=e.apply(r,s)).next())});import{o as j,r as F,a as b}from"./forms-Ba_dyWLB-v6.js";import{r as R,j as k}from"./ui-BqtzBtHj-v6.js";import{c as K}from"./index-BaYUFHT0-v6.js";var N=function(r,s){for(var e={};r.length;){var o=r[0],c=o.code,u=o.message,t=o.path.join(".");if(!e[t])if("unionErrors"in o){var i=o.unionErrors[0].errors[0];e[t]={message:i.message,type:i.code}}else e[t]={message:u,type:c};if("unionErrors"in o&&o.unionErrors.forEach(function(f){return f.errors.forEach(function(m){return r.push(m)})}),s){var a=e[t].types,n=a&&a[o.code];e[t]=b(t,s,e,c,n?[].concat(n,o.message):o.message)}r.shift()}return e},T=function(r,s,e){return e===void 0&&(e={}),function(o,c,u){try{return Promise.resolve((function(t,i){try{var a=Promise.resolve(r[e.mode==="sync"?"parse":"parseAsync"](o,s)).then(function(n){return u.shouldUseNativeValidation&&j({},u),{errors:{},values:e.raw?o:n}})}catch(n){return i(n)}return a&&a.then?a.then(void 0,i):a})(0,function(t){if((function(i){return Array.isArray(i==null?void 0:i.errors)})(t))return{values:{},errors:F(N(t.errors,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw t}))}catch(t){return Promise.reject(t)}}};function L(e){return E(this,arguments,function*(r,s={}){const{maxWidth:o=1920,maxHeight:c=1080,quality:u=.8,maxSizeKB:t=500}=s;return new Promise((i,a)=>{const n=document.createElement("canvas"),f=n.getContext("2d"),m=new Image;m.onload=()=>{let{width:l,height:h}=m;if(l>o||h>c){const d=Math.min(o/l,c/h);l=l*d,h=h*d}n.width=l,n.height=h,f==null||f.drawImage(m,0,0,l,h);let g=u;const v=()=>{n.toBlob(d=>{if(!d){a(new Error("Failed to compress image"));return}if(d.size/1024>t&&g>.1)g-=.1,v();else{const B=new File([d],r.name,{type:"image/jpeg",lastModified:Date.now()});i({compressedFile:B,originalSize:r.size,compressedSize:d.size,compressionRatio:(r.size-d.size)/r.size})}},"image/jpeg",g)};v()},m.onerror=()=>a(new Error("Failed to load image")),m.src=URL.createObjectURL(r)})})}function V(r,s=500){return r.size/1024>s}function q(r){if(r===0)return"0 Bytes";const s=1024,e=["Bytes","KB","MB","GB"],o=Math.floor(Math.log(r)/Math.log(s));return parseFloat((r/Math.pow(s,o)).toFixed(2))+" "+e[o]}const P=R.forwardRef((o,e)=>{var c=o,{className:r}=c,s=_(c,["className"]);return k.jsx("textarea",z({className:K("flex min-h-[80px] w-full rounded-md bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground","transition-all duration-200 ease-out","border-3 border-[hsl(var(--border))] bg-[hsl(var(--card))] text-[hsl(var(--card-foreground))]","focus:outline-none focus:ring-0 focus:border-[hsl(var(--primary))] focus:shadow-[0_0_0_4px_hsl(var(--primary)_/_0.2)] focus:bg-[hsl(var(--background))]","hover:border-[hsl(var(--primary)_/_0.8)] hover:shadow-[0_0_0_2px_hsl(var(--primary)_/_0.1)]","disabled:cursor-not-allowed disabled:opacity-50","transform-gpu will-change-auto",r),ref:e},s))});P.displayName="Textarea";export{P as T,L as c,q as f,V as n,T as t};
