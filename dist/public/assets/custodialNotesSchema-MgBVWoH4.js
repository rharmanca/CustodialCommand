import{o as f,a as x,s as t,n as a,l as c,i as D}from"./types-Bwb4SlOo.js";async function N(e,i={}){const{maxWidth:l=1920,maxHeight:m=1080,quality:h=.8,maxSizeKB:R=500}=i;return new Promise((S,p)=>{const g=document.createElement("canvas"),b=g.getContext("2d"),r=new Image;r.onload=()=>{let{width:n,height:s}=r;if(n>l||s>m){const o=Math.min(l/n,m/s);n=n*o,s=s*o}g.width=n,g.height=s,b?.drawImage(r,0,0,n,s);let u=h;const d=()=>{g.toBlob(o=>{if(!o){p(new Error("Failed to compress image"));return}if(o.size/1024>R&&u>.1)u-=.1,d();else{const y=new File([o],e.name,{type:"image/jpeg",lastModified:Date.now()});S({compressedFile:y,originalSize:e.size,compressedSize:o.size,compressionRatio:(e.size-o.size)/e.size})}},"image/jpeg",u)};d()},r.onerror=()=>p(new Error("Failed to load image")),r.src=URL.createObjectURL(e)})}function M(e,i=500){return e.size/1024>i}function q(e){if(e===0)return"0 Bytes";const i=1024,l=["Bytes","KB","MB","GB"],m=Math.floor(Math.log(e)/Math.log(i));return parseFloat((e/Math.pow(i,m)).toFixed(2))+" "+l[m]}const F=f({inspectorName:t().min(1,"Inspector name is required").max(200,"Inspector name too long"),school:t().min(1,"School is required").max(100,"School name too long"),date:t().min(1,"Date is required").refine(e=>!isNaN(Date.parse(e)),"Invalid date format"),inspectionType:c("single_room").default("single_room"),locationDescription:t().min(3,"Please describe the location (minimum 3 characters)").max(500,"Location description too long"),roomNumber:t().max(50,"Room number too long").optional().or(c("")),locationCategory:t().max(100,"Location category too long").optional().or(c("")),floors:a().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),verticalHorizontalSurfaces:a().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),ceiling:a().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),restrooms:a().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),customerSatisfaction:a().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),trash:a().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),projectCleaning:a().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),activitySupport:a().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),safetyCompliance:a().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),equipment:a().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),monitoring:a().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),notes:t().max(5e3,"Notes too long").optional().or(c("")),images:x(t()).max(5,"Maximum 5 images allowed").default([])}),I={inspectorName:"",school:"",date:`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}-${String(new Date().getDate()).padStart(2,"0")}`,inspectionType:"single_room",locationDescription:"",roomNumber:"",locationCategory:"",floors:0,verticalHorizontalSurfaces:0,ceiling:0,restrooms:0,customerSatisfaction:0,trash:0,projectCleaning:0,activitySupport:0,safetyCompliance:0,equipment:0,monitoring:0,notes:"",images:[]},v=f({inspectorName:t().min(1,"Inspector name is required").max(100,"Inspector name too long"),school:t().min(1,"School is required").max(100,"School name too long"),date:t().min(1,"Date is required").refine(e=>!isNaN(Date.parse(e)),"Invalid date format"),location:t().min(1,"Location is required").max(200,"Location too long"),locationDescription:t().max(500,"Location description too long").optional().or(c("")),notes:t().min(10,"Please provide a detailed description (minimum 10 characters)").max(5e3,"Notes too long"),images:x(D(File)).max(5,"Maximum 5 images allowed").optional().default([])}),B={inspectorName:"",school:"",date:`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}-${String(new Date().getDate()).padStart(2,"0")}`,location:"",locationDescription:"",notes:"",images:[]};export{B as a,v as b,N as c,q as f,I as i,M as n,F as s};
