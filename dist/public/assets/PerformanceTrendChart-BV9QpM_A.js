import{R as y,O as Y,r as se,j as u,d as le,g as ce,h as ue,i as me,e as de}from"./index-BCpkZOle.js";import{T as fe}from"./trending-up-3CMSp0rm.js";import{i as he,D as pe,f as ve,E as ye,L as z,a as F,C as be,A as xe,b as I,c as ge,d as M,h as Ce,e as Ne,g as Z,u as Ae,G as Pe,j as q,k as De,l as je,R as Ee,T as Oe,m as Te}from"./generateCategoricalChart-BGY2RV7S.js";import{X as ee,Y as te,C as ke}from"./YAxis-BvMHPkRM.js";var Se=["type","layout","connectNulls","ref"],we=["key"];function T(e){"@babel/helpers - typeof";return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},T(e)}function H(e,r){if(e==null)return{};var n=_e(e,r),t,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function _e(e,r){if(e==null)return{};var n={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(r.indexOf(t)>=0)continue;n[t]=e[t]}return n}function W(){return W=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},W.apply(this,arguments)}function J(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,t)}return n}function x(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?J(Object(n),!0).forEach(function(t){C(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O(e){return Ie(e)||Ue(e)||Ve(e)||Le()}function Le(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ve(e,r){if(e){if(typeof e=="string")return G(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,r)}}function Ue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ie(e){if(Array.isArray(e))return G(e)}function G(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function We(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Q(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,ne(t.key),t)}}function Re(e,r,n){return r&&Q(e.prototype,r),n&&Q(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Be(e,r,n){return r=$(r),Fe(e,re()?Reflect.construct(r,n||[],$(e).constructor):r.apply(e,n))}function Fe(e,r){if(r&&(T(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $e(e)}function $e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(re=function(){return!!e})()}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$(e)}function Ke(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&X(e,r)}function X(e,r){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},X(e,r)}function C(e,r,n){return r=ne(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function ne(e){var r=ze(e,"string");return T(r)=="symbol"?r:r+""}function ze(e,r){if(T(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r);if(T(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var k=(function(e){function r(){var n;We(this,r);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return n=Be(this,r,[].concat(a)),C(n,"state",{isAnimationFinished:!0,totalLength:0}),C(n,"generateSimpleStrokeDasharray",function(i,s){return"".concat(s,"px ").concat(i-s,"px")}),C(n,"getStrokeDasharray",function(i,s,l){var m=l.reduce(function(N,P){return N+P});if(!m)return n.generateSimpleStrokeDasharray(s,i);for(var f=Math.floor(i/m),h=i%m,d=s-i,p=[],c=0,v=0;c<l.length;v+=l[c],++c)if(v+l[c]>h){p=[].concat(O(l.slice(0,c)),[h-v]);break}var g=p.length%2===0?[0,d]:[d];return[].concat(O(r.repeat(l,f)),O(p),g).map(function(N){return"".concat(N,"px")}).join(", ")}),C(n,"id",Ae("recharts-line-")),C(n,"pathRef",function(i){n.mainCurve=i}),C(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),C(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Ke(r,e),Re(r,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var t=this.getTotalLength();this.setState({totalLength:t})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var t=this.getTotalLength();t!==this.state.totalLength&&this.setState({totalLength:t})}}},{key:"getTotalLength",value:function(){var t=this.mainCurve;try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(t,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,s=o.xAxis,l=o.yAxis,m=o.layout,f=o.children,h=ve(f,ye);if(!h)return null;var d=function(v,g){return{x:v.x,y:v.y,value:v.value,errorVal:Z(v.payload,g)}},p={clipPath:t?"url(#clipPath-".concat(a,")"):null};return y.createElement(z,p,h.map(function(c){return y.cloneElement(c,{key:"bar-".concat(c.props.dataKey),data:i,xAxis:s,yAxis:l,layout:m,dataPointFormatter:d})}))}},{key:"renderDots",value:function(t,a,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,m=s.points,f=s.dataKey,h=F(this.props,!1),d=F(l,!0),p=m.map(function(v,g){var N=x(x(x({key:"dot-".concat(g),r:3},h),d),{},{index:g,cx:v.x,cy:v.y,value:v.value,dataKey:f,payload:v.payload,points:m});return r.renderDotItem(l,N)}),c={clipPath:t?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return y.createElement(z,W({className:"recharts-line-dots",key:"dots"},c),p)}},{key:"renderCurveStatically",value:function(t,a,o,i){var s=this.props,l=s.type,m=s.layout,f=s.connectNulls;s.ref;var h=H(s,Se),d=x(x(x({},F(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:t},i),{},{type:l,layout:m,connectNulls:f});return y.createElement(be,W({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(t,a){var o=this,i=this.props,s=i.points,l=i.strokeDasharray,m=i.isAnimationActive,f=i.animationBegin,h=i.animationDuration,d=i.animationEasing,p=i.animationId,c=i.animateNewValues,v=i.width,g=i.height,N=this.state,P=N.prevPoints,S=N.totalLength;return y.createElement(xe,{begin:f,duration:h,isActive:m,easing:d,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var A=j.t;if(P){var w=P.length/s.length,D=s.map(function(b,K){var V=Math.floor(K*w);if(P[V]){var U=P[V],E=I(U.x,b.x),ae=I(U.y,b.y);return x(x({},b),{},{x:E(A),y:ae(A)})}if(c){var ie=I(v*2,b.x),oe=I(g/2,b.y);return x(x({},b),{},{x:ie(A),y:oe(A)})}return x(x({},b),{},{x:b.x,y:b.y})});return o.renderCurveStatically(D,t,a)}var R=I(0,S),_=R(A),L;if(l){var B="".concat(l).split(/[,\s]+/gim).map(function(b){return parseFloat(b)});L=o.getStrokeDasharray(_,S,B)}else L=o.generateSimpleStrokeDasharray(S,_);return o.renderCurveStatically(s,t,a,{strokeDasharray:L})})}},{key:"renderCurve",value:function(t,a){var o=this.props,i=o.points,s=o.isAnimationActive,l=this.state,m=l.prevPoints,f=l.totalLength;return s&&i&&i.length&&(!m&&f>0||!ge(m,i))?this.renderCurveWithAnimation(t,a):this.renderCurveStatically(i,t,a)}},{key:"render",value:function(){var t,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,m=a.xAxis,f=a.yAxis,h=a.top,d=a.left,p=a.width,c=a.height,v=a.isAnimationActive,g=a.id;if(o||!s||!s.length)return null;var N=this.state.isAnimationFinished,P=s.length===1,S=Y("recharts-line",l),j=m&&m.allowDataOverflow,A=f&&f.allowDataOverflow,w=j||A,D=M(g)?this.id:g,R=(t=F(i,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},_=R.r,L=_===void 0?3:_,B=R.strokeWidth,b=B===void 0?2:B,K=Ce(i)?i:{},V=K.clipDot,U=V===void 0?!0:V,E=L*2+b;return y.createElement(z,{className:S},j||A?y.createElement("defs",null,y.createElement("clipPath",{id:"clipPath-".concat(D)},y.createElement("rect",{x:j?d:d-p/2,y:A?h:h-c/2,width:j?p:p*2,height:A?c:c*2})),!U&&y.createElement("clipPath",{id:"clipPath-dots-".concat(D)},y.createElement("rect",{x:d-E/2,y:h-E/2,width:p+E,height:c+E}))):null,!P&&this.renderCurve(w,D),this.renderErrorBar(w,D),(P||i)&&this.renderDots(w,U,D),(!v||N)&&Ne.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(t,a){return t.animationId!==a.prevAnimationId?{prevAnimationId:t.animationId,curPoints:t.points,prevPoints:a.curPoints}:t.points!==a.curPoints?{curPoints:t.points}:null}},{key:"repeat",value:function(t,a){for(var o=t.length%2!==0?[].concat(O(t),[0]):t,i=[],s=0;s<a;++s)i=[].concat(O(i),O(o));return i}},{key:"renderDotItem",value:function(t,a){var o;if(y.isValidElement(t))o=y.cloneElement(t,a);else if(he(t))o=t(a);else{var i=a.key,s=H(a,we),l=Y("recharts-line-dot",typeof t!="boolean"?t.className:"");o=y.createElement(pe,W({key:i},s,{className:l}))}return o}}])})(se.PureComponent);C(k,"displayName","Line");C(k,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Pe.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});C(k,"getComposedData",function(e){var r=e.props,n=e.xAxis,t=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,s=e.bandSize,l=e.displayedData,m=e.offset,f=r.layout,h=l.map(function(d,p){var c=Z(d,i);return f==="horizontal"?{x:q({axis:n,ticks:a,bandSize:s,entry:d,index:p}),y:M(c)?null:t.scale(c),value:c,payload:d}:{x:M(c)?null:n.scale(c),y:q({axis:t,ticks:o,bandSize:s,entry:d,index:p}),value:c,payload:d}});return x({points:h,layout:f},m)});var Me=De({chartName:"LineChart",GraphicalChild:k,axisComponents:[{axisType:"xAxis",AxisComp:ee},{axisType:"yAxis",AxisComp:te}],formatAxisMap:je});const He=({data:e,title:r="Performance Trends",description:n="Average ratings over time"})=>{const t=({active:a,payload:o,label:i})=>a&&o&&o.length?u.jsxDEV("div",{className:"bg-card border border-border rounded-lg p-3 shadow-lg",children:[u.jsxDEV("p",{className:"font-medium text-foreground mb-2",children:i},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/PerformanceTrendChart.tsx",lineNumber:27,columnNumber:11},void 0),o.map((s,l)=>u.jsxDEV("div",{className:"flex items-center gap-2 text-sm",children:[u.jsxDEV("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s.color}},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/PerformanceTrendChart.tsx",lineNumber:30,columnNumber:15},void 0),u.jsxDEV("span",{className:"text-muted-foreground",children:[s.name,":"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/PerformanceTrendChart.tsx",lineNumber:34,columnNumber:15},void 0),u.jsxDEV("span",{className:"font-medium text-foreground",children:s.value},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/PerformanceTrendChart.tsx",lineNumber:35,columnNumber:15},void 0)]},l,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/PerformanceTrendChart.tsx",lineNumber:29,columnNumber:13},void 0))]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/PerformanceTrendChart.tsx",lineNumber:26,columnNumber:9},void 0):null;return u.jsxDEV(le,{className:"w-full offscreen-content layout-contained",children:[u.jsxDEV(ce,{children:[u.jsxDEV(ue,{className:"flex items-center gap-2 text-foreground",children:[u.jsxDEV(fe,{className:"w-5 h-5 text-primary"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/PerformanceTrendChart.tsx",lineNumber:48,columnNumber:11},void 0),r]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/PerformanceTrendChart.tsx",lineNumber:47,columnNumber:9},void 0),u.jsxDEV(me,{className:"text-muted-foreground",children:n},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/PerformanceTrendChart.tsx",lineNumber:51,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/PerformanceTrendChart.tsx",lineNumber:46,columnNumber:7},void 0),u.jsxDEV(de,{children:u.jsxDEV("div",{className:"h-80 w-full",children:u.jsxDEV(Ee,{width:"100%",height:"100%",children:u.jsxDEV(Me,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[u.jsxDEV(ke,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",opacity:.3},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/PerformanceTrendChart.tsx",lineNumber:59,columnNumber:15},void 0),u.jsxDEV(ee,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/PerformanceTrendChart.tsx",lineNumber:64,columnNumber:15},void 0),u.jsxDEV(te,{domain:[1,5],stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/PerformanceTrendChart.tsx",lineNumber:71,columnNumber:15},void 0),u.jsxDEV(Oe,{content:u.jsxDEV(t,{},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/PerformanceTrendChart.tsx",lineNumber:78,columnNumber:33},void 0)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/PerformanceTrendChart.tsx",lineNumber:78,columnNumber:15},void 0),u.jsxDEV(Te,{},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/PerformanceTrendChart.tsx",lineNumber:79,columnNumber:15},void 0),u.jsxDEV(k,{type:"monotone",dataKey:"averageRating",stroke:"hsl(var(--chart-1))",strokeWidth:3,dot:{fill:"hsl(var(--chart-1))",strokeWidth:2,r:4},activeDot:{r:6,stroke:"hsl(var(--chart-1))",strokeWidth:2}},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/PerformanceTrendChart.tsx",lineNumber:80,columnNumber:15},void 0),u.jsxDEV(k,{type:"monotone",dataKey:"totalInspections",stroke:"hsl(var(--chart-2))",strokeWidth:2,strokeDasharray:"5 5",dot:{fill:"hsl(var(--chart-2))",strokeWidth:2,r:3}},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/PerformanceTrendChart.tsx",lineNumber:88,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/PerformanceTrendChart.tsx",lineNumber:58,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/PerformanceTrendChart.tsx",lineNumber:57,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/PerformanceTrendChart.tsx",lineNumber:56,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/PerformanceTrendChart.tsx",lineNumber:55,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/charts/PerformanceTrendChart.tsx",lineNumber:45,columnNumber:5},void 0)};export{He as default};
