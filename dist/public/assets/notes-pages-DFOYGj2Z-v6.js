var Fe=Object.defineProperty,Re=Object.defineProperties;var Pe=Object.getOwnPropertyDescriptors;var he=Object.getOwnPropertySymbols;var Oe=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable;var Ne=(N,l,m)=>l in N?Fe(N,l,{enumerable:!0,configurable:!0,writable:!0,value:m}):N[l]=m,v=(N,l)=>{for(var m in l||(l={}))Oe.call(l,m)&&Ne(N,m,l[m]);if(he)for(var m of he(l))$e.call(l,m)&&Ne(N,m,l[m]);return N},D=(N,l)=>Re(N,Pe(l));var P=(N,l,m)=>new Promise((W,b)=>{var F=p=>{try{u(m.next(p))}catch(I){b(I)}},M=p=>{try{u(m.throw(p))}catch(I){b(I)}},u=p=>p.done?W(p.value):Promise.resolve(p.value).then(F,M);u((m=m.apply(N,l)).next())});import{M as Te,r as d,j as e,k as be,ad as ze,C as Q,bv as We,g as Me,bw as O}from"./vendor-sxM67w4W-v6.js";import{t as qe}from"./forms-CCi5m2ZW-v6.js";import{a as He,bz as Be,bA as f,bB as Ge,B as V,C as X,b as Z,c as ee,d as se,e as ae,L as y,bC as $,bD as T,bE as z,I as A,bF as Je,bG as Ye,bH as _e,bI as Ke,bJ as Qe,t as Xe,A as Ze,w as es,x as ss,y as as,z as ts,E as rs,F as os,G as is,b2 as ls,bK as ns,bu as ms,bv as ds,bw as te,bL as us}from"./index-D0Fw1TE4-v6.js";import"./ui-BA32w1ww-v6.js";import"./utils-Cj9wHvoQ-v6.js";import"./charts-core-BgnrxSXt-v6.js";import"./pdf-export-DTP6qpk5-v6.js";const cs=["ASA","CBR","GWC","LCA","OA","WLC"],hs=`
  @keyframes progress {
    from {
      width: 0%;
    }
    to {
      width: 100%;
    }
  }
`;function Ds({onBack:N}){const{toast:l}=He();Be({onWarning:(s,a,r)=>{l({variant:r==="critical"?"destructive":"default",title:r==="critical"?"âš ï¸ Storage Almost Full":"âš¡ Storage Warning",description:s,duration:7e3})},checkInterval:3e4,checkOnMount:!0});const{register:m,handleSubmit:W,formState:{errors:b,isSubmitting:F},reset:M,setValue:u,watch:p,clearErrors:I}=Te({resolver:qe(us),defaultValues:ns}),q=p(),[g,H]=d.useState([]),[k,B]=d.useState([]),[xe,G]=d.useState(!1),[h,re]=d.useState(null),[L,R]=d.useState(!1),[oe,ie]=d.useState(!1),[w,S]=d.useState(""),[C,fe]=d.useState(null),[pe,ge]=d.useState(!0),[Ce,ve]=d.useState(!1),[De,Ee]=d.useState(!0),[le,ne]=d.useState([]),[me,J]=d.useState(null),[je,de]=d.useState(!1),[Ue,ue]=d.useState(!1),[Ve,Y]=d.useState(!1),[E,_]=d.useState(null);d.useEffect(()=>{const s=()=>{const a=document.querySelectorAll(".form-section"),r=window.scrollY+window.innerHeight/2;a.forEach((o,t)=>{const n=o.getBoundingClientRect(),i=n.top+window.scrollY,j=i+n.height;r>=i&&r<j&&fe(t+1)}),window.scrollY>100&&ge(!1)};return window.addEventListener("scroll",s),s(),()=>window.removeEventListener("scroll",s)},[]),d.useEffect(()=>{const s=()=>{const a=window.innerWidth<=768,r=window.innerHeight<500;ve(a&&r)};return s(),window.addEventListener("resize",s),window.addEventListener("orientationchange",s),()=>{window.removeEventListener("resize",s),window.removeEventListener("orientationchange",s)}},[]),d.useEffect(()=>{if(Object.values(q).some(a=>a&&a!=="")&&!L){const a=setTimeout(()=>{de(!0);const r=D(v({},q),{selectedSchool:w,savedAt:new Date().toISOString()});f.setItem("custodialNotesDraft",JSON.stringify(r)),J(new Date),de(!1)},2e3);return()=>clearTimeout(a)}},[q,w,L]),d.useEffect(()=>{try{const s=f.getItem("custodialNotesDraft");let a=!1;if(s){const o=JSON.parse(s),t=new Date(o.savedAt);(Date.now()-t.getTime())/(1e3*60*60)<24?(a=!0,Object.keys(o).forEach(i=>{i!=="savedAt"&&i!=="selectedSchool"&&u(i,o[i])}),o.selectedSchool&&(S(o.selectedSchool),u("school",o.selectedSchool)),J(t),l({title:"Draft Restored",description:`Your work from ${t.toLocaleString()} was restored.`,duration:5e3})):f.removeItem("custodialNotesDraft")}if(!a){const o=f.getItem("custodialInspectorName");o&&u("inspectorName",o);const t=f.getItem("custodialLastSchool");t&&(S(t),u("school",t))}const r=f.getItem("custodialRecentLocations");if(r){const o=JSON.parse(r);ne(Array.isArray(o)?o:[])}}catch(s){console.error("Error loading saved data:",s)}},[u,S,l]);const ce=s=>P(null,null,function*(){const a=s.target.files;if(a&&a.length>0){const r=Array.from(a),t=5-g.length,n=r.slice(0,t);n.length<r.length&&l({title:"Maximum Images Reached",description:`Only ${n.length} images were added. Maximum of 5 images allowed.`});const i=[];let j=0,x=0;for(const c of n)if(j+=c.size,ms(c,500))try{const U=yield ds(c,{maxSizeKB:500});i.push(U.compressedFile),x+=U.compressedSize,console.log(`Compressed ${c.name}: ${te(c.size)} â†’ ${te(U.compressedSize)}`)}catch(U){console.error("Failed to compress image:",U),i.push(c),x+=c.size}else i.push(c),x+=c.size;H(c=>[...c,...i]);const K=i.map(c=>URL.createObjectURL(c));if(B(c=>[...c,...K]),i.length>0){const c=j-x,U=c>0?(c/j*100).toFixed(1):"0";l({title:"ðŸ“¸ Photos Uploaded Successfully!",description:`Successfully added ${i.length} photo${i.length>1?"s":""} to your custodial note documentation.${c>0?` Saved ${te(c)} (${U}% compression).`:""}`,duration:3e3})}}s.target.value=""}),ye=()=>{if(g.length>=5){l({variant:"destructive",title:"Maximum Images Reached",description:"Maximum of 5 images allowed. Please remove some images first."});return}const s=document.createElement("input");s.type="file",s.accept="image/*",s.capture="environment",s.onchange=a=>{const r=a;r.target.files&&r.target.files.length>0&&l({title:"ðŸ“· Photo Captured Successfully!",description:"Camera photo is being processed and added to your documentation.",duration:2e3}),ce(r)},s.click()},we=s=>{const a=g.filter((o,t)=>t!==s),r=k.filter((o,t)=>t!==s);URL.revokeObjectURL(k[s]),H(a),B(r)},Se=s=>{s.trim()&&ne(a=>{const r=a.filter(t=>t!==s),o=[s,...r].slice(0,5);try{f.setItem("custodialRecentLocations",JSON.stringify(o))}catch(t){console.error("Error saving recent locations:",t)}return o})},Ie=()=>{E&&(u("inspectorName",E.inspectorName),u("school",E.school),u("date",E.date),u("location",E.location),u("locationDescription",E.locationDescription||""),S(E.school),u("notes",""),u("images",[]),Y(!1),_(null),window.scrollTo({top:0,behavior:"smooth"}),l({title:"Form Pre-filled",description:"Inspector, school, date, and location have been filled in. Just add new notes and photos!",duration:4e3}))},ke=()=>{Y(!1),_(null),N&&N()},Le=s=>P(null,null,function*(){re(s),G(!0)}),Ae=()=>P(null,null,function*(){var s;if(h){R(!0),G(!1);try{const a=new FormData;Object.entries(h).forEach(([t,n])=>{t!=="images"&&a.append(t,(n==null?void 0:n.toString())||"")}),g.forEach(t=>{a.append("images",t)});const r={method:"POST",body:a,headers:{}};r.headers=D(v({},r.headers),{"X-Debug-Info":JSON.stringify({userAgent:navigator.userAgent,formDataEntries:Array.from(a.entries()).map(([t,n])=>[t,typeof n=="string"?n.substring(0,50)+(n.length>50?"...":""):`File(${n instanceof File?n.name:"unknown"})`])})});const o=yield fetch("/api/custodial-notes",r);if(o.ok){ue(!0),f.removeItem("custodialNotesDraft");try{f.setItem("custodialInspectorName",h.inspectorName),f.setItem("custodialLastSchool",w),Se(h.location)}catch(i){console.error("Error saving user preferences:",i)}_(h),l({title:"âœ… Custodial Note Submitted Successfully!",description:"Your custodial concern has been recorded and will be reviewed.",variant:"default",duration:5e3});const t=h.inspectorName,n=w;M(),u("inspectorName",t),u("school",n),S(n),H([]),k.forEach(i=>URL.revokeObjectURL(i)),B([]),re(null),J(null),R(!1),setTimeout(()=>{ue(!1),Y(!0)},3e3)}else{const t=yield o.json().catch(()=>({success:!1,message:"Unknown error occurred",details:"Unable to parse server response"}));let n=t.message||"Unable to submit custodial note. Please try again.",i="";t.success===!1&&t.details&&(Array.isArray(t.details)?i=`Please check: ${t.details.map(x=>`${x.field}: ${x.message}`).join(", ")}`:typeof t.details=="object"?i=`Required: ${Object.entries(t.details).filter(([x,K])=>K==="âœ— required").map(([x])=>x.replace(/([A-Z])/g," $1").trim()).join(", ")}`:i=t.details),(t.technical==="FormData parsing failed"||(s=t.message)!=null&&s.includes("form data is malformed"))&&(n="Form submission error",i="Please refresh the page and try submitting again. If the problem persists, contact support."),l({variant:"destructive",title:"âŒ Submission Failed",description:`${n}${i?`

${i}`:""}`,duration:8e3}),R(!1),console.error("Form submission error details:",{status:o.status,statusText:o.statusText,errorData:t,formDataFields:Object.keys(h||{})})}}catch(a){console.error("Error submitting custodial note:",a);let r="Network Error",o="Unable to connect to the server. Please check your connection and try again.";a instanceof TypeError&&(a.message.includes("Failed to fetch")?(r="Connection Failed",o=`Unable to reach the server. Please check:
â€¢ Internet connection
â€¢ Server is running
â€¢ No firewall blocking the request`):a.message.includes("NetworkError")&&(r="Network Error",o="A network error occurred. Please try again.")),l({variant:"destructive",title:`âŒ ${r}`,description:o,duration:8e3}),R(!1)}}});return e.jsxDEV(Ge,{children:[e.jsxDEV("style",{children:hs},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:686,columnNumber:7},this),e.jsxDEV("div",{className:"max-w-3xl mx-auto p-6 space-y-8",children:[N&&e.jsxDEV(V,{onClick:N,variant:"outline",className:"mb-4 back-button min-h-[48px] px-6",children:"â† Back to Custodial"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:690,columnNumber:11},this),Ce&&De&&e.jsxDEV("div",{className:"bg-orange-50 border-2 border-orange-400 rounded-lg p-4 shadow-lg",children:e.jsxDEV("div",{className:"flex items-start justify-between gap-3",children:[e.jsxDEV("div",{className:"flex items-start gap-3 flex-1",children:[e.jsxDEV("span",{className:"text-2xl flex-shrink-0",children:"ðŸ“±"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:704,columnNumber:17},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-orange-900 text-lg mb-1",children:"Landscape Mode Detected"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:706,columnNumber:19},this),e.jsxDEV("p",{className:"text-orange-800 text-sm",children:["For the best experience filling out this form, please"," ",e.jsxDEV("strong",{children:"rotate your device to portrait mode"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:711,columnNumber:21},this)," ","(vertical orientation)."]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:709,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:705,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:703,columnNumber:15},this),e.jsxDEV(V,{variant:"ghost",size:"sm",onClick:()=>Ee(!1),className:"text-orange-900 hover:bg-orange-100 flex-shrink-0",children:"âœ•"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:716,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:702,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:701,columnNumber:11},this),me&&e.jsxDEV("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500",children:je?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(be,{className:"h-4 w-4 animate-pulse"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:733,columnNumber:17},this),e.jsxDEV("span",{children:"Saving draft..."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:734,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:732,columnNumber:15},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(be,{className:"h-4 w-4 text-green-600"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:738,columnNumber:17},this),e.jsxDEV("span",{children:["Draft saved at ",me.toLocaleTimeString()]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:739,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:737,columnNumber:15},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:730,columnNumber:11},this),e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-blue-800 mb-2",children:"Submit Custodial Note"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:746,columnNumber:11},this),e.jsxDEV("p",{className:"text-gray-600",children:"Report maintenance issues, concerns, or general observations"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:749,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:745,columnNumber:9},this),e.jsxDEV("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b-2 border-blue-200 py-3 -mx-6 px-6 shadow-sm",children:e.jsxDEV("div",{className:"flex items-center justify-between max-w-2xl mx-auto",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-sm font-semibold text-blue-800",children:"Form Progress:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:758,columnNumber:15},this),C&&e.jsxDEV("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-blue-100 text-blue-800 border-2 border-blue-300",children:["Section ",C," of 3"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:762,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:757,columnNumber:13},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("div",{className:`w-16 h-2 rounded-full transition-colors ${C===1?"bg-blue-600":C&&C>1?"bg-blue-400":"bg-gray-200"}`},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:768,columnNumber:15},this),e.jsxDEV("div",{className:`w-16 h-2 rounded-full transition-colors ${C===2?"bg-blue-600":C&&C>2?"bg-blue-400":"bg-gray-200"}`},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:771,columnNumber:15},this),e.jsxDEV("div",{className:`w-16 h-2 rounded-full transition-colors ${C===3?"bg-blue-600":"bg-gray-200"}`},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:774,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:767,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:756,columnNumber:11},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:755,columnNumber:9},this),pe&&e.jsxDEV("div",{className:"animate-bounce text-center text-gray-500 text-sm",children:[e.jsxDEV(ze,{className:"inline-block"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:784,columnNumber:13},this),e.jsxDEV("p",{children:"Scroll down to continue"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:785,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:783,columnNumber:11},this),e.jsxDEV("div",{className:"bg-amber-50 border-2 border-amber-400 rounded-lg p-4 shadow-sm",children:e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV("span",{className:"text-2xl flex-shrink-0",children:"â­"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:792,columnNumber:13},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-amber-900 text-lg mb-1",children:"New Requirement: Inspector Name"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:794,columnNumber:15},this),e.jsxDEV("p",{className:"text-amber-800 text-sm",children:["Please enter your name in the ",e.jsxDEV("strong",{children:"Inspector Name"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:798,columnNumber:47},this)," ","field. This is now required for all custodial notes to ensure proper accountability and follow-up."]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:797,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:793,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:791,columnNumber:11},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:790,columnNumber:9},this),e.jsxDEV("form",{onSubmit:W(Le),className:"space-y-8",children:[e.jsxDEV(X,{className:"form-section",children:[e.jsxDEV(Z,{children:[e.jsxDEV(ee,{children:"Basic Information"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:810,columnNumber:15},this),e.jsxDEV(se,{children:"Enter the basic details for this custodial note"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:811,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:809,columnNumber:13},this),e.jsxDEV(ae,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(y,{htmlFor:"inspectorName",className:"flex items-center gap-2 flex-wrap",children:[e.jsxDEV("span",{children:"Inspector Name"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:821,columnNumber:19},this),e.jsxDEV("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-red-100 text-red-800 border border-red-300",children:"Required"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:822,columnNumber:19},this),e.jsxDEV($,{children:[e.jsxDEV(T,{asChild:!0,children:e.jsxDEV("button",{type:"button",className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsxDEV(Q,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:831,columnNumber:25},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:827,columnNumber:23},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:826,columnNumber:21},this),e.jsxDEV(z,{className:"w-80 text-sm",children:[e.jsxDEV("p",{className:"font-semibold mb-1",children:"Why is this required?"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:835,columnNumber:23},this),e.jsxDEV("p",{className:"text-gray-600",children:"Your name ensures accountability and allows for proper follow-up on reported issues. This helps maintain quality standards across all facilities."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:838,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:834,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:825,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:817,columnNumber:17},this),e.jsxDEV(A,D(v({id:"inspectorName"},m("inspectorName")),{placeholder:"Enter your name",className:"border-2 min-h-[48px]"}),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:846,columnNumber:17},this),b.inspectorName&&e.jsxDEV("p",{className:"text-sm text-red-500",children:b.inspectorName.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:853,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:816,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(y,{htmlFor:"school",className:"flex items-center gap-2 flex-wrap",children:[e.jsxDEV("span",{children:"School"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:863,columnNumber:19},this),e.jsxDEV("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-red-100 text-red-800 border border-red-300",children:"Required"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:864,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:859,columnNumber:17},this),e.jsxDEV($,{open:oe,onOpenChange:ie,children:[e.jsxDEV(T,{asChild:!0,children:e.jsxDEV(V,{variant:"outline",role:"combobox","aria-expanded":oe,className:"w-full justify-between border-2 min-h-[48px] text-left font-normal",children:[w||"Select school...",e.jsxDEV(We,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:880,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:873,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:872,columnNumber:19},this),e.jsxDEV(z,{className:"w-full p-0",align:"start",children:e.jsxDEV(Je,{children:[e.jsxDEV(Ye,{placeholder:"Search schools..."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:885,columnNumber:23},this),e.jsxDEV(_e,{children:"No school found."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:886,columnNumber:23},this),e.jsxDEV(Ke,{children:cs.map(s=>e.jsxDEV(Qe,{value:s,onSelect:a=>{const r=a.toUpperCase();S(r),u("school",r),ie(!1)},className:"min-h-[48px] cursor-pointer",children:[e.jsxDEV(Me,{className:`mr-2 h-4 w-4 ${w===s?"opacity-100":"opacity-0"}`},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:900,columnNumber:29},this),s]},s,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:889,columnNumber:27},this))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:887,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:884,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:883,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:868,columnNumber:17},this),b.school&&e.jsxDEV("p",{className:"text-sm text-red-500",children:b.school.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:915,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:858,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(y,{htmlFor:"date",className:"flex items-center gap-2 flex-wrap",children:[e.jsxDEV("span",{children:"Date"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:925,columnNumber:19},this),e.jsxDEV("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-red-100 text-red-800 border border-red-300",children:"Required"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:926,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:921,columnNumber:17},this),e.jsxDEV(A,D(v({id:"date",type:"date"},m("date")),{className:"border-2 min-h-[48px]"}),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:930,columnNumber:17},this),b.date&&e.jsxDEV("p",{className:"text-sm text-red-500",children:b.date.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:937,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:920,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(y,{htmlFor:"location",className:"flex items-center gap-2 flex-wrap",children:[e.jsxDEV("span",{children:"Location"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:945,columnNumber:19},this),e.jsxDEV("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-red-100 text-red-800 border border-red-300",children:"Required"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:946,columnNumber:19},this),e.jsxDEV($,{children:[e.jsxDEV(T,{asChild:!0,children:e.jsxDEV("button",{type:"button",className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsxDEV(Q,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:955,columnNumber:25},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:951,columnNumber:23},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:950,columnNumber:21},this),e.jsxDEV(z,{className:"w-80 text-sm",children:[e.jsxDEV("p",{className:"font-semibold mb-1",children:"Location Examples"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:959,columnNumber:23},this),e.jsxDEV("ul",{className:"text-gray-600 space-y-1 list-disc list-inside",children:[e.jsxDEV("li",{children:'Room numbers: "Room 105", "Classroom 202"'},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:961,columnNumber:25},this),e.jsxDEV("li",{children:'Common areas: "Gymnasium", "Cafeteria", "Library"'},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:962,columnNumber:25},this),e.jsxDEV("li",{children:'Outdoor: "Playground", "Parking Lot", "Field"'},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:965,columnNumber:25},this),e.jsxDEV("li",{children:'Facilities: "Restroom 1st Floor", "Main Office"'},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:966,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:960,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:958,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:949,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:941,columnNumber:17},this),le.length>0&&e.jsxDEV("div",{className:"mb-2",children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1.5",children:"Recent locations:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:975,columnNumber:21},this),e.jsxDEV("div",{className:"flex flex-wrap gap-2",children:le.map((s,a)=>e.jsxDEV("button",{type:"button",onClick:()=>{u("location",s),b.location&&I("location")},className:"inline-flex items-center px-3 py-1.5 rounded-md text-sm bg-blue-50 text-blue-700 border border-blue-200 hover:bg-blue-100 hover:border-blue-300 transition-colors",children:s},a,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:980,columnNumber:25},this))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:978,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:974,columnNumber:19},this),e.jsxDEV(A,D(v({id:"location"},m("location")),{placeholder:"e.g., Room 105, Gymnasium, Cafeteria",className:"border-2 min-h-[48px]"}),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:999,columnNumber:17},this),b.location&&e.jsxDEV("p",{className:"text-sm text-red-500",children:b.location.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1006,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:940,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(y,{htmlFor:"locationDescription",children:"Location Description"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1012,columnNumber:17},this),e.jsxDEV(A,D(v({id:"locationDescription"},m("locationDescription")),{placeholder:"e.g., Main Building, East Wing, 2nd Floor",className:"min-h-[48px]"}),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1015,columnNumber:17},this),b.locationDescription&&e.jsxDEV("p",{className:"text-sm text-red-500",children:b.locationDescription.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1022,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1011,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:815,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:808,columnNumber:11},this),e.jsxDEV(X,{className:"form-section",children:[e.jsxDEV(Z,{children:[e.jsxDEV(ee,{className:"flex items-center gap-2",children:["Issue Description & Notes",e.jsxDEV($,{children:[e.jsxDEV(T,{asChild:!0,children:e.jsxDEV("button",{type:"button",className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsxDEV(Q,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1041,columnNumber:23},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1037,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1036,columnNumber:19},this),e.jsxDEV(z,{className:"w-80 text-sm",children:[e.jsxDEV("p",{className:"font-semibold mb-2",children:"What to Include"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1045,columnNumber:21},this),e.jsxDEV("ul",{className:"text-gray-600 space-y-1 list-disc list-inside",children:[e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"What:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1048,columnNumber:25},this)," Describe the issue clearly"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1047,columnNumber:23},this),e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"Where:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1051,columnNumber:25},this)," Specific location details"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1050,columnNumber:23},this),e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"When:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1054,columnNumber:25},this)," When you noticed it"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1053,columnNumber:23},this),e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"Severity:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1057,columnNumber:25},this)," Is it urgent or can it wait?"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1056,columnNumber:23},this),e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"Impact:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1060,columnNumber:25},this)," How does it affect operations?"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1059,columnNumber:23},this),e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"Action:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1063,columnNumber:25},this)," What needs to be done?"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1062,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1046,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1044,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1035,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1033,columnNumber:15},this),e.jsxDEV(se,{children:"Provide detailed information about the custodial issue or observation"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1069,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1032,columnNumber:13},this),e.jsxDEV(ae,{children:[e.jsxDEV(Xe,D(v({},m("notes")),{placeholder:`Describe the issue, maintenance need, or observation...

Examples:
â€¢ Broken equipment or fixtures
â€¢ Cleaning supply needs
â€¢ Safety concerns
â€¢ Maintenance requests
â€¢ General observations
â€¢ Follow-up needed`,rows:10,className:"min-h-[250px]"}),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1075,columnNumber:15},this),b.notes&&e.jsxDEV("p",{className:"text-sm text-red-500 mt-2",children:b.notes.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1082,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1074,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1031,columnNumber:11},this),e.jsxDEV(X,{className:"form-section",children:[e.jsxDEV(Z,{children:[e.jsxDEV(ee,{children:"Photos & Documentation"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1092,columnNumber:15},this),e.jsxDEV(se,{children:"Upload images or capture photos to document the issue"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1093,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1091,columnNumber:13},this),e.jsxDEV(ae,{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV(y,{htmlFor:"imageUpload",className:"block mb-2",children:"Upload Images (Optional)"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1100,columnNumber:19},this),e.jsxDEV(A,{id:"imageUpload",type:"file",accept:"image/*",multiple:!0,onChange:ce,className:"hidden"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1103,columnNumber:19},this),e.jsxDEV(V,{type:"button",onClick:()=>{var s;return(s=document.getElementById("imageUpload"))==null?void 0:s.click()},variant:"outline",className:"w-full h-12 border-2 border-dashed hover:border-blue-500 hover:bg-blue-50 transition-colors",children:e.jsxDEV("span",{className:"flex items-center gap-2 text-base",children:[e.jsxDEV("span",{className:"text-2xl",children:"ðŸ“"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1120,columnNumber:23},this),e.jsxDEV("span",{className:"font-medium",children:["Tap to Select Photos"," ",g.length>0&&`(${g.length} selected)`]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1121,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1119,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1111,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum 5 images â€¢ Images auto-compressed"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1127,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1099,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-end",children:e.jsxDEV(V,{type:"button",onClick:ye,variant:"outline",className:"w-full sm:w-auto h-12 border-2",children:e.jsxDEV("span",{className:"flex items-center gap-2 text-base",children:[e.jsxDEV("span",{className:"text-xl",children:"ðŸ“·"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1139,columnNumber:23},this),e.jsxDEV("span",{children:"Capture Photo"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1140,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1138,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1132,columnNumber:19},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1131,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1098,columnNumber:15},this),k.length>0&&e.jsxDEV("div",{className:"mt-4",children:[e.jsxDEV(y,{className:"block mb-2",children:["Uploaded Images (",g.length,")"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1149,columnNumber:19},this),e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:k.map((s,a)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:s,alt:`Upload ${a+1}`,className:"w-full h-24 object-cover rounded-lg border"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1155,columnNumber:25},this),e.jsxDEV(V,{type:"button",onClick:()=>we(a),variant:"destructive",size:"sm",className:"absolute top-1 right-1 w-6 h-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:"Ã—"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1160,columnNumber:25},this)]},a,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1154,columnNumber:23},this))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1152,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1148,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1097,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1090,columnNumber:11},this),e.jsxDEV("div",{className:"flex justify-center",children:e.jsxDEV(V,{type:"submit",size:"lg",disabled:F||L,className:"w-full md:w-auto disabled:bg-gray-400 disabled:cursor-not-allowed min-h-[56px] text-lg font-semibold transition-all duration-300 relative overflow-hidden",children:F||L?e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"w-5 h-5 border-3 border-white border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1188,columnNumber:21},this),e.jsxDEV("div",{className:"absolute inset-0 w-5 h-5 border-3 border-white/30 rounded-full"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1189,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1187,columnNumber:19},this),e.jsxDEV("span",{className:"animate-pulse",children:"Submitting your report..."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1191,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1186,columnNumber:17},this):e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(O,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1197,columnNumber:19},this),e.jsxDEV("span",{children:"Submit Custodial Note"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1198,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1196,columnNumber:17},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1179,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1178,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:806,columnNumber:9},this),e.jsxDEV(Ze,{open:xe,onOpenChange:G,children:e.jsxDEV(es,{className:"max-w-lg",children:[e.jsxDEV(ss,{children:[e.jsxDEV(as,{className:"text-blue-800 text-xl",children:"âœ… Confirm Submission"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1212,columnNumber:15},this),e.jsxDEV(ts,{className:"text-left",children:"Please review your custodial note before submitting:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1215,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1211,columnNumber:13},this),h&&e.jsxDEV("div",{className:"space-y-3 py-4",children:e.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"Inspector:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1224,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-900",children:h.inspectorName},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1227,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1223,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"School:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1232,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-900",children:h.school},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1235,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1231,columnNumber:19},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"Date:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1239,columnNumber:23},this),e.jsxDEV("p",{className:"text-gray-900",children:h.date},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1242,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1238,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"Location:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1245,columnNumber:23},this),e.jsxDEV("p",{className:"text-gray-900",children:h.location},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1248,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1244,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1237,columnNumber:19},this),h.locationDescription&&e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"Location Details:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1255,columnNumber:23},this),e.jsxDEV("p",{className:"text-gray-900 text-sm",children:h.locationDescription},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1258,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1254,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"Notes:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1264,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-900 text-sm max-h-24 overflow-y-auto",children:h.notes&&h.notes.length>200?`${h.notes.substring(0,200)}...`:h.notes||"No notes provided"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1267,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1263,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-semibold text-sm text-gray-700",children:"Photos:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1275,columnNumber:21},this),e.jsxDEV("p",{className:"text-gray-900",children:[g.length," image",g.length!==1?"s":""," ","attached"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1278,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1274,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1222,columnNumber:17},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1221,columnNumber:15},this),e.jsxDEV(rs,{children:[e.jsxDEV(os,{children:"Review/Edit"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1288,columnNumber:15},this),e.jsxDEV(is,{onClick:Ae,className:"bg-blue-600 hover:bg-blue-700",children:"Confirm & Submit"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1289,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1287,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1210,columnNumber:11},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1206,columnNumber:9},this),L&&e.jsxDEV(ls,{message:"Submitting report..."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1301,columnNumber:11},this),Ue&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-300",children:e.jsxDEV("div",{className:"bg-white rounded-2xl p-8 max-w-md mx-4 shadow-2xl animate-in zoom-in duration-500",children:e.jsxDEV("div",{className:"text-center space-y-6",children:[e.jsxDEV("div",{className:"relative inline-block",children:[e.jsxDEV("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center animate-bounce",children:e.jsxDEV("div",{className:"w-20 h-20 bg-green-500 rounded-full flex items-center justify-center animate-pulse",children:e.jsxDEV("svg",{className:"w-12 h-12 text-white animate-in zoom-in duration-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1319,columnNumber:25},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1313,columnNumber:23},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1312,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1311,columnNumber:19},this),e.jsxDEV(O,{className:"absolute -top-2 -right-2 h-8 w-8 text-yellow-400 animate-pulse"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1329,columnNumber:19},this),e.jsxDEV(O,{className:"absolute -bottom-2 -left-2 h-6 w-6 text-yellow-400 animate-pulse",style:{animationDelay:"0.2s"}},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1330,columnNumber:19},this),e.jsxDEV(O,{className:"absolute -top-2 -left-2 h-5 w-5 text-blue-400 animate-pulse",style:{animationDelay:"0.4s"}},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1334,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1310,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-green-700",children:"ðŸŽ‰ Success!"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1342,columnNumber:19},this),e.jsxDEV("p",{className:"text-gray-600 text-lg",children:"Your custodial note has been submitted successfully!"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1345,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:"Redirecting you back to the home page..."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1348,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1341,columnNumber:17},this),e.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:e.jsxDEV("div",{className:"h-full bg-gradient-to-r from-green-400 to-blue-500 rounded-full animate-[progress_3s_ease-in-out]",style:{animation:"progress 3s ease-in-out forwards"}},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1355,columnNumber:19},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1354,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1308,columnNumber:15},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1307,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1306,columnNumber:11},this),Ve&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-300",children:e.jsxDEV("div",{className:"bg-white rounded-2xl p-8 max-w-md mx-4 shadow-2xl animate-in zoom-in duration-500",children:e.jsxDEV("div",{className:"text-center space-y-6",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-800",children:"Report Another Issue?"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1373,columnNumber:19},this),e.jsxDEV("p",{className:"text-gray-600",children:"Found another issue at the same location?"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1376,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:"We can pre-fill your inspector name, school, date, and location to save you time!"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1379,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1372,columnNumber:17},this),e.jsxDEV("div",{className:"flex flex-col gap-3",children:[e.jsxDEV("button",{onClick:Ie,className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors shadow-md hover:shadow-lg min-h-[48px]",children:"ðŸ“ Report Another Issue Here"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1387,columnNumber:19},this),e.jsxDEV("button",{onClick:ke,className:"w-full px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold rounded-lg transition-colors min-h-[48px]",children:"ðŸ  Return to Home"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1393,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1386,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1371,columnNumber:15},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1370,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:1369,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:688,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-notes.tsx",lineNumber:684,columnNumber:5},this)}export{Ds as default};
