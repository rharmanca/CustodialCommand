var ze=Object.defineProperty,Pe=Object.defineProperties;var Be=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;var ce=(i,t,r)=>t in i?ze(i,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[t]=r,f=(i,t)=>{for(var r in t||(t={}))ue.call(t,r)&&ce(i,r,t[r]);if(H)for(var r of H(t))de.call(t,r)&&ce(i,r,t[r]);return i},w=(i,t)=>Pe(i,Be(t));var I=(i,t)=>{var r={};for(var l in i)ue.call(i,l)&&t.indexOf(l)<0&&(r[l]=i[l]);if(i!=null&&H)for(var l of H(i))t.indexOf(l)<0&&de.call(i,l)&&(r[l]=i[l]);return r};var q=(i,t,r)=>new Promise((l,d)=>{var c=o=>{try{b(r.next(o))}catch(E){d(E)}},D=o=>{try{b(r.throw(o))}catch(E){d(E)}},b=o=>o.done?l(o.value):Promise.resolve(o.value).then(c,D);b((r=r.apply(i,t)).next())});import{j as e,c as L,u as Me,d as Oe,i as G,r as W,C as R,h as A,B as k,e as J,f as Y,g as K,k as pe}from"./index-DZ3U2-uZ-v6.js";import{r as p,Y as He}from"./ui-DdZ73ZY3-v6.js";import{b as qe,c as Ge,s as T,n as g,l as X,u as We,C as he}from"./forms-BEsuWYLX-v6.js";import{T as Je,n as Ye,c as Ke,f as ae,t as Xe}from"./textarea-D_b0fFKw-v6.js";import{m as Qe,g as Ze,l as es,e as ie,p as ss,s as as,S as Ne,a as be,b as fe,c as xe,d as ge,C as Ce,f as is}from"./collapsible-section-Cxnsd4Ic-v6.js";import{L as y,I as F,a as ts}from"./LoadingOverlay-B-gq-PYU-v6.js";import{D as rs,b as os,c as ns,d as ls,e as ms}from"./dialog-DpxjFkq0-v6.js";import{c as cs,f as De,g as us,a as ds,h as te,i as ve,H as ps,U as hs,j as Ns,X as bs}from"./icons-JPeedV9x-v6.js";import"./vendor-Bs_irWCG-v6.js";import"./charts-CWHHZtEs-v6.js";import"./utils-Bp6iPdOR-v6.js";const Ee=p.forwardRef((r,t)=>{var i=I(r,[]);return e.jsxDEV("nav",f({ref:t,"aria-label":"breadcrumb"},i),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/ui/breadcrumb.tsx",lineNumber:12,columnNumber:26},void 0)});Ee.displayName="Breadcrumb";const je=p.forwardRef((l,r)=>{var d=l,{className:i}=d,t=I(d,["className"]);return e.jsxDEV("ol",f({ref:r,className:L("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",i)},t),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/ui/breadcrumb.tsx",lineNumber:19,columnNumber:3},void 0)});je.displayName="BreadcrumbList";const re=p.forwardRef((l,r)=>{var d=l,{className:i}=d,t=I(d,["className"]);return e.jsxDEV("li",f({ref:r,className:L("inline-flex items-center gap-1.5",i)},t),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/ui/breadcrumb.tsx",lineNumber:34,columnNumber:3},void 0)});re.displayName="BreadcrumbItem";const Ue=p.forwardRef((d,l)=>{var c=d,{asChild:i,className:t}=c,r=I(c,["asChild","className"]);const D=i?He:"a";return e.jsxDEV(D,f({ref:l,className:L("transition-colors hover:text-foreground",t)},r),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/ui/breadcrumb.tsx",lineNumber:51,columnNumber:5},void 0)});Ue.displayName="BreadcrumbLink";const Ve=p.forwardRef((l,r)=>{var d=l,{className:i}=d,t=I(d,["className"]);return e.jsxDEV("span",f({ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:L("font-normal text-foreground",i)},t),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/ui/breadcrumb.tsx",lineNumber:64,columnNumber:3},void 0)});Ve.displayName="BreadcrumbPage";const ye=l=>{var d=l,{children:i,className:t}=d,r=I(d,["children","className"]);return e.jsxDEV("li",w(f({role:"presentation","aria-hidden":"true",className:L("[&>svg]:w-3.5 [&>svg]:h-3.5",t)},r),{children:i!=null?i:e.jsxDEV(cs,{},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/ui/breadcrumb.tsx",lineNumber:86,columnNumber:18},void 0)}),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/ui/breadcrumb.tsx",lineNumber:80,columnNumber:3},void 0)};ye.displayName="BreadcrumbSeparator";const fs=qe({school:T().min(1,"School is required").max(100,"School name too long"),date:T().min(1,"Date is required").refine(i=>!isNaN(Date.parse(i)),"Invalid date format"),inspectionType:X("single_room").default("single_room"),locationDescription:T().min(3,"Please describe the location (minimum 3 characters)").max(500,"Location description too long"),roomNumber:T().max(50,"Room number too long").optional().or(X("")),locationCategory:T().max(100,"Location category too long").optional().or(X("")),floors:g().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),verticalHorizontalSurfaces:g().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),ceiling:g().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),restrooms:g().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),customerSatisfaction:g().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),trash:g().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),projectCleaning:g().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),activitySupport:g().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),safetyCompliance:g().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),equipment:g().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),monitoring:g().min(0,"Rating must be 0-5").max(5,"Rating must be 0-5").default(0),notes:T().max(5e3,"Notes too long").optional().or(X("")),images:Ge(T()).max(5,"Maximum 5 images allowed").default([])}),xs={school:"",date:"",inspectionType:"single_room",locationDescription:"",roomNumber:"",locationCategory:"",floors:0,verticalHorizontalSurfaces:0,ceiling:0,restrooms:0,customerSatisfaction:0,trash:0,projectCleaning:0,activitySupport:0,safetyCompliance:0,equipment:0,monitoring:0,notes:"",images:[]};function gs({status:i,lastSaved:t,errorMessage:r,className:l=""}){const[d,c]=p.useState("");p.useEffect(()=>{if(!t){c("");return}const E=()=>{const Q=new Date().getTime()-t.getTime(),v=Math.floor(Q/1e3),z=Math.floor(v/60);v<10?c("just now"):v<60?c(`${v}s ago`):z<60?c(`${z}m ago`):c(t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))};E();const _=setInterval(E,1e4);return()=>clearInterval(_)},[t]);const b=(()=>{switch(i){case"saving":return{icon:te,text:"Saving...",bgColor:"bg-blue-100 border-blue-300",textColor:"text-blue-800",iconColor:"text-blue-600",animate:!0};case"saved":return{icon:ds,text:d?`Saved ${d}`:"Saved",bgColor:"bg-green-100 border-green-300",textColor:"text-green-800",iconColor:"text-green-600",animate:!1};case"error":return{icon:us,text:r||"Save failed",bgColor:"bg-red-100 border-red-300",textColor:"text-red-800",iconColor:"text-red-600",animate:!1};default:return{icon:De,text:"Not saved",bgColor:"bg-gray-100 border-gray-300",textColor:"text-gray-700",iconColor:"text-gray-500",animate:!1}}})(),o=b.icon;return e.jsxDEV("div",{className:`fixed bottom-4 right-4 z-50 flex items-center gap-2 px-4 py-2 rounded-lg border-2 shadow-lg transition-all duration-200 ${b.bgColor} ${l}`,role:"status","aria-live":"polite",children:[e.jsxDEV(o,{className:`h-4 w-4 ${b.iconColor} ${b.animate?"animate-pulse":""}`},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/auto-save-indicator.tsx",lineNumber:102,columnNumber:7},this),e.jsxDEV("span",{className:`text-sm font-medium ${b.textColor}`,children:b.text},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/components/auto-save-indicator.tsx",lineNumber:105,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/components/auto-save-indicator.tsx",lineNumber:97,columnNumber:5},this)}function ks({onBack:i}){const{isMobile:t}=Me(),{toast:r}=Oe(),{register:l,handleSubmit:d,formState:{errors:c,isSubmitting:D},reset:b,setValue:o,watch:E,control:_}=We({resolver:Xe(fs),defaultValues:xs}),C=E(),[Q,v]=p.useState(!1),[z,Z]=p.useState([]),[j,$]=p.useState(null),[P,B]=p.useState(null),[ee,oe]=p.useState(!1),[Se,se]=p.useState("idle"),we=[{value:"ASA",label:"ASA"},{value:"LCA",label:"LCA"},{value:"GWC",label:"GWC"},{value:"OA",label:"OA"},{value:"CBR",label:"CBR"},{value:"WLC",label:"WLC"}],Ie=[{value:"exterior",label:"Exterior"},{value:"gym_bleachers",label:"Gym and Bleachers"},{value:"classroom",label:"Classroom"},{value:"cafeteria",label:"Cafeteria"},{value:"utility_storage",label:"Utility Or Storage"},{value:"admin_office",label:"Admin or Office Area"},{value:"hallway",label:"Hallway"},{value:"stairwell",label:"Stairwell"},{value:"restroom",label:"Restroom"},{value:"staff_single_restroom",label:"Staff or Single Restroom"}],[x,M]=p.useState([]);p.useEffect(()=>{Qe(),Re();const s=Ze();console.log("Storage stats:",s)},[]),p.useEffect(()=>{if(j){const s=setTimeout(()=>{ne()},2e3);return()=>clearTimeout(s)}},[C,x,j]);const Re=()=>{try{const s=es(ie.DRAFT_INSPECTION);s&&(Z([s]),v(!0));const a=localStorage.getItem("custodial_inspection_drafts");if(a&&!s){const n=JSON.parse(a).filter(u=>{const U=new Date(u.lastModified),N=new Date;return N.setDate(N.getDate()-7),U>N});n.length>0&&(Z(n),v(!0))}}catch(s){console.error("Error loading draft inspections:",s)}},ke=()=>`draft_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,ne=()=>q(null,null,function*(){if(!(!C.school||!C.date)){oe(!0),se("saving");try{const s=j||ke();j||$(s);const a=[];for(const n of x)try{const u=yield ss(n);a.push(u)}catch(u){console.error("Failed to process image:",u)}const m=w(f({id:s},C),{selectedImages:a,lastModified:new Date().toISOString(),title:`${C.school} - ${C.roomNumber||"Room"} - ${C.locationCategory||"Inspection"}`});as(ie.DRAFT_INSPECTION,m),B(new Date),se("saved")}catch(s){console.error("Error saving draft:",s),se("error")}finally{oe(!1)}}}),Te=s=>{if(o("school",s.school||""),o("date",s.date||""),o("inspectionType",s.inspectionType||"single_room"),o("locationDescription",s.locationDescription||""),o("roomNumber",s.roomNumber||""),o("locationCategory",s.locationCategory||""),o("floors",s.floors||0),o("verticalHorizontalSurfaces",s.verticalHorizontalSurfaces||0),o("ceiling",s.ceiling||0),o("restrooms",s.restrooms||0),o("customerSatisfaction",s.customerSatisfaction||0),o("trash",s.trash||0),o("projectCleaning",s.projectCleaning||0),o("activitySupport",s.activitySupport||0),o("safetyCompliance",s.safetyCompliance||0),o("equipment",s.equipment||0),o("monitoring",s.monitoring||0),o("notes",s.notes||""),s.selectedImages&&s.selectedImages.length>0){const a=s.selectedImages.map((m,n)=>{const u=atob(m.split(",")[1]),U=new Array(u.length);for(let V=0;V<u.length;V++)U[V]=u.charCodeAt(V);const N=new Uint8Array(U);return new File([N],`image_${n}.jpg`,{type:"image/jpeg"})});M(a)}$(s.id),v(!1)},le=s=>{is(ie.DRAFT_INSPECTION);const a=JSON.parse(localStorage.getItem("custodial_inspection_drafts")||"[]"),m=a.filter(n=>n.id!==s);m.length!==a.length&&localStorage.setItem("custodial_inspection_drafts",JSON.stringify(m)),Z([]),j===s&&($(null),B(null))},Ae=()=>{v(!1),$(null),B(null)},me=s=>q(null,null,function*(){const a=s.target.files;if(a&&a.length>0){const m=Array.from(a),u=5-x.length,U=m.slice(0,u),N=[];let V=0,O=0;for(const h of U)if(V+=h.size,Ye(h,500))try{const S=yield Ke(h,{maxSizeKB:500});N.push(S.compressedFile),O+=S.compressedSize,console.log(`Compressed ${h.name}: ${ae(h.size)} ‚Üí ${ae(S.compressedSize)}`)}catch(S){console.error("Failed to compress image:",S),N.push(h),O+=h.size}else N.push(h),O+=h.size;if(M(h=>[...h,...N]),N.length>0){const h=V-O,S=(h/V*100).toFixed(1);r({title:"üì∏ Photos Uploaded Successfully!",description:`Added ${N.length} photo${N.length>1?"s":""} to inspection documentation.${h>0?` Saved ${ae(h)} (${S}% compression).`:""}`,duration:3e3})}U.length<m.length&&r({variant:"destructive",title:"Upload Limit Reached",description:`Only ${U.length} photos were added. Maximum of 5 images allowed per inspection.`,duration:5e3}),console.log("Files selected:",N.length,"files")}}),$e=s=>{M(a=>a.filter((m,n)=>n!==s))},Fe=s=>q(null,null,function*(){try{const a=new FormData;Object.entries(s).forEach(([n,u])=>{n!=="images"&&a.append(n,(u==null?void 0:u.toString())||"")}),x.forEach(n=>{a.append("images",n)});const m=yield fetch("/api/inspections",{method:"POST",body:a});if(m.ok)r({title:"‚úÖ Inspection Submitted Successfully!",description:`Single area inspection for ${s.school} has been submitted and saved.`,variant:"default",duration:5e3}),j&&le(j),b(),M([]),$(null),B(null),setTimeout(()=>{i&&i()},6e3);else{const n=yield m.json().catch(()=>({message:"Unknown error"}));r({variant:"destructive",title:"Submission Failed",description:`Error: ${n.message||"Unable to submit inspection. Please try again."}`,duration:7e3})}}catch(a){console.error("Error submitting inspection:",a);let m="Submission Failed",n="Unable to submit inspection. Please try again.";a instanceof Error&&(a.message.includes("NetworkError")||a.message.includes("fetch")?(m="Network Error",n="Unable to connect to the server. Please check your connection and try again."):(a.message.includes("validation")||a.message.includes("Invalid"))&&(m="Invalid Data",n="Please check all required fields and try again.")),r({variant:"destructive",title:m,description:n,duration:7e3})}}),Le=p.useCallback((s,a)=>{var m,n;return e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-4 border",children:[e.jsxDEV("div",{className:"text-sm font-medium text-gray-700 mb-3 text-center",children:"Rate this category:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:400,columnNumber:11},this),e.jsxDEV("div",{className:"flex justify-center gap-2 mb-4",children:[1,2,3,4,5].map(u=>e.jsxDEV("button",{type:"button",className:"p-3 min-w-[48px] min-h-[48px] rounded-md hover:bg-yellow-50 transition-colors touch-manipulation flex items-center justify-center",onClick:()=>o(s.key,u),children:e.jsxDEV(ve,{className:`w-7 h-7 ${u<=a&&a>0?"fill-yellow-400 text-yellow-400":"text-gray-300 hover:text-yellow-300"}`},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:413,columnNumber:17},this)},u,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:407,columnNumber:15},this))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:405,columnNumber:11},this),e.jsxDEV("div",{className:"flex justify-center",children:e.jsxDEV("button",{type:"button",className:`px-6 py-3 min-h-[48px] rounded-md border text-sm font-medium transition-colors touch-manipulation ${a===0?"bg-gray-100 border-gray-300 text-gray-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}`,onClick:()=>o(s.key,0),children:"Not Rated"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:426,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:425,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:399,columnNumber:9},this),e.jsxDEV("div",{className:"text-center",children:a>0?e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(G,{variant:"secondary",className:"text-sm px-3 py-1",children:(m=W[a-1])==null?void 0:m.label},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:444,columnNumber:15},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:(n=W[a-1])==null?void 0:n.description},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:447,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:443,columnNumber:13},this):e.jsxDEV(G,{variant:"outline",className:"text-sm px-3 py-1",children:"No rating selected"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:452,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:441,columnNumber:9},this),a>0&&s.criteria&&s.criteria[a]&&e.jsxDEV(R,{className:"bg-blue-50 border-blue-200",children:e.jsxDEV(A,{className:"p-3",children:e.jsxDEV("div",{className:"text-xs text-blue-800",children:[e.jsxDEV("strong",{className:"text-sm",children:["Rating ",a," Criteria:"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:463,columnNumber:17},this),e.jsxDEV("p",{className:"mt-1 leading-relaxed",children:s.criteria[a]},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:464,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:462,columnNumber:15},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:461,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:460,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:398,columnNumber:7},this)},[o]),_e=p.useCallback((s,a)=>{var m,n;return e.jsxDEV("div",{className:"space-y-5",children:[e.jsxDEV("div",{className:"flex flex-wrap justify-center gap-2",children:[e.jsxDEV(k,{type:"button",variant:a===0?"default":"outline",size:"sm",className:"px-4 py-3 text-xs min-h-[48px]",onClick:()=>o(s.key,0),children:"Not Rated"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:477,columnNumber:11},this),[1,2,3,4,5].map(u=>e.jsxDEV(k,{type:"button",variant:"ghost",size:"icon",className:"min-w-[48px] min-h-[48px]",onClick:()=>o(s.key,u),children:e.jsxDEV(ve,{className:`w-7 h-7 ${u<=a&&a>0?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:495,columnNumber:15},this)},u,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:487,columnNumber:13},this))]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:476,columnNumber:9},this),e.jsxDEV("div",{className:"text-center px-3",children:a>0?e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(G,{variant:"secondary",className:"text-sm px-3 py-1",children:(m=W[a-1])==null?void 0:m.label},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:510,columnNumber:15},this),e.jsxDEV("div",{className:"text-xs text-gray-600 leading-relaxed",children:(n=W[a-1])==null?void 0:n.description},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:513,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:509,columnNumber:13},this):e.jsxDEV(G,{variant:"outline",className:"text-sm px-3 py-1",children:"No rating selected"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:518,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:507,columnNumber:9},this),a>0&&s.criteria&&s.criteria[a]&&e.jsxDEV(R,{className:"bg-accent/10 border-accent/30",children:e.jsxDEV(A,{className:"p-4",children:e.jsxDEV("div",{className:"text-xs text-accent-foreground",children:[e.jsxDEV("strong",{className:"text-sm",children:["Rating ",a," Criteria:"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:529,columnNumber:17},this),e.jsxDEV("p",{className:"mt-1 leading-relaxed",children:s.criteria[a]},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:530,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:528,columnNumber:15},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:527,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:526,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:475,columnNumber:7},this)},[o]);return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(rs,{open:Q,onOpenChange:v,children:e.jsxDEV(os,{className:"max-w-2xl",children:[e.jsxDEV(ns,{children:[e.jsxDEV(ls,{children:"Resume Previous Inspection?"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:545,columnNumber:13},this),e.jsxDEV(ms,{children:"You have unfinished inspection drafts. Would you like to continue one of them or start a new inspection?"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:546,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:544,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[z.map(s=>e.jsxDEV(R,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-medium",children:s.title},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:555,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["Last modified: ",new Date(s.lastModified).toLocaleString()]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:556,columnNumber:21},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:["School: ",s.school," ‚Ä¢ Date: ",s.date,s.roomNumber&&` ‚Ä¢ Room: ${s.roomNumber}`]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:559,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:554,columnNumber:19},this),e.jsxDEV("div",{className:"flex space-x-2",children:[e.jsxDEV(k,{size:"sm",onClick:()=>Te(s),children:"Resume"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:565,columnNumber:21},this),e.jsxDEV(k,{size:"sm",variant:"outline",onClick:()=>le(s.id),children:"Delete"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:571,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:564,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:553,columnNumber:17},this)},s.id,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:552,columnNumber:15},this)),e.jsxDEV("div",{className:"flex justify-center space-x-4 pt-4",children:e.jsxDEV(k,{onClick:Ae,variant:"outline",children:"Start New Inspection"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:583,columnNumber:15},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:582,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:550,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:543,columnNumber:9},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:542,columnNumber:7},this),e.jsxDEV("div",{className:"container mx-auto p-6 max-w-4xl",children:[e.jsxDEV(Ee,{className:"mb-4",children:e.jsxDEV(je,{children:[e.jsxDEV(re,{children:e.jsxDEV(Ue,{onClick:i,className:"flex items-center gap-1 cursor-pointer",children:[e.jsxDEV(ps,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:597,columnNumber:15},this),e.jsxDEV("span",{className:"sr-only sm:not-sr-only",children:"Home"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:598,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:596,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:595,columnNumber:11},this),e.jsxDEV(ye,{},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:601,columnNumber:11},this),e.jsxDEV(re,{children:e.jsxDEV(Ve,{children:"Single Area Inspection"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:603,columnNumber:13},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:602,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:594,columnNumber:9},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:593,columnNumber:7},this),e.jsxDEV("div",{className:"mb-6",children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-foreground",children:"Submit Inspection"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:609,columnNumber:9},this),e.jsxDEV("p",{className:"text-muted-foreground mt-2",children:"Use this form to inspect a single room or location. Example: Cafeteria. If performing a whole building inspection please select that from the previous screen."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:610,columnNumber:9},this),e.jsxDEV("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxDEV("p",{className:"text-sm text-blue-800 leading-relaxed",children:[e.jsxDEV("strong",{children:"üìã Important:"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:615,columnNumber:13},this)," This form is for inspecting a single room or area using the same rating criteria as the Whole Building Inspection. However, single area inspections are recorded separately and do not automatically count toward a building-wide inspection or monthly metrics. If you're conducting these inspections as part of a comprehensive building review or to meet monthly inspection requirements, you'll need to manually track your progress across all required areas."]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:614,columnNumber:11},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:613,columnNumber:9},this),(P||ee)&&e.jsxDEV("div",{className:"mt-2 flex items-center space-x-2 text-sm text-muted-foreground",children:ee?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(te,{className:"w-4 h-4 animate-spin"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:624,columnNumber:17},this),e.jsxDEV("span",{children:"Saving..."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:625,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:623,columnNumber:15},this):P?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(De,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:629,columnNumber:17},this),e.jsxDEV("span",{children:["Last saved: ",P.toLocaleTimeString()]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:630,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:628,columnNumber:15},this):null},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:621,columnNumber:11},this),j&&e.jsxDEV(k,{type:"button",variant:"outline",onClick:ne,disabled:ee,className:"mt-4",children:[e.jsxDEV(te,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:645,columnNumber:13},this),"Save Draft"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:638,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:608,columnNumber:7},this),e.jsxDEV("form",{onSubmit:d(Fe),className:"space-y-6",children:[e.jsxDEV(R,{children:[e.jsxDEV(J,{children:[e.jsxDEV(Y,{children:"Basic Information"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:655,columnNumber:13},this),e.jsxDEV(K,{children:"Enter the basic details for this inspection"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:656,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:654,columnNumber:11},this),e.jsxDEV(A,{className:"space-y-4",children:[e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[e.jsxDEV("div",{children:[e.jsxDEV(y,{htmlFor:"school",children:"School *"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:661,columnNumber:17},this),e.jsxDEV(he,{name:"school",control:_,render:({field:s})=>e.jsxDEV(Ne,{value:s.value,onValueChange:s.onChange,children:[e.jsxDEV(be,{children:e.jsxDEV(fe,{placeholder:"Select school"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:668,columnNumber:25},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:667,columnNumber:23},this),e.jsxDEV(xe,{children:we.map(a=>e.jsxDEV(ge,{value:a.value,children:a.label},a.value,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:672,columnNumber:27},this))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:670,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:666,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:662,columnNumber:17},this),c.school&&e.jsxDEV("p",{className:"text-sm text-red-500 mt-1",children:c.school.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:681,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:660,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV(y,{htmlFor:"date",children:"Inspection Date *"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:686,columnNumber:17},this),e.jsxDEV(F,w(f({id:"date",type:"date"},l("date")),{"aria-describedby":"date-help"}),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:687,columnNumber:17},this),c.date&&e.jsxDEV("p",{className:"text-sm text-red-500 mt-1",children:c.date.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:694,columnNumber:19},this),e.jsxDEV("p",{id:"date-help",className:"text-sm text-muted-foreground mt-1",children:"Select the date when this inspection was conducted"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:696,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:685,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV(y,{htmlFor:"locationCategory",children:"Location Category"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:702,columnNumber:17},this),e.jsxDEV(he,{name:"locationCategory",control:_,render:({field:s})=>e.jsxDEV(Ne,{value:s.value,onValueChange:s.onChange,children:[e.jsxDEV(be,{children:e.jsxDEV(fe,{placeholder:"Select location category"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:709,columnNumber:25},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:708,columnNumber:23},this),e.jsxDEV(xe,{children:Ie.map(a=>e.jsxDEV(ge,{value:a.value,children:a.label},a.value,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:713,columnNumber:27},this))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:711,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:707,columnNumber:21},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:703,columnNumber:17},this),c.locationCategory&&e.jsxDEV("p",{className:"text-sm text-red-500 mt-1",children:c.locationCategory.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:722,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:701,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV(y,{htmlFor:"roomNumber",children:"Room Number"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:727,columnNumber:17},this),e.jsxDEV(F,w(f({id:"roomNumber"},l("roomNumber")),{placeholder:"e.g., 101, Main Hall"}),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:728,columnNumber:17},this),c.roomNumber&&e.jsxDEV("p",{className:"text-sm text-red-500 mt-1",children:c.roomNumber.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:734,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:726,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:659,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV(y,{htmlFor:"locationDescription",children:"Location Description"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:740,columnNumber:15},this),e.jsxDEV(F,w(f({id:"locationDescription"},l("locationDescription")),{placeholder:"e.g., Main Building, Second Floor, Near Library"}),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:741,columnNumber:15},this),c.locationDescription&&e.jsxDEV("p",{className:"text-sm text-red-500 mt-1",children:c.locationDescription.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:747,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:739,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:658,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:653,columnNumber:9},this),e.jsxDEV(R,{children:[e.jsxDEV(J,{children:[e.jsxDEV(Y,{children:"Inspection Categories"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:756,columnNumber:15},this),e.jsxDEV(K,{children:t?"Expand each category to rate it. Detailed criteria will appear when you select a rating.":"Expand each category to rate it based on the criteria (1-5 stars). Detailed criteria will appear when you select a rating."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:757,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:755,columnNumber:13},this),e.jsxDEV(A,{className:"space-y-4",children:t?pe.map(s=>e.jsxDEV(Ce,{title:s.label,defaultCollapsed:!0,className:"border border-gray-200",titleClassName:"text-left font-medium",contentClassName:"space-y-3",children:Le(s,C[s.key])},s.key,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:768,columnNumber:17},this)):e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:pe.map(s=>e.jsxDEV(Ce,{title:s.label,defaultCollapsed:!0,className:"border border-gray-200",titleClassName:"text-left font-medium",contentClassName:"space-y-3",children:_e(s,C[s.key])},s.key,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:783,columnNumber:19},this))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:781,columnNumber:15},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:764,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:754,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxDEV(R,{children:[e.jsxDEV(J,{children:[e.jsxDEV(Y,{children:"Additional Notes & Observations"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:804,columnNumber:17},this),e.jsxDEV(K,{children:"Detailed observations, specific issues, recommendations, or additional context"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:805,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:803,columnNumber:15},this),e.jsxDEV(A,{children:[e.jsxDEV(Je,w(f({},l("notes")),{placeholder:`Enter detailed notes about this inspection...

Examples:
‚Ä¢ Specific areas that need attention
‚Ä¢ Safety concerns observed
‚Ä¢ Maintenance recommendations
‚Ä¢ Follow-up actions required
‚Ä¢ Staff performance observations
‚Ä¢ Equipment issues noted`,rows:8,className:"min-h-[200px]","aria-describedby":"notes-help"}),void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:808,columnNumber:15},this),c.notes&&e.jsxDEV("p",{className:"text-sm text-red-500 mt-2",children:c.notes.message},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:816,columnNumber:17},this),e.jsxDEV("p",{id:"notes-help",className:"text-sm text-muted-foreground mt-2",children:"Provide detailed observations, specific issues, recommendations, or additional context for this inspection"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:818,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:807,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:802,columnNumber:11},this),e.jsxDEV(R,{children:[e.jsxDEV(J,{children:[e.jsxDEV(Y,{children:"Photo Documentation"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:827,columnNumber:15},this),e.jsxDEV(K,{children:"Upload images or take photos to document inspection findings (up to 5 images)"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:828,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:826,columnNumber:13},this),e.jsxDEV(A,{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxDEV(y,{htmlFor:"image-upload",className:"cursor-pointer flex-1",children:[e.jsxDEV("div",{className:"flex items-center justify-center gap-2 px-4 py-3 sm:py-2 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors min-h-[48px]",children:[e.jsxDEV(hs,{className:"w-5 h-5 sm:w-4 sm:h-4"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:834,columnNumber:21},this),e.jsxDEV("span",{className:"font-medium",children:"Upload Images"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:835,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:833,columnNumber:19},this),e.jsxDEV(F,{id:"image-upload",type:"file",multiple:!0,accept:"image/*",onChange:me,className:"hidden",disabled:x.length>=5},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:837,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:832,columnNumber:17},this),e.jsxDEV(y,{htmlFor:"camera-capture",className:"cursor-pointer flex-1",children:[e.jsxDEV("div",{className:"flex items-center justify-center gap-2 px-4 py-3 sm:py-2 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors min-h-[48px]",children:[e.jsxDEV(Ns,{className:"w-5 h-5 sm:w-4 sm:h-4"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:850,columnNumber:21},this),e.jsxDEV("span",{className:"font-medium",children:"Take Photo"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:851,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:849,columnNumber:19},this),e.jsxDEV(F,{id:"camera-capture",type:"file",accept:"image/*",capture:"environment",onChange:me,className:"hidden",disabled:x.length>=5},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:853,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:848,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:831,columnNumber:15},this),x.length>0&&e.jsxDEV("div",{className:"flex items-center justify-between p-2 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxDEV("span",{className:"text-sm font-medium text-blue-900",children:[x.length," of 5 images selected"]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:868,columnNumber:19},this),x.length>=5&&e.jsxDEV("span",{className:"text-xs text-blue-700 bg-blue-100 px-2 py-1 rounded",children:"Maximum reached"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:872,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:867,columnNumber:17},this),e.jsxDEV("p",{className:"text-xs sm:text-sm text-gray-500",children:"üì∏ Select multiple images or take photos ‚Ä¢ Up to 5 images ‚Ä¢ JPG, PNG, GIF supported"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:879,columnNumber:15},this),x.length>0&&e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(y,{className:"text-sm font-semibold",children:"Image Previews"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:886,columnNumber:19},this),e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 sm:gap-4",children:x.map((s,a)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:URL.createObjectURL(s),alt:`Preview ${a+1}`,className:"w-full h-32 sm:h-24 object-cover rounded-lg border-2 border-gray-200",loading:"lazy"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:890,columnNumber:25},this),e.jsxDEV("button",{type:"button",onClick:()=>$e(a),className:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-2 opacity-90 md:opacity-0 md:group-hover:opacity-100 transition-opacity shadow-lg","aria-label":`Remove image ${a+1}`,children:e.jsxDEV(bs,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:902,columnNumber:27},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:896,columnNumber:25},this),e.jsxDEV("div",{className:"absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-1 py-0.5 rounded",children:s.name.length>12?s.name.substring(0,12)+"...":s.name},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:904,columnNumber:25},this)]},a,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:889,columnNumber:23},this))},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:887,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:885,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:830,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:825,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:800,columnNumber:9},this),e.jsxDEV("div",{className:"flex justify-end gap-4",children:e.jsxDEV(k,{type:"submit",size:"lg",disabled:D,className:`bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed ${t?"w-full h-14 text-lg":""}`,children:D?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"animate-spin mr-2",children:"‚è≥"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:926,columnNumber:17},this),"Submitting..."]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:925,columnNumber:15},this):"Submit Inspection"},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:918,columnNumber:11},this)},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:917,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:651,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:591,columnNumber:7},this),D&&e.jsxDEV(ts,{message:"Submitting inspection..."},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:939,columnNumber:7},this),e.jsxDEV(gs,{status:Se,lastSaved:P},void 0,!1,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:943,columnNumber:5},this)]},void 0,!0,{fileName:"/Users/rharman/CustodialCommand/src/pages/custodial-inspection.tsx",lineNumber:540,columnNumber:5},this)}export{ks as default};
