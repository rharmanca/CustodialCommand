# Milestone v2.5 Proposal: Polish and Enhancements

**Status:** PROPOSED (Pending Approval)  
**Theme:** Polish and Enhancements  
**Scope:** UX improvements, workflow enhancements, performance optimization  
**Phases:** 6 (12-17)  
**Requirements:** 18 new requirements  
**Estimated Duration:** 4-6 weeks (pending phase breakdown)

---

## Executive Summary

Milestone v2.0 delivered core reporting and accountability features (analytics, notifications, tagging). Milestone v2.5 focuses on **polishing the existing experience** and **enhancing workflows** based on deferred requirements from v2.0 planning and v3 backlog.

**Key Themes:**
1. **Search & Discovery** - Find inspections faster as data grows
2. **Batch Operations** - Process multiple inspections efficiently
3. **Voice Input** - Faster mobile documentation
4. **Data Management** - Retention, archiving, export
5. **Performance** - Photo optimization, loading speed
6. **Mobile Experience** - PWA improvements, offline reliability

---

## Proposed Phases

### Phase 12: Search & Discovery
**Goal:** Users can quickly find inspections using full-text search and advanced filters

**Addresses:** Data discoverability as inspection volume grows

**Requirements:**
- **SEARCH-01**: Full-text search across notes, locations, and tags
- **SEARCH-02**: Advanced filters (date range, location, tag, rating)
- **SEARCH-03**: Saved searches for frequent queries

**Success Criteria:**
1. User can type a keyword and see matching inspections within 1 second
2. User can combine multiple filters (e.g., "last 7 days" + "safety tag" + "Rosenwald")
3. User can save a search and reuse it later
4. Search results update in real-time as user types

**Dependencies:** None (builds on existing data)

---

### Phase 13: Batch Review
**Goal:** Users can process multiple inspections efficiently with bulk actions

**Addresses:** ADV-04 from v3 requirements (batch review mode)

**Requirements:**
- **BATCH-01**: Multi-select inspections from list view
- **BATCH-02**: Bulk complete with same ratings
- **BATCH-03**: Bulk discard and bulk archive

**Success Criteria:**
1. User can select 5+ inspections from the pending list
2. User can apply the same rating to all selected inspections
3. User can complete all selected inspections with one action
4. User can discard or archive multiple inspections at once

**Dependencies:** Phase 12 (search/filter to find batches)

---

### Phase 14: Voice Notes
**Goal:** Users can document issues faster using voice-to-text during capture

**Addresses:** ADV-02 from v3 requirements (voice-to-text notes)

**Requirements:**
- **VOICE-01**: Record audio in quick capture mode
- **VOICE-02**: Transcribe speech to text (browser API)
- **VOICE-03**: Edit transcription before saving

**Success Criteria:**
1. User can tap microphone button to start recording
2. User sees real-time transcription as they speak
3. User can edit the transcribed text before saving
4. Audio recording is attached to the inspection

**Dependencies:** None (enhances existing quick capture)

---

### Phase 15: Data Management
**Goal:** Users can manage inspection data lifecycle with archiving and retention

**Addresses:** Data volume management as usage scales

**Requirements:**
- **DATA-01**: Manual archive inspections (hide from default view)
- **DATA-02**: Configurable retention policies (auto-archive after N days)
- **DATA-03**: Export archived data to CSV

**Success Criteria:**
1. User can archive old inspections to declutter default views
2. User can view archived inspections in separate tab
3. System auto-archives inspections after configured period
4. User can export archived data for external storage

**Dependencies:** Phase 13 (batch operations for archiving)

---

### Phase 16: Performance Optimization
**Goal:** Application loads faster with optimized photos and code

**Addresses:** Performance at scale

**Requirements:**
- **PERF-06**: Photo compression on upload (WebP conversion)
- **PERF-07**: Lazy loading for inspection lists
- **PERF-08**: Route-level code splitting

**Success Criteria:**
1. Photos are served as WebP with JPEG fallback
2. Inspection list loads first 20 items, rest on scroll
3. Initial bundle size reduced by 30%+
4. Time to interactive < 1.5s on mobile 4G

**Dependencies:** None (infrastructure improvement)

---

### Phase 17: PWA Polish
**Goal:** Enhanced mobile experience with better offline support and install experience

**Addresses:** Mobile workflow reliability

**Requirements:**
- **PWA-01**: Install prompt for adding to home screen
- **PWA-02**: Offline queue for pending inspections
- **PWA-03**: Sync status indicator (online/offline/queuing)

**Success Criteria:**
1. Browser shows install prompt on eligible visits
2. Quick capture works offline and queues for sync
3. User sees visual indicator when offline
4. Queued items sync automatically when connection restored

**Dependencies:** Phase 16 (performance improvements support PWA)

---

## Requirements Coverage

| Source | Requirement | Phase | Status |
|--------|-------------|-------|--------|
| v3 ADV-02 | Voice-to-text notes | Phase 14 | Proposed |
| v3 ADV-04 | Batch review mode | Phase 13 | Proposed |
| v3 ADV-05 | Time-based reminders | **Deferred** | Wait for feedback |
| New | Full-text search | Phase 12 | Proposed |
| New | Data archiving | Phase 15 | Proposed |
| New | Photo compression | Phase 16 | Proposed |
| New | PWA improvements | Phase 17 | Proposed |

**Total v2.5 Requirements:** 18  
**Coverage:** 100% mapped to phases

---

## Phase Dependencies & Ordering

```
Phase 12 (Search) ───────────────────────┐
                                         ├──→ Phase 13 (Batch)
Phase 14 (Voice) ────────────────────────┤      (uses search to find batches)
                                         │
Phase 15 (Data) ─────────────────────────┤      (uses batch for archiving)
       ↑ Phase 13 dependency             │
                                         │
Phase 16 (Performance) ──────────────────┼────→ Phase 17 (PWA)
                                         │      (performance enables PWA)
Phase 08 monitoring ─────────────────────┘      (optional: revisit Phase 12)
```

**Recommended Execution Order:**
1. Phase 12: Search & Discovery (foundation)
2. Phase 14: Voice Notes (independent, high user value)
3. Phase 16: Performance (enables better experience)
4. Phase 13: Batch Review (builds on search)
5. Phase 15: Data Management (uses batch)
6. Phase 17: PWA Polish (capstone mobile experience)

---

## Deferred to v3.0

| Item | Reason |
|------|--------|
| AI photo analysis (ADV-01) | Requires ML infrastructure, high complexity |
| Slack integration (INT-02) | Await notification feedback from v2.0 |
| Calendar integration (INT-03) | Scheduling phase deferred until user feedback |
| Time-based reminders (ADV-05) | Can leverage notification system post-v2.0 feedback |
| Advanced analytics | Current analytics sufficient; await data volume |

---

## Success Metrics

| Metric | Target | Measurement |
|--------|--------|-------------|
| Search response time | < 1s | Backend query timing |
| Batch operations | 5+ items | User workflow test |
| Voice transcription | > 90% accuracy | Manual spot-check |
| Archive storage | < 20% active data | DB query |
| Bundle size | -30% | Build analyzer |
| PWA install rate | > 50% eligible | Analytics event |

---

## Open Questions

1. **Voice API**: Use native Web Speech API or external service?
2. **Search backend**: PostgreSQL full-text vs. simple ILIKE queries?
3. **Archive policy**: What is default auto-archive period? (90 days?)
4. **Batch limits**: Max items for bulk operations? (50? 100?)
5. **Photo compression**: Compress on client or server? (server preferred)

---

## Recommendation

**Approve Milestone v2.5 with 6 phases** focusing on polish and workflow enhancements. These improvements make the existing v2.0 features more usable at scale without introducing major new paradigms.

**Priority order:** Phase 12 → Phase 14 → Phase 16 → Phase 13 → Phase 15 → Phase 17

---

*Proposal created: 2026-02-19*  
*Based on: v2.0 completion, deferred requirements analysis*
