---
phase: 12-home-page-layout-reorganization
plan: 04
type: execute
wave: 3
depends_on:
  - 12-01
  - 12-02
  - 12-03
files_modified:
  - src/pages/Dashboard.tsx
autonomous: true
gap_closure: true
must_haves:
  truths:
    - QuickCaptureCard is positioned in the bottom 1/3 of the mobile viewport
    - Card is reachable with thumb without scrolling on portrait mobile
    - Visual hierarchy maintained: header at top, primary action at bottom
    - Layout works on both mobile and desktop without media query complexity
  artifacts:
    - path: src/pages/Dashboard.tsx
      provides: Reorganized Capture section with thumb-zone positioning
      contains: [flex layout, flex-1 spacer, bottom-positioned QuickCaptureCard]
  key_links:
    - from: src/pages/Dashboard.tsx
      to: src/components/dashboard/QuickCaptureCard.tsx
      via: repositioned import and render at section bottom
      pattern: QuickCaptureCard.*className.*mt-auto|flex-1.*QuickCaptureCard
---

<objective>
Fix critical gap: Reposition QuickCaptureCard from top of Capture section to bottom 1/3 (thumb zone) to satisfy LAYOUT-01 and LAYOUT-03.

Purpose: Enable one-handed thumb reachability for field staff using mobile devices.
Output: Dashboard with QuickCaptureCard in natural thumb-reach position.
</objective>

<execution_context>
@C:/Users/veloc/.config/opencode/get-shit-done/workflows/execute-plan.md
@C:/Users/veloc/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/12-home-page-layout-reorganization/12-VERIFICATION.md
@.planning/phases/12-home-page-layout-reorganization/12-CONTEXT.md

# Current Dashboard structure (needs repositioning)
@src/pages/Dashboard.tsx

# Card component being repositioned
@src/components/dashboard/QuickCaptureCard.tsx
</context>

<tasks>

<task type="auto">
  <name>Reposition QuickCaptureCard to thumb zone</name>
  <files>src/pages/Dashboard.tsx</files>
  <skills>react-best-practices, tailwind-design-system</skills>
  <action>
Reorganize the Capture section layout to position QuickCaptureCard at the bottom (thumb zone).

Current problematic layout (lines ~82-85 in Dashboard.tsx):
```tsx
<section className="bg-amber-50/50...">
  {/* Header at top */}
  <div className="flex items-center gap-2 mb-4">
    <Camera className="h-5 w-5 text-amber-600" />
    <h2 id="capture-heading" className="text-lg font-semibold text-amber-900">Capture</h2>
  </div>
  
  {/* Quick Capture - CURRENTLY AT TOP (wrong) */}
  <QuickCaptureCard onClick={handleQuickCapture} className="mb-4" />
  
  {/* Secondary options */}
  <div className="space-y-2">
    <button>Report Concern</button>
    <button>Single Area Inspection</button>
  </div>
</section>
```

Required fix using flexbox (Option B from VERIFICATION.md):
```tsx
<section className="bg-amber-50/50 rounded-xl border border-amber-100 p-4 sm:p-6 flex flex-col">
  {/* Header at top */}
  <div className="flex items-center gap-2 mb-4">
    <Camera className="h-5 w-5 text-amber-600" />
    <h2 id="capture-heading" className="text-lg font-semibold text-amber-900">Capture</h2>
  </div>
  
  {/* Secondary options with flex-1 to push card down */}
  <div className="space-y-2 flex-1">
    <button>Report Concern</button>
    <button>Single Area Inspection</button>
  </div>
  
  {/* Quick Capture at BOTTOM (thumb zone) */}
  <QuickCaptureCard onClick={handleQuickCapture} className="mt-4" />
</section>
```

Key changes:
1. Add `flex flex-col` to the section container
2. Add `flex-1` to the secondary options div (this expands to fill space)
3. Move QuickCaptureCard to AFTER the secondary options
4. Change card's margin from `mb-4` to `mt-4` (margin-top instead of margin-bottom)

This pushes the card to the bottom of the section naturally using flexbox, without requiring fixed positioning or complex media queries.

For mobile: The card will be at the bottom of the Capture section, which should place it in the bottom 1/3 of the viewport when combined with the Review section above.

For desktop: The flex layout still works correctly in the two-column grid.
  </action>
  <verify>grep -n "flex flex-col\|flex-1\|QuickCaptureCard" src/pages/Dashboard.tsx | head -15</verify>
  <done>QuickCaptureCard is rendered after secondary options with flex-1 spacer pushing it to bottom. Section uses flex flex-col layout. Card is positioned in thumb-reach zone.</done>
</task>

<task type="auto">
  <name>Verify mobile viewport positioning</name>
  <files>src/pages/Dashboard.tsx</files>
  <action>
Verify the repositioned layout achieves thumb-zone positioning:

1. Check that the Capture section structure is:
   ```tsx
   <section className="... flex flex-col">
     {/* Header - stays at top */}
     {/* Secondary options - flex-1 pushes content */}
     {/* QuickCaptureCard - at bottom */}
   </section>
   ```

2. Ensure the section has adequate height to push card to bottom 1/3:
   - On mobile: The section should occupy significant viewport height
   - Combined with Review section above, Capture section's bottom = thumb zone

3. If needed, add minimum height to ensure card doesn't float too high:
   ```tsx
   <section className="... flex flex-col min-h-[300px] sm:min-h-0">
   ```
   (300px minimum ensures card is pushed down on mobile, sm:min-h-0 removes constraint on desktop)

4. TypeScript check: Run `npm run check` to verify no type errors

5. Build verification: Run `npm run build` to ensure production build succeeds
  </action>
  <verify>npm run check && npm run build</verify>
  <done>TypeScript passes, build succeeds, QuickCaptureCard is visually positioned in bottom 1/3 of mobile viewport.</done>
</task>

</tasks>

<verification>
- [ ] QuickCaptureCard is rendered at bottom of Capture section (after secondary options)
- [ ] Section uses `flex flex-col` layout
- [ ] Secondary options div has `flex-1` to push card down
- [ ] Card has `mt-4` instead of `mb-4`
- [ ] Layout works on mobile (card in thumb zone)
- [ ] Layout works on desktop (no visual regression)
- [ ] npm run check passes (TypeScript)
- [ ] npm run build succeeds
</verification>

<success_criteria>
1. QuickCaptureCard is positioned in bottom 1/3 of mobile viewport (thumb zone)
2. Card is reachable with thumb without scrolling on iPhone 12/13/14 in portrait
3. Visual hierarchy maintained: header at top, primary action at bottom
4. Layout works on both mobile and desktop
5. LAYOUT-01 satisfied: Quick Capture is primary, prominent, and thumb-reachable
6. LAYOUT-03 satisfied: Primary actions reachable with thumb
7. TypeScript checks pass, build succeeds
</success_criteria>

<output>
After completion, create `.planning/phases/12-home-page-layout-reorganization/12-04-SUMMARY.md`
</output>
