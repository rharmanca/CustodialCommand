<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Export Wizard - Manual Test</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f4;
            color: #1c1917;
        }
        .test-section {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .test-title {
            color: #92400e;
            font-size: 1.5rem;
            margin-bottom: 15px;
            border-bottom: 2px solid #d97706;
            padding-bottom: 10px;
        }
        .test-item {
            margin: 10px 0;
            padding: 10px;
            background: #fef3c7;
            border-radius: 4px;
            border-left: 4px solid #d97706;
        }
        .status {
            font-weight: bold;
            padding: 4px 8px;
            border-radius: 4px;
            margin-left: 10px;
        }
        .pass { background: #dcfce7; color: #166534; }
        .fail { background: #fef2f2; color: #dc2626; }
        .pending { background: #fef3c7; color: #92400e; }
        .test-button {
            background: #d97706;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background: #b45309;
        }
        .results {
            margin-top: 20px;
            padding: 15px;
            background: #f0f9ff;
            border-radius: 6px;
            border: 1px solid #0ea5e9;
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .feature-card {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 15px;
        }
        .feature-title {
            font-weight: bold;
            color: #92400e;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <h1>üß™ PDF Export Wizard - Manual Deployment Test</h1>
    <p>This page tests the PDF Export Wizard implementation and all improvements.</p>

    <div class="test-section">
        <h2 class="test-title">üåê Server Connectivity Test</h2>
        <div class="test-item">
            <strong>Production Site:</strong> 
            <span id="prod-status" class="status pending">Testing...</span>
            <button class="test-button" onclick="testProductionSite()">Test Production</button>
        </div>
        <div class="test-item">
            <strong>Local Development:</strong> 
            <span id="local-status" class="status pending">Testing...</span>
            <button class="test-button" onclick="testLocalSite()">Test Local</button>
        </div>
    </div>

    <div class="test-section">
        <h2 class="test-title">üéØ PDF Export Wizard Features</h2>
        <div class="feature-grid">
            <div class="feature-card">
                <div class="feature-title">PDFExportWizard Component</div>
                <p>Multi-step wizard with 4-step navigation</p>
                <span id="wizard-status" class="status pending">Not tested</span>
            </div>
            <div class="feature-card">
                <div class="feature-title">ReportTypeSelector</div>
                <p>Card-based UI for selecting report types</p>
                <span id="selector-status" class="status pending">Not tested</span>
            </div>
            <div class="feature-card">
                <div class="feature-title">DataSelector</div>
                <p>Checkbox interface for data type selection</p>
                <span id="data-status" class="status pending">Not tested</span>
            </div>
            <div class="feature-card">
                <div class="feature-title">ExportFilters</div>
                <p>Simplified filter controls with presets</p>
                <span id="filters-status" class="status pending">Not tested</span>
            </div>
            <div class="feature-card">
                <div class="feature-title">ExportPreview</div>
                <p>Summary card with estimates and validation</p>
                <span id="preview-status" class="status pending">Not tested</span>
            </div>
            <div class="feature-card">
                <div class="feature-title">Chart Export Utilities</div>
                <p>HTML2Canvas integration for visualizations</p>
                <span id="chart-status" class="status pending">Not tested</span>
            </div>
        </div>
    </div>

    <div class="test-section">
        <h2 class="test-title">‚ôø Accessibility Features</h2>
        <div class="test-item">
            <strong>Skip-to-content link:</strong> <span id="skip-status" class="status pending">Not tested</span>
        </div>
        <div class="test-item">
            <strong>ARIA live regions:</strong> <span id="aria-live-status" class="status pending">Not tested</span>
        </div>
        <div class="test-item">
            <strong>ARIA labels:</strong> <span id="aria-label-status" class="status pending">Not tested</span>
        </div>
        <div class="test-item">
            <strong>Loading skeletons:</strong> <span id="skeleton-status" class="status pending">Not tested</span>
        </div>
    </div>

    <div class="test-section">
        <h2 class="test-title">‚ö° Performance Features</h2>
        <div class="test-item">
            <strong>Code splitting:</strong> <span id="code-split-status" class="status pending">Not tested</span>
        </div>
        <div class="test-item">
            <strong>Image lazy loading:</strong> <span id="lazy-load-status" class="status pending">Not tested</span>
        </div>
        <div class="test-item">
            <strong>Image compression:</strong> <span id="compression-status" class="status pending">Not tested</span>
        </div>
    </div>

    <div class="test-section">
        <h2 class="test-title">üß™ Manual Test Instructions</h2>
        <div class="test-item">
            <strong>1. Navigate to the site:</strong>
            <button class="test-button" onclick="window.open('https://cacustodialcommand.up.railway.app', '_blank')">Open Production Site</button>
            <button class="test-button" onclick="window.open('http://localhost:5000', '_blank')">Open Local Site</button>
        </div>
        <div class="test-item">
            <strong>2. Test PDF Export Wizard:</strong>
            <ol>
                <li>Go to "Data & Reports" page</li>
                <li>Click "Export PDF Report" button</li>
                <li>Test all 4 steps of the wizard</li>
                <li>Try different report types</li>
                <li>Test filtering options</li>
                <li>Generate a PDF report</li>
            </ol>
        </div>
        <div class="test-item">
            <strong>3. Test Accessibility:</strong>
            <ol>
                <li>Use Tab key to navigate</li>
                <li>Test skip-to-content link</li>
                <li>Verify ARIA labels are present</li>
                <li>Check loading states</li>
            </ol>
        </div>
        <div class="test-item">
            <strong>4. Test Performance:</strong>
            <ol>
                <li>Check page load speed</li>
                <li>Test image lazy loading</li>
                <li>Verify code splitting works</li>
                <li>Test on mobile device</li>
            </ol>
        </div>
    </div>

    <div class="results" id="results" style="display: none;">
        <h3>üìä Test Results Summary</h3>
        <div id="results-content"></div>
    </div>

    <script>
        async function testProductionSite() {
            const status = document.getElementById('prod-status');
            status.textContent = 'Testing...';
            status.className = 'status pending';
            
            try {
                const response = await fetch('https://cacustodialcommand.up.railway.app', {
                    method: 'HEAD',
                    mode: 'no-cors'
                });
                status.textContent = 'Online';
                status.className = 'status pass';
            } catch (error) {
                status.textContent = 'Error';
                status.className = 'status fail';
            }
        }

        async function testLocalSite() {
            const status = document.getElementById('local-status');
            status.textContent = 'Testing...';
            status.className = 'status pending';
            
            try {
                const response = await fetch('http://localhost:5000', {
                    method: 'HEAD',
                    mode: 'no-cors'
                });
                status.textContent = 'Online';
                status.className = 'status pass';
            } catch (error) {
                status.textContent = 'Error';
                status.className = 'status fail';
            }
        }

        function updateTestResults() {
            const results = document.getElementById('results');
            const content = document.getElementById('results-content');
            
            const statuses = document.querySelectorAll('.status');
            let passCount = 0;
            let totalCount = 0;
            
            statuses.forEach(status => {
                if (status.textContent !== 'Not tested' && status.textContent !== 'Testing...') {
                    totalCount++;
                    if (status.className.includes('pass')) {
                        passCount++;
                    }
                }
            });
            
            const percentage = totalCount > 0 ? Math.round((passCount / totalCount) * 100) : 0;
            
            content.innerHTML = `
                <p><strong>Tests Passed:</strong> ${passCount}/${totalCount}</p>
                <p><strong>Success Rate:</strong> ${percentage}%</p>
                <p><strong>Status:</strong> ${percentage >= 90 ? 'üèÜ Excellent' : percentage >= 75 ? '‚úÖ Good' : percentage >= 60 ? '‚ö†Ô∏è Fair' : '‚ùå Needs Work'}</p>
            `;
            
            results.style.display = 'block';
        }

        // Auto-update results every 5 seconds
        setInterval(updateTestResults, 5000);
        
        // Initial test
        testProductionSite();
        testLocalSite();
    </script>
</body>
</html>
